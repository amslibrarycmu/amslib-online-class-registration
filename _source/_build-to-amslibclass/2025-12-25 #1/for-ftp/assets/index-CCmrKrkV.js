(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))i(f);new MutationObserver(f=>{for(const g of f)if(g.type==="childList")for(const v of g.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function m(f){const g={};return f.integrity&&(g.integrity=f.integrity),f.referrerPolicy&&(g.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?g.credentials="include":f.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function i(f){if(f.ep)return;f.ep=!0;const g=m(f);fetch(f.href,g)}})();function Dd(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var ji={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function bg(){if(md)return be;md=1;var c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),T=Symbol.iterator;function A(E){return E===null||typeof E!="object"?null:(E=T&&E[T]||E["@@iterator"],typeof E=="function"?E:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,G={};function z(E,R,P){this.props=E,this.context=R,this.refs=G,this.updater=P||D}z.prototype.isReactComponent={},z.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function q(){}q.prototype=z.prototype;function k(E,R,P){this.props=E,this.context=R,this.refs=G,this.updater=P||D}var ae=k.prototype=new q;ae.constructor=k,B(ae,z.prototype),ae.isPureReactComponent=!0;var ee=Array.isArray;function I(){}var Q={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function le(E,R,P){var j=P.ref;return{$$typeof:c,type:E,key:R,ref:j!==void 0?j:null,props:P}}function se(E,R){return le(E.type,R,E.props)}function re(E){return typeof E=="object"&&E!==null&&E.$$typeof===c}function fe(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(P){return R[P]})}var Y=/\/+/g;function ne(E,R){return typeof E=="object"&&E!==null&&E.key!=null?fe(""+E.key):R.toString(36)}function ye(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(I,I):(E.status="pending",E.then(function(R){E.status==="pending"&&(E.status="fulfilled",E.value=R)},function(R){E.status==="pending"&&(E.status="rejected",E.reason=R)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function U(E,R,P,j,ce){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var _e=!1;if(E===null)_e=!0;else switch(de){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(E.$$typeof){case c:case u:_e=!0;break;case w:return _e=E._init,U(_e(E._payload),R,P,j,ce)}}if(_e)return ce=ce(E),_e=j===""?"."+ne(E,0):j,ee(ce)?(P="",_e!=null&&(P=_e.replace(Y,"$&/")+"/"),U(ce,R,P,"",function(ve){return ve})):ce!=null&&(re(ce)&&(ce=se(ce,P+(ce.key==null||E&&E.key===ce.key?"":(""+ce.key).replace(Y,"$&/")+"/")+_e)),R.push(ce)),1;_e=0;var Xe=j===""?".":j+":";if(ee(E))for(var te=0;te<E.length;te++)j=E[te],de=Xe+ne(j,te),_e+=U(j,R,P,de,ce);else if(te=A(E),typeof te=="function")for(E=te.call(E),te=0;!(j=E.next()).done;)j=j.value,de=Xe+ne(j,te++),_e+=U(j,R,P,de,ce);else if(de==="object"){if(typeof E.then=="function")return U(ye(E),R,P,j,ce);throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return _e}function _(E,R,P){if(E==null)return E;var j=[],ce=0;return U(E,j,"","",function(de){return R.call(P,de,ce++)}),j}function F(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(P){(E._status===0||E._status===-1)&&(E._status=1,E._result=P)},function(P){(E._status===0||E._status===-1)&&(E._status=2,E._result=P)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var ie=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},Z={map:_,forEach:function(E,R,P){_(E,function(){R.apply(this,arguments)},P)},count:function(E){var R=0;return _(E,function(){R++}),R},toArray:function(E){return _(E,function(R){return R})||[]},only:function(E){if(!re(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return be.Activity=S,be.Children=Z,be.Component=z,be.Fragment=m,be.Profiler=f,be.PureComponent=k,be.StrictMode=i,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,be.__COMPILER_RUNTIME={__proto__:null,c:function(E){return Q.H.useMemoCache(E)}},be.cache=function(E){return function(){return E.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(E,R,P){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var j=B({},E.props),ce=E.key;if(R!=null)for(de in R.key!==void 0&&(ce=""+R.key),R)!M.call(R,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&R.ref===void 0||(j[de]=R[de]);var de=arguments.length-2;if(de===1)j.children=P;else if(1<de){for(var _e=Array(de),Xe=0;Xe<de;Xe++)_e[Xe]=arguments[Xe+2];j.children=_e}return le(E.type,ce,j)},be.createContext=function(E){return E={$$typeof:v,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:g,_context:E},E},be.createElement=function(E,R,P){var j,ce={},de=null;if(R!=null)for(j in R.key!==void 0&&(de=""+R.key),R)M.call(R,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ce[j]=R[j]);var _e=arguments.length-2;if(_e===1)ce.children=P;else if(1<_e){for(var Xe=Array(_e),te=0;te<_e;te++)Xe[te]=arguments[te+2];ce.children=Xe}if(E&&E.defaultProps)for(j in _e=E.defaultProps,_e)ce[j]===void 0&&(ce[j]=_e[j]);return le(E,de,ce)},be.createRef=function(){return{current:null}},be.forwardRef=function(E){return{$$typeof:b,render:E}},be.isValidElement=re,be.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:F}},be.memo=function(E,R){return{$$typeof:h,type:E,compare:R===void 0?null:R}},be.startTransition=function(E){var R=Q.T,P={};Q.T=P;try{var j=E(),ce=Q.S;ce!==null&&ce(P,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(I,ie)}catch(de){ie(de)}finally{R!==null&&P.types!==null&&(R.types=P.types),Q.T=R}},be.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},be.use=function(E){return Q.H.use(E)},be.useActionState=function(E,R,P){return Q.H.useActionState(E,R,P)},be.useCallback=function(E,R){return Q.H.useCallback(E,R)},be.useContext=function(E){return Q.H.useContext(E)},be.useDebugValue=function(){},be.useDeferredValue=function(E,R){return Q.H.useDeferredValue(E,R)},be.useEffect=function(E,R){return Q.H.useEffect(E,R)},be.useEffectEvent=function(E){return Q.H.useEffectEvent(E)},be.useId=function(){return Q.H.useId()},be.useImperativeHandle=function(E,R,P){return Q.H.useImperativeHandle(E,R,P)},be.useInsertionEffect=function(E,R){return Q.H.useInsertionEffect(E,R)},be.useLayoutEffect=function(E,R){return Q.H.useLayoutEffect(E,R)},be.useMemo=function(E,R){return Q.H.useMemo(E,R)},be.useOptimistic=function(E,R){return Q.H.useOptimistic(E,R)},be.useReducer=function(E,R,P){return Q.H.useReducer(E,R,P)},be.useRef=function(E){return Q.H.useRef(E)},be.useState=function(E){return Q.H.useState(E)},be.useSyncExternalStore=function(E,R,P){return Q.H.useSyncExternalStore(E,R,P)},be.useTransition=function(){return Q.H.useTransition()},be.version="19.2.0",be}var fd;function tu(){return fd||(fd=1,ji.exports=bg()),ji.exports}var d=tu();const n=Dd(d);var Bi={exports:{}},Fn={},qi={exports:{}},Vi={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function xg(){return dd||(dd=1,(function(c){function u(U,_){var F=U.length;U.push(_);e:for(;0<F;){var ie=F-1>>>1,Z=U[ie];if(0<f(Z,_))U[ie]=_,U[F]=Z,F=ie;else break e}}function m(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var _=U[0],F=U.pop();if(F!==_){U[0]=F;e:for(var ie=0,Z=U.length,E=Z>>>1;ie<E;){var R=2*(ie+1)-1,P=U[R],j=R+1,ce=U[j];if(0>f(P,F))j<Z&&0>f(ce,P)?(U[ie]=ce,U[j]=F,ie=j):(U[ie]=P,U[R]=F,ie=R);else if(j<Z&&0>f(ce,F))U[ie]=ce,U[j]=F,ie=j;else break e}}return _}function f(U,_){var F=U.sortIndex-_.sortIndex;return F!==0?F:U.id-_.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;c.unstable_now=function(){return g.now()}}else{var v=Date,b=v.now();c.unstable_now=function(){return v.now()-b}}var y=[],h=[],w=1,S=null,T=3,A=!1,D=!1,B=!1,G=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function ae(U){for(var _=m(h);_!==null;){if(_.callback===null)i(h);else if(_.startTime<=U)i(h),_.sortIndex=_.expirationTime,u(y,_);else break;_=m(h)}}function ee(U){if(B=!1,ae(U),!D)if(m(y)!==null)D=!0,I||(I=!0,fe());else{var _=m(h);_!==null&&ye(ee,_.startTime-U)}}var I=!1,Q=-1,M=5,le=-1;function se(){return G?!0:!(c.unstable_now()-le<M)}function re(){if(G=!1,I){var U=c.unstable_now();le=U;var _=!0;try{e:{D=!1,B&&(B=!1,q(Q),Q=-1),A=!0;var F=T;try{t:{for(ae(U),S=m(y);S!==null&&!(S.expirationTime>U&&se());){var ie=S.callback;if(typeof ie=="function"){S.callback=null,T=S.priorityLevel;var Z=ie(S.expirationTime<=U);if(U=c.unstable_now(),typeof Z=="function"){S.callback=Z,ae(U),_=!0;break t}S===m(y)&&i(y),ae(U)}else i(y);S=m(y)}if(S!==null)_=!0;else{var E=m(h);E!==null&&ye(ee,E.startTime-U),_=!1}}break e}finally{S=null,T=F,A=!1}_=void 0}}finally{_?fe():I=!1}}}var fe;if(typeof k=="function")fe=function(){k(re)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ne=Y.port2;Y.port1.onmessage=re,fe=function(){ne.postMessage(null)}}else fe=function(){z(re,0)};function ye(U,_){Q=z(function(){U(c.unstable_now())},_)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(U){U.callback=null},c.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},c.unstable_getCurrentPriorityLevel=function(){return T},c.unstable_next=function(U){switch(T){case 1:case 2:case 3:var _=3;break;default:_=T}var F=T;T=_;try{return U()}finally{T=F}},c.unstable_requestPaint=function(){G=!0},c.unstable_runWithPriority=function(U,_){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=T;T=U;try{return _()}finally{T=F}},c.unstable_scheduleCallback=function(U,_,F){var ie=c.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ie+F:ie):F=ie,U){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=F+Z,U={id:w++,callback:_,priorityLevel:U,startTime:F,expirationTime:Z,sortIndex:-1},F>ie?(U.sortIndex=F,u(h,U),m(y)===null&&U===m(h)&&(B?(q(Q),Q=-1):B=!0,ye(ee,F-ie))):(U.sortIndex=Z,u(y,U),D||A||(D=!0,I||(I=!0,fe()))),U},c.unstable_shouldYield=se,c.unstable_wrapCallback=function(U){var _=T;return function(){var F=T;T=_;try{return U.apply(this,arguments)}finally{T=F}}}})(Vi)),Vi}var pd;function wg(){return pd||(pd=1,qi.exports=xg()),qi.exports}var Yi={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd;function Sg(){if(gd)return dt;gd=1;var c=tu();function u(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)h+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var i={d:{f:m,r:function(){throw Error(u(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},f=Symbol.for("react.portal");function g(y,h,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:S==null?null:""+S,children:y,containerInfo:h,implementation:w}}var v=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dt.createPortal=function(y,h){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(u(299));return g(y,h,null,w)},dt.flushSync=function(y){var h=v.T,w=i.p;try{if(v.T=null,i.p=2,y)return y()}finally{v.T=h,i.p=w,i.d.f()}},dt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(y,h))},dt.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},dt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var w=h.as,S=b(w,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;w==="style"?i.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:T,fetchPriority:A}):w==="script"&&i.d.X(y,{crossOrigin:S,integrity:T,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},dt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var w=b(h.as,h.crossOrigin);i.d.M(y,{crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(y)},dt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var w=h.as,S=b(w,h.crossOrigin);i.d.L(y,w,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},dt.preloadModule=function(y,h){if(typeof y=="string")if(h){var w=b(h.as,h.crossOrigin);i.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:w,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(y)},dt.requestFormReset=function(y){i.d.r(y)},dt.unstable_batchedUpdates=function(y,h){return y(h)},dt.useFormState=function(y,h,w){return v.H.useFormState(y,h,w)},dt.useFormStatus=function(){return v.H.useHostTransitionStatus()},dt.version="19.2.0",dt}var hd;function Ng(){if(hd)return Yi.exports;hd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(u){console.error(u)}}return c(),Yi.exports=Sg(),Yi.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function _g(){if(yd)return Fn;yd=1;var c=wg(),u=tu(),m=Ng();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function v(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(g(e)!==e)throw Error(i(188))}function h(e){var t=e.alternate;if(!t){if(t=g(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,l=t;;){var r=a.return;if(r===null)break;var s=r.alternate;if(s===null){if(l=r.return,l!==null){a=l;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===a)return y(r),e;if(s===l)return y(r),t;s=s.sibling}throw Error(i(188))}if(a.return!==l.return)a=r,l=s;else{for(var o=!1,p=r.child;p;){if(p===a){o=!0,a=r,l=s;break}if(p===l){o=!0,l=r,a=s;break}p=p.sibling}if(!o){for(p=s.child;p;){if(p===a){o=!0,a=s,l=r;break}if(p===l){o=!0,l=s,a=r;break}p=p.sibling}if(!o)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),k=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function fe(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case z:return"Profiler";case G:return"StrictMode";case ee:return"Suspense";case I:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case k:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:ne(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return ne(e(t))}catch{}}return null}var ye=Array.isArray,U=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ie=[],Z=-1;function E(e){return{current:e}}function R(e){0>Z||(e.current=ie[Z],ie[Z]=null,Z--)}function P(e,t){Z++,ie[Z]=e.current,e.current=t}var j=E(null),ce=E(null),de=E(null),_e=E(null);function Xe(e,t){switch(P(de,t),P(ce,e),P(j,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Lf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Lf(t),e=kf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(j),P(j,e)}function te(){R(j),R(ce),R(de)}function ve(e){e.memoizedState!==null&&P(_e,e);var t=j.current,a=kf(t,e.type);t!==a&&(P(ce,e),P(j,a))}function Ye(e){ce.current===e&&(R(j),R(ce)),_e.current===e&&(R(_e),Zn._currentValue=F)}var $,xe;function ge(e){if($===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||"",xe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$+e+xe}var Ne=!1;function W(e,t){if(!e||Ne)return"";Ne=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var H=V}Reflect.construct(e,[],J)}else{try{J.call()}catch(V){H=V}e.call(J.prototype)}}else{try{throw Error()}catch(V){H=V}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&H&&typeof V.stack=="string")return[V.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),o=s[0],p=s[1];if(o&&p){var x=o.split(`
`),L=p.split(`
`);for(r=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;r<L.length&&!L[r].includes("DetermineComponentFrameRoot");)r++;if(l===x.length||r===L.length)for(l=x.length-1,r=L.length-1;1<=l&&0<=r&&x[l]!==L[r];)r--;for(;1<=l&&0<=r;l--,r--)if(x[l]!==L[r]){if(l!==1||r!==1)do if(l--,r--,0>r||x[l]!==L[r]){var X=`
`+x[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=r);break}}}finally{Ne=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ge(a):""}function ue(e,t){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return e.child!==t&&t!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return W(e.type,!1);case 11:return W(e.type.render,!1);case 1:return W(e.type,!0);case 31:return ge("Activity");default:return""}}function Ee(e){try{var t="",a=null;do t+=ue(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Me=Object.prototype.hasOwnProperty,ke=c.unstable_scheduleCallback,at=c.unstable_cancelCallback,kt=c.unstable_shouldYield,Na=c.unstable_requestPaint,pt=c.unstable_now,ft=c.unstable_getCurrentPriorityLevel,pl=c.unstable_ImmediatePriority,Ns=c.unstable_UserBlockingPriority,$t=c.unstable_NormalPriority,_s=c.unstable_LowPriority,fu=c.unstable_IdlePriority,a0=c.log,l0=c.unstable_setDisableYieldValue,ln=null,Ct=null;function _a(e){if(typeof a0=="function"&&l0(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(ln,e)}catch{}}var Tt=Math.clz32?Math.clz32:s0,n0=Math.log,r0=Math.LN2;function s0(e){return e>>>=0,e===0?32:31-(n0(e)/r0|0)|0}var tr=256,ar=262144,lr=4194304;function Fa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function nr(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var p=l&134217727;return p!==0?(l=p&~s,l!==0?r=Fa(l):(o&=p,o!==0?r=Fa(o):a||(a=p&~e,a!==0&&(r=Fa(a))))):(p=l&~s,p!==0?r=Fa(p):o!==0?r=Fa(o):a||(a=l&~e,a!==0&&(r=Fa(a)))),r===0?0:t!==0&&t!==r&&(t&s)===0&&(s=r&-r,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:r}function nn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function c0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function du(){var e=lr;return lr<<=1,(lr&62914560)===0&&(lr=4194304),e}function Cs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function rn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function i0(e,t,a,l,r,s){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var p=e.entanglements,x=e.expirationTimes,L=e.hiddenUpdates;for(a=o&~a;0<a;){var X=31-Tt(a),J=1<<X;p[X]=0,x[X]=-1;var H=L[X];if(H!==null)for(L[X]=null,X=0;X<H.length;X++){var V=H[X];V!==null&&(V.lane&=-536870913)}a&=~J}l!==0&&pu(e,l,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(o&~t))}function pu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Tt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function gu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Tt(a),r=1<<l;r&t|e[l]&t&&(e[l]|=t),a&=~r}}function hu(e,t){var a=t&-t;return a=(a&42)!==0?1:Ts(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function As(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yu(){var e=_.p;return e!==0?e:(e=window.event,e===void 0?32:nd(e.type))}function vu(e,t){var a=_.p;try{return _.p=e,t()}finally{_.p=a}}var Ca=Math.random().toString(36).slice(2),ct="__reactFiber$"+Ca,yt="__reactProps$"+Ca,gl="__reactContainer$"+Ca,zs="__reactEvents$"+Ca,u0="__reactListeners$"+Ca,o0="__reactHandles$"+Ca,Eu="__reactResources$"+Ca,sn="__reactMarker$"+Ca;function Rs(e){delete e[ct],delete e[yt],delete e[zs],delete e[u0],delete e[o0]}function hl(e){var t=e[ct];if(t)return t;for(var a=e.parentNode;a;){if(t=a[gl]||a[ct]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Yf(e);e!==null;){if(a=e[ct])return a;e=Yf(e)}return t}e=a,a=e.parentNode}return null}function yl(e){if(e=e[ct]||e[gl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function cn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function vl(e){var t=e[Eu];return t||(t=e[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[sn]=!0}var bu=new Set,xu={};function Wa(e,t){El(e,t),El(e+"Capture",t)}function El(e,t){for(xu[e]=t,e=0;e<t.length;e++)bu.add(t[e])}var m0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},Su={};function f0(e){return Me.call(Su,e)?!0:Me.call(wu,e)?!1:m0.test(e)?Su[e]=!0:(wu[e]=!0,!1)}function rr(e,t,a){if(f0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function sr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function na(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function d0(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var r=l.get,s=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){a=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){if(!e._valueTracker){var t=Nu(e)?"checked":"value";e._valueTracker=d0(e,t,""+e[t])}}function _u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Nu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function cr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var p0=/[\n"\\]/g;function Ht(e){return e.replace(p0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ds(e,t,a,l,r,s,o,p){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Os(e,o,Ut(t)):a!=null?Os(e,o,Ut(a)):l!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Ut(p):e.removeAttribute("name")}function Cu(e,t,a,l,r,s,o,p){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Ms(e);return}a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,p||t===e.value||(e.value=t),e.defaultValue=t}l=l??r,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=p?e.checked:!!l,e.defaultChecked=!!l,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Ms(e)}function Os(e,t,a){t==="number"&&cr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bl(e,t,a,l){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,l&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Tu(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function Au(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(i(92));if(ye(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Ms(e)}function xl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var g0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||g0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ru(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var r in t)l=t[r],t.hasOwnProperty(r)&&a[r]!==l&&zu(e,r,l)}else for(var s in t)t.hasOwnProperty(s)&&zu(e,s,t[s])}function Ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var h0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ir(e){return y0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ra(){}var ks=null;function Us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wl=null,Sl=null;function Mu(e){var t=yl(e);if(t&&(e=t.stateNode)){var a=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ds(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var r=l[yt]||null;if(!r)throw Error(i(90));Ds(l,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&_u(l)}break e;case"textarea":Tu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&bl(e,!!a.multiple,t,!1)}}}var Hs=!1;function Du(e,t,a){if(Hs)return e(t,a);Hs=!0;try{var l=e(t);return l}finally{if(Hs=!1,(wl!==null||Sl!==null)&&(Jr(),wl&&(t=wl,e=Sl,Sl=wl=null,Mu(t),e)))for(t=0;t<e.length;t++)Mu(e[t])}}function un(e,t){var a=e.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),js=!1;if(sa)try{var on={};Object.defineProperty(on,"passive",{get:function(){js=!0}}),window.addEventListener("test",on,on),window.removeEventListener("test",on,on)}catch{js=!1}var Ta=null,Bs=null,ur=null;function Ou(){if(ur)return ur;var e,t=Bs,a=t.length,l,r="value"in Ta?Ta.value:Ta.textContent,s=r.length;for(e=0;e<a&&t[e]===r[e];e++);var o=a-e;for(l=1;l<=o&&t[a-l]===r[s-l];l++);return ur=r.slice(e,1<l?1-l:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mr(){return!0}function Lu(){return!1}function vt(e){function t(a,l,r,s,o){this._reactName=a,this._targetInst=r,this.type=l,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(a=e[p],this[p]=a?a(s):s[p]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mr:Lu,this.isPropagationStopped=Lu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),t}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=vt(Ia),mn=S({},Ia,{view:0,detail:0}),v0=vt(mn),qs,Vs,fn,dr=S({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&e.type==="mousemove"?(qs=e.screenX-fn.screenX,Vs=e.screenY-fn.screenY):Vs=qs=0,fn=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:Vs}}),ku=vt(dr),E0=S({},dr,{dataTransfer:0}),b0=vt(E0),x0=S({},mn,{relatedTarget:0}),Ys=vt(x0),w0=S({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),S0=vt(w0),N0=S({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_0=vt(N0),C0=S({},Ia,{data:0}),Uu=vt(C0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z0[e])?!!t[e]:!1}function Gs(){return R0}var M0=S({},mn,{key:function(e){if(e.key){var t=T0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?A0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),D0=vt(M0),O0=S({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=vt(O0),L0=S({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),k0=vt(L0),U0=S({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),H0=vt(U0),j0=S({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B0=vt(j0),q0=S({},Ia,{newState:0,oldState:0}),V0=vt(q0),Y0=[9,13,27,32],Qs=sa&&"CompositionEvent"in window,dn=null;sa&&"documentMode"in document&&(dn=document.documentMode);var G0=sa&&"TextEvent"in window&&!dn,ju=sa&&(!Qs||dn&&8<dn&&11>=dn),Bu=" ",qu=!1;function Vu(e,t){switch(e){case"keyup":return Y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nl=!1;function Q0(e,t){switch(e){case"compositionend":return Yu(t);case"keypress":return t.which!==32?null:(qu=!0,Bu);case"textInput":return e=t.data,e===Bu&&qu?null:e;default:return null}}function X0(e,t){if(Nl)return e==="compositionend"||!Qs&&Vu(e,t)?(e=Ou(),ur=Bs=Ta=null,Nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ju&&t.locale!=="ko"?null:t.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Z0[e.type]:t==="textarea"}function Qu(e,t,a,l){wl?Sl?Sl.push(l):Sl=[l]:wl=l,t=as(t,"onChange"),0<t.length&&(a=new fr("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var pn=null,gn=null;function $0(e){Af(e,0)}function pr(e){var t=cn(e);if(_u(t))return e}function Xu(e,t){if(e==="change")return t}var Zu=!1;if(sa){var Xs;if(sa){var Zs="oninput"in document;if(!Zs){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Zs=typeof $u.oninput=="function"}Xs=Zs}else Xs=!1;Zu=Xs&&(!document.documentMode||9<document.documentMode)}function Ku(){pn&&(pn.detachEvent("onpropertychange",Ju),gn=pn=null)}function Ju(e){if(e.propertyName==="value"&&pr(gn)){var t=[];Qu(t,gn,e,Us(e)),Du($0,t)}}function K0(e,t,a){e==="focusin"?(Ku(),pn=t,gn=a,pn.attachEvent("onpropertychange",Ju)):e==="focusout"&&Ku()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pr(gn)}function F0(e,t){if(e==="click")return pr(t)}function W0(e,t){if(e==="input"||e==="change")return pr(t)}function I0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:I0;function hn(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var r=a[l];if(!Me.call(t,r)||!At(e[r],t[r]))return!1}return!0}function Fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,t){var a=Fu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fu(a)}}function Iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=cr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=cr(e.document)}return t}function $s(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var P0=sa&&"documentMode"in document&&11>=document.documentMode,_l=null,Ks=null,yn=null,Js=!1;function eo(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Js||_l==null||_l!==cr(l)||(l=_l,"selectionStart"in l&&$s(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yn&&hn(yn,l)||(yn=l,l=as(Ks,"onSelect"),0<l.length&&(t=new fr("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=_l)))}function Pa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Cl={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},Fs={},to={};sa&&(to=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function el(e){if(Fs[e])return Fs[e];if(!Cl[e])return e;var t=Cl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in to)return Fs[e]=t[a];return e}var ao=el("animationend"),lo=el("animationiteration"),no=el("animationstart"),ep=el("transitionrun"),tp=el("transitionstart"),ap=el("transitioncancel"),ro=el("transitionend"),so=new Map,Ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ws.push("scrollEnd");function Kt(e,t){so.set(e,t),Wa(t,[e])}var gr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jt=[],Tl=0,Is=0;function hr(){for(var e=Tl,t=Is=Tl=0;t<e;){var a=jt[t];jt[t++]=null;var l=jt[t];jt[t++]=null;var r=jt[t];jt[t++]=null;var s=jt[t];if(jt[t++]=null,l!==null&&r!==null){var o=l.pending;o===null?r.next=r:(r.next=o.next,o.next=r),l.pending=r}s!==0&&co(a,r,s)}}function yr(e,t,a,l){jt[Tl++]=e,jt[Tl++]=t,jt[Tl++]=a,jt[Tl++]=l,Is|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ps(e,t,a,l){return yr(e,t,a,l),vr(e)}function tl(e,t){return yr(e,null,null,t),vr(e)}function co(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var r=!1,s=e.return;s!==null;)s.childLanes|=a,l=s.alternate,l!==null&&(l.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-Tt(a),e=s.hiddenUpdates,l=e[r],l===null?e[r]=[t]:l.push(t),t.lane=a|536870912),s):null}function vr(e){if(50<Bn)throw Bn=0,ii=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Al={};function lp(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,a,l){return new lp(e,t,a,l)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ca(e,t){var a=e.alternate;return a===null?(a=zt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function io(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Er(e,t,a,l,r,s){var o=0;if(l=e,typeof e=="function")ec(e)&&(o=1);else if(typeof e=="string")o=ig(e,a,j.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=zt(31,a,t,r),e.elementType=le,e.lanes=s,e;case B:return al(a.children,r,s,t);case G:o=8,r|=24;break;case z:return e=zt(12,a,t,r|2),e.elementType=z,e.lanes=s,e;case ee:return e=zt(13,a,t,r),e.elementType=ee,e.lanes=s,e;case I:return e=zt(19,a,t,r),e.elementType=I,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:o=10;break e;case q:o=9;break e;case ae:o=11;break e;case Q:o=14;break e;case M:o=16,l=null;break e}o=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=zt(o,a,t,r),t.elementType=e,t.type=l,t.lanes=s,t}function al(e,t,a,l){return e=zt(7,e,l,t),e.lanes=a,e}function tc(e,t,a){return e=zt(6,e,null,t),e.lanes=a,e}function uo(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function ac(e,t,a){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var oo=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var a=oo.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ee(t)},oo.set(e,t),t)}return{value:e,source:t,stack:Ee(t)}}var zl=[],Rl=0,br=null,vn=0,qt=[],Vt=0,Aa=null,Pt=1,ea="";function ia(e,t){zl[Rl++]=vn,zl[Rl++]=br,br=e,vn=t}function mo(e,t,a){qt[Vt++]=Pt,qt[Vt++]=ea,qt[Vt++]=Aa,Aa=e;var l=Pt;e=ea;var r=32-Tt(l)-1;l&=~(1<<r),a+=1;var s=32-Tt(t)+r;if(30<s){var o=r-r%5;s=(l&(1<<o)-1).toString(32),l>>=o,r-=o,Pt=1<<32-Tt(t)+r|a<<r|l,ea=s+e}else Pt=1<<s|a<<r|l,ea=e}function lc(e){e.return!==null&&(ia(e,1),mo(e,1,0))}function nc(e){for(;e===br;)br=zl[--Rl],zl[Rl]=null,vn=zl[--Rl],zl[Rl]=null;for(;e===Aa;)Aa=qt[--Vt],qt[Vt]=null,ea=qt[--Vt],qt[Vt]=null,Pt=qt[--Vt],qt[Vt]=null}function fo(e,t){qt[Vt++]=Pt,qt[Vt++]=ea,qt[Vt++]=Aa,Pt=t.id,ea=t.overflow,Aa=e}var it=null,Ge=null,Re=!1,za=null,Yt=!1,rc=Error(i(519));function Ra(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw En(Bt(t,e)),rc}function po(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ct]=e,t[yt]=l,a){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(a=0;a<Vn.length;a++)Te(Vn[a],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Cu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Au(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Df(t.textContent,a)?(l.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),l.onScroll!=null&&Te("scroll",t),l.onScrollEnd!=null&&Te("scrollend",t),l.onClick!=null&&(t.onclick=ra),t=!0):t=!1,t||Ra(e,!0)}function go(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:it=it.return}}function Ml(e){if(e!==it)return!1;if(!Re)return go(e),Re=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Si(e.type,e.memoizedProps)),a=!a),a&&Ge&&Ra(e),go(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=Vf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=Vf(e)}else t===27?(t=Ge,Qa(e.type)?(e=Ai,Ai=null,Ge=e):Ge=t):Ge=it?Qt(e.stateNode.nextSibling):null;return!0}function ll(){Ge=it=null,Re=!1}function sc(){var e=za;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),za=null),e}function En(e){za===null?za=[e]:za.push(e)}var cc=E(null),nl=null,ua=null;function Ma(e,t,a){P(cc,t._currentValue),t._currentValue=a}function oa(e){e._currentValue=cc.current,R(cc)}function ic(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function uc(e,t,a,l){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var o=r.child;s=s.firstContext;e:for(;s!==null;){var p=s;s=r;for(var x=0;x<t.length;x++)if(p.context===t[x]){s.lanes|=a,p=s.alternate,p!==null&&(p.lanes|=a),ic(s.return,a,e),l||(o=null);break e}s=p.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(i(341));o.lanes|=a,s=o.alternate,s!==null&&(s.lanes|=a),ic(o,a,e),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function Dl(e,t,a,l){e=null;for(var r=t,s=!1;r!==null;){if(!s){if((r.flags&524288)!==0)s=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(i(387));if(o=o.memoizedProps,o!==null){var p=r.type;At(r.pendingProps.value,o.value)||(e!==null?e.push(p):e=[p])}}else if(r===_e.current){if(o=r.alternate,o===null)throw Error(i(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Zn):e=[Zn])}r=r.return}e!==null&&uc(t,e,a,l),t.flags|=262144}function xr(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function rl(e){nl=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return ho(nl,e)}function wr(e,t){return nl===null&&rl(e),ho(e,t)}function ho(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(i(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var np=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},rp=c.unstable_scheduleCallback,sp=c.unstable_NormalPriority,Ie={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new np,data:new Map,refCount:0}}function bn(e){e.refCount--,e.refCount===0&&rp(sp,function(){e.controller.abort()})}var xn=null,mc=0,Ol=0,Ll=null;function cp(e,t){if(xn===null){var a=xn=[];mc=0,Ol=pi(),Ll={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mc++,t.then(yo,yo),t}function yo(){if(--mc===0&&xn!==null){Ll!==null&&(Ll.status="fulfilled");var e=xn;xn=null,Ol=0,Ll=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ip(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(l.status="rejected",l.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),l}var vo=U.S;U.S=function(e,t){tf=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cp(e,t),vo!==null&&vo(e,t)};var sl=E(null);function fc(){var e=sl.current;return e!==null?e:Ve.pooledCache}function Sr(e,t){t===null?P(sl,sl.current):P(sl,t.pool)}function Eo(){var e=fc();return e===null?null:{parent:Ie._currentValue,pool:e}}var kl=Error(i(460)),dc=Error(i(474)),Nr=Error(i(542)),_r={then:function(){}};function bo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xo(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ra,ra),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,So(e),e;default:if(typeof t.status=="string")t.then(ra,ra);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=l}},function(l){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,So(e),e}throw il=t,kl}}function cl(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(il=a,kl):a}}var il=null;function wo(){if(il===null)throw Error(i(459));var e=il;return il=null,e}function So(e){if(e===kl||e===Nr)throw Error(i(483))}var Ul=null,wn=0;function Cr(e){var t=wn;return wn+=1,Ul===null&&(Ul=[]),xo(Ul,e,t)}function Sn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tr(e,t){throw t.$$typeof===T?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function No(e){function t(C,N){if(e){var O=C.deletions;O===null?(C.deletions=[N],C.flags|=16):O.push(N)}}function a(C,N){if(!e)return null;for(;N!==null;)t(C,N),N=N.sibling;return null}function l(C){for(var N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function r(C,N){return C=ca(C,N),C.index=0,C.sibling=null,C}function s(C,N,O){return C.index=O,e?(O=C.alternate,O!==null?(O=O.index,O<N?(C.flags|=67108866,N):O):(C.flags|=67108866,N)):(C.flags|=1048576,N)}function o(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function p(C,N,O,K){return N===null||N.tag!==6?(N=tc(O,C.mode,K),N.return=C,N):(N=r(N,O),N.return=C,N)}function x(C,N,O,K){var pe=O.type;return pe===B?X(C,N,O.props.children,K,O.key):N!==null&&(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===M&&cl(pe)===N.type)?(N=r(N,O.props),Sn(N,O),N.return=C,N):(N=Er(O.type,O.key,O.props,null,C.mode,K),Sn(N,O),N.return=C,N)}function L(C,N,O,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==O.containerInfo||N.stateNode.implementation!==O.implementation?(N=ac(O,C.mode,K),N.return=C,N):(N=r(N,O.children||[]),N.return=C,N)}function X(C,N,O,K,pe){return N===null||N.tag!==7?(N=al(O,C.mode,K,pe),N.return=C,N):(N=r(N,O),N.return=C,N)}function J(C,N,O){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=tc(""+N,C.mode,O),N.return=C,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return O=Er(N.type,N.key,N.props,null,C.mode,O),Sn(O,N),O.return=C,O;case D:return N=ac(N,C.mode,O),N.return=C,N;case M:return N=cl(N),J(C,N,O)}if(ye(N)||fe(N))return N=al(N,C.mode,O,null),N.return=C,N;if(typeof N.then=="function")return J(C,Cr(N),O);if(N.$$typeof===k)return J(C,wr(C,N),O);Tr(C,N)}return null}function H(C,N,O,K){var pe=N!==null?N.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return pe!==null?null:p(C,N,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return O.key===pe?x(C,N,O,K):null;case D:return O.key===pe?L(C,N,O,K):null;case M:return O=cl(O),H(C,N,O,K)}if(ye(O)||fe(O))return pe!==null?null:X(C,N,O,K,null);if(typeof O.then=="function")return H(C,N,Cr(O),K);if(O.$$typeof===k)return H(C,N,wr(C,O),K);Tr(C,O)}return null}function V(C,N,O,K,pe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return C=C.get(O)||null,p(N,C,""+K,pe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return C=C.get(K.key===null?O:K.key)||null,x(N,C,K,pe);case D:return C=C.get(K.key===null?O:K.key)||null,L(N,C,K,pe);case M:return K=cl(K),V(C,N,O,K,pe)}if(ye(K)||fe(K))return C=C.get(O)||null,X(N,C,K,pe,null);if(typeof K.then=="function")return V(C,N,O,Cr(K),pe);if(K.$$typeof===k)return V(C,N,O,wr(N,K),pe);Tr(N,K)}return null}function oe(C,N,O,K){for(var pe=null,De=null,me=N,Se=N=0,ze=null;me!==null&&Se<O.length;Se++){me.index>Se?(ze=me,me=null):ze=me.sibling;var Oe=H(C,me,O[Se],K);if(Oe===null){me===null&&(me=ze);break}e&&me&&Oe.alternate===null&&t(C,me),N=s(Oe,N,Se),De===null?pe=Oe:De.sibling=Oe,De=Oe,me=ze}if(Se===O.length)return a(C,me),Re&&ia(C,Se),pe;if(me===null){for(;Se<O.length;Se++)me=J(C,O[Se],K),me!==null&&(N=s(me,N,Se),De===null?pe=me:De.sibling=me,De=me);return Re&&ia(C,Se),pe}for(me=l(me);Se<O.length;Se++)ze=V(me,C,Se,O[Se],K),ze!==null&&(e&&ze.alternate!==null&&me.delete(ze.key===null?Se:ze.key),N=s(ze,N,Se),De===null?pe=ze:De.sibling=ze,De=ze);return e&&me.forEach(function(Ja){return t(C,Ja)}),Re&&ia(C,Se),pe}function he(C,N,O,K){if(O==null)throw Error(i(151));for(var pe=null,De=null,me=N,Se=N=0,ze=null,Oe=O.next();me!==null&&!Oe.done;Se++,Oe=O.next()){me.index>Se?(ze=me,me=null):ze=me.sibling;var Ja=H(C,me,Oe.value,K);if(Ja===null){me===null&&(me=ze);break}e&&me&&Ja.alternate===null&&t(C,me),N=s(Ja,N,Se),De===null?pe=Ja:De.sibling=Ja,De=Ja,me=ze}if(Oe.done)return a(C,me),Re&&ia(C,Se),pe;if(me===null){for(;!Oe.done;Se++,Oe=O.next())Oe=J(C,Oe.value,K),Oe!==null&&(N=s(Oe,N,Se),De===null?pe=Oe:De.sibling=Oe,De=Oe);return Re&&ia(C,Se),pe}for(me=l(me);!Oe.done;Se++,Oe=O.next())Oe=V(me,C,Se,Oe.value,K),Oe!==null&&(e&&Oe.alternate!==null&&me.delete(Oe.key===null?Se:Oe.key),N=s(Oe,N,Se),De===null?pe=Oe:De.sibling=Oe,De=Oe);return e&&me.forEach(function(Eg){return t(C,Eg)}),Re&&ia(C,Se),pe}function qe(C,N,O,K){if(typeof O=="object"&&O!==null&&O.type===B&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case A:e:{for(var pe=O.key;N!==null;){if(N.key===pe){if(pe=O.type,pe===B){if(N.tag===7){a(C,N.sibling),K=r(N,O.props.children),K.return=C,C=K;break e}}else if(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===M&&cl(pe)===N.type){a(C,N.sibling),K=r(N,O.props),Sn(K,O),K.return=C,C=K;break e}a(C,N);break}else t(C,N);N=N.sibling}O.type===B?(K=al(O.props.children,C.mode,K,O.key),K.return=C,C=K):(K=Er(O.type,O.key,O.props,null,C.mode,K),Sn(K,O),K.return=C,C=K)}return o(C);case D:e:{for(pe=O.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===O.containerInfo&&N.stateNode.implementation===O.implementation){a(C,N.sibling),K=r(N,O.children||[]),K.return=C,C=K;break e}else{a(C,N);break}else t(C,N);N=N.sibling}K=ac(O,C.mode,K),K.return=C,C=K}return o(C);case M:return O=cl(O),qe(C,N,O,K)}if(ye(O))return oe(C,N,O,K);if(fe(O)){if(pe=fe(O),typeof pe!="function")throw Error(i(150));return O=pe.call(O),he(C,N,O,K)}if(typeof O.then=="function")return qe(C,N,Cr(O),K);if(O.$$typeof===k)return qe(C,N,wr(C,O),K);Tr(C,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,N!==null&&N.tag===6?(a(C,N.sibling),K=r(N,O),K.return=C,C=K):(a(C,N),K=tc(O,C.mode,K),K.return=C,C=K),o(C)):a(C,N)}return function(C,N,O,K){try{wn=0;var pe=qe(C,N,O,K);return Ul=null,pe}catch(me){if(me===kl||me===Nr)throw me;var De=zt(29,me,null,C.mode);return De.lanes=K,De.return=C,De}finally{}}}var ul=No(!0),_o=No(!1),Da=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Le&2)!==0){var r=l.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),l.pending=t,t=vr(e),co(e,null,a),t}return yr(e,l,t,a),vr(e)}function Nn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,gu(e,a)}}function hc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var r=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?r=s=o:s=s.next=o,a=a.next}while(a!==null);s===null?r=s=t:s=s.next=t}else r=s=t;a={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var yc=!1;function _n(){if(yc){var e=Ll;if(e!==null)throw e}}function Cn(e,t,a,l){yc=!1;var r=e.updateQueue;Da=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,p=r.shared.pending;if(p!==null){r.shared.pending=null;var x=p,L=x.next;x.next=null,o===null?s=L:o.next=L,o=x;var X=e.alternate;X!==null&&(X=X.updateQueue,p=X.lastBaseUpdate,p!==o&&(p===null?X.firstBaseUpdate=L:p.next=L,X.lastBaseUpdate=x))}if(s!==null){var J=r.baseState;o=0,X=L=x=null,p=s;do{var H=p.lane&-536870913,V=H!==p.lane;if(V?(Ae&H)===H:(l&H)===H){H!==0&&H===Ol&&(yc=!0),X!==null&&(X=X.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var oe=e,he=p;H=t;var qe=a;switch(he.tag){case 1:if(oe=he.payload,typeof oe=="function"){J=oe.call(qe,J,H);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=he.payload,H=typeof oe=="function"?oe.call(qe,J,H):oe,H==null)break e;J=S({},J,H);break e;case 2:Da=!0}}H=p.callback,H!==null&&(e.flags|=64,V&&(e.flags|=8192),V=r.callbacks,V===null?r.callbacks=[H]:V.push(H))}else V={lane:H,tag:p.tag,payload:p.payload,callback:p.callback,next:null},X===null?(L=X=V,x=J):X=X.next=V,o|=H;if(p=p.next,p===null){if(p=r.shared.pending,p===null)break;V=p,p=V.next,V.next=null,r.lastBaseUpdate=V,r.shared.pending=null}}while(!0);X===null&&(x=J),r.baseState=x,r.firstBaseUpdate=L,r.lastBaseUpdate=X,s===null&&(r.shared.lanes=0),Ba|=o,e.lanes=o,e.memoizedState=J}}function Co(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function To(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Co(a[e],t)}var Hl=E(null),Ar=E(0);function Ao(e,t){e=Ea,P(Ar,e),P(Hl,t),Ea=e|t.baseLanes}function vc(){P(Ar,Ea),P(Hl,Hl.current)}function Ec(){Ea=Ar.current,R(Hl),R(Ar)}var Rt=E(null),Gt=null;function ka(e){var t=e.alternate;P(Fe,Fe.current&1),P(Rt,e),Gt===null&&(t===null||Hl.current!==null||t.memoizedState!==null)&&(Gt=e)}function bc(e){P(Fe,Fe.current),P(Rt,e),Gt===null&&(Gt=e)}function zo(e){e.tag===22?(P(Fe,Fe.current),P(Rt,e),Gt===null&&(Gt=e)):Ua()}function Ua(){P(Fe,Fe.current),P(Rt,Rt.current)}function Mt(e){R(Rt),Gt===e&&(Gt=null),R(Fe)}var Fe=E(0);function zr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ci(a)||Ti(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ma=0,we=null,je=null,Pe=null,Rr=!1,jl=!1,ol=!1,Mr=0,Tn=0,Bl=null,up=0;function Ke(){throw Error(i(321))}function xc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!At(e[a],t[a]))return!1;return!0}function wc(e,t,a,l,r,s){return ma=s,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?fm:Hc,ol=!1,s=a(l,r),ol=!1,jl&&(s=Mo(t,a,l,r)),Ro(e),s}function Ro(e){U.H=Rn;var t=je!==null&&je.next!==null;if(ma=0,Pe=je=we=null,Rr=!1,Tn=0,Bl=null,t)throw Error(i(300));e===null||et||(e=e.dependencies,e!==null&&xr(e)&&(et=!0))}function Mo(e,t,a,l){we=e;var r=0;do{if(jl&&(Bl=null),Tn=0,jl=!1,25<=r)throw Error(i(301));if(r+=1,Pe=je=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}U.H=dm,s=t(a,l)}while(jl);return s}function op(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?An(t):t,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(we.flags|=1024),t}function Sc(){var e=Mr!==0;return Mr=0,e}function Nc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function _c(e){if(Rr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rr=!1}ma=0,Pe=je=we=null,jl=!1,Tn=Mr=0,Bl=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?we.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function We(){if(je===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Pe===null?we.memoizedState:Pe.next;if(t!==null)Pe=t,je=e;else{if(e===null)throw we.alternate===null?Error(i(467)):Error(i(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Pe===null?we.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Dr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function An(e){var t=Tn;return Tn+=1,Bl===null&&(Bl=[]),e=xo(Bl,e,t),t=we,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?fm:Hc),e}function Or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return An(e);if(e.$$typeof===k)return ut(e)}throw Error(i(438,String(e)))}function Cc(e){var t=null,a=we.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Dr(),we.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=se;return t.index++,a}function fa(e,t){return typeof t=="function"?t(e):t}function Lr(e){var t=We();return Tc(t,je,e)}function Tc(e,t,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var r=e.baseQueue,s=l.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}t.baseQueue=r=s,l.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var p=o=null,x=null,L=t,X=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(Ae&J)===J:(ma&J)===J){var H=L.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===Ol&&(X=!0);else if((ma&H)===H){L=L.next,H===Ol&&(X=!0);continue}else J={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(p=x=J,o=s):x=x.next=J,we.lanes|=H,Ba|=H;J=L.action,ol&&a(s,J),s=L.hasEagerState?L.eagerState:a(s,J)}else H={lane:J,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(p=x=H,o=s):x=x.next=H,we.lanes|=J,Ba|=J;L=L.next}while(L!==null&&L!==t);if(x===null?o=s:x.next=p,!At(s,e.memoizedState)&&(et=!0,X&&(a=Ll,a!==null)))throw a;e.memoizedState=s,e.baseState=o,e.baseQueue=x,l.lastRenderedState=s}return r===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ac(e){var t=We(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,r=a.pending,s=t.memoizedState;if(r!==null){a.pending=null;var o=r=r.next;do s=e(s,o.action),o=o.next;while(o!==r);At(s,t.memoizedState)||(et=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,l]}function Do(e,t,a){var l=we,r=We(),s=Re;if(s){if(a===void 0)throw Error(i(407));a=a()}else a=t();var o=!At((je||r).memoizedState,a);if(o&&(r.memoizedState=a,et=!0),r=r.queue,Mc(ko.bind(null,l,r,e),[e]),r.getSnapshot!==t||o||Pe!==null&&Pe.memoizedState.tag&1){if(l.flags|=2048,ql(9,{destroy:void 0},Lo.bind(null,l,r,a,t),null),Ve===null)throw Error(i(349));s||(ma&127)!==0||Oo(l,t,a)}return a}function Oo(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=we.updateQueue,t===null?(t=Dr(),we.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Lo(e,t,a,l){t.value=a,t.getSnapshot=l,Uo(t)&&Ho(e)}function ko(e,t,a){return a(function(){Uo(t)&&Ho(e)})}function Uo(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!At(e,a)}catch{return!0}}function Ho(e){var t=tl(e,2);t!==null&&St(t,e,2)}function zc(e){var t=gt();if(typeof e=="function"){var a=e;if(e=a(),ol){_a(!0);try{a()}finally{_a(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function jo(e,t,a,l){return e.baseState=a,Tc(e,je,typeof l=="function"?l:fa)}function mp(e,t,a,l,r){if(Hr(e))throw Error(i(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){s.listeners.push(o)}};U.T!==null?a(!0):s.isTransition=!1,l(s),a=t.pending,a===null?(s.next=t.pending=s,Bo(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Bo(e,t){var a=t.action,l=t.payload,r=e.state;if(t.isTransition){var s=U.T,o={};U.T=o;try{var p=a(r,l),x=U.S;x!==null&&x(o,p),qo(e,t,p)}catch(L){Rc(e,t,L)}finally{s!==null&&o.types!==null&&(s.types=o.types),U.T=s}}else try{s=a(r,l),qo(e,t,s)}catch(L){Rc(e,t,L)}}function qo(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vo(e,t,l)},function(l){return Rc(e,t,l)}):Vo(e,t,a)}function Vo(e,t,a){t.status="fulfilled",t.value=a,Yo(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Bo(e,a)))}function Rc(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Yo(t),t=t.next;while(t!==l)}e.action=null}function Yo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Go(e,t){return t}function Qo(e,t){if(Re){var a=Ve.formState;if(a!==null){e:{var l=we;if(Re){if(Ge){t:{for(var r=Ge,s=Yt;r.nodeType!==8;){if(!s){r=null;break t}if(r=Qt(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ge=Qt(r.nextSibling),l=r.data==="F!";break e}}Ra(l)}l=!1}l&&(t=a[0])}}return a=gt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Go,lastRenderedState:t},a.queue=l,a=um.bind(null,we,l),l.dispatch=a,l=zc(!1),s=Uc.bind(null,we,!1,l.queue),l=gt(),r={state:t,dispatch:null,action:e,pending:null},l.queue=r,a=mp.bind(null,we,r,s,a),r.dispatch=a,l.memoizedState=e,[t,a,!1]}function Xo(e){var t=We();return Zo(t,je,e)}function Zo(e,t,a){if(t=Tc(e,t,Go)[0],e=Lr(fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=An(t)}catch(o){throw o===kl?Nr:o}else l=t;t=We();var r=t.queue,s=r.dispatch;return a!==t.memoizedState&&(we.flags|=2048,ql(9,{destroy:void 0},fp.bind(null,r,a),null)),[l,s,e]}function fp(e,t){e.action=t}function $o(e){var t=We(),a=je;if(a!==null)return Zo(t,a,e);We(),t=t.memoizedState,a=We();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function ql(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=we.updateQueue,t===null&&(t=Dr(),we.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Ko(){return We().memoizedState}function kr(e,t,a,l){var r=gt();we.flags|=e,r.memoizedState=ql(1|t,{destroy:void 0},a,l===void 0?null:l)}function Ur(e,t,a,l){var r=We();l=l===void 0?null:l;var s=r.memoizedState.inst;je!==null&&l!==null&&xc(l,je.memoizedState.deps)?r.memoizedState=ql(t,s,a,l):(we.flags|=e,r.memoizedState=ql(1|t,s,a,l))}function Jo(e,t){kr(8390656,8,e,t)}function Mc(e,t){Ur(2048,8,e,t)}function dp(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=Dr(),we.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Fo(e){var t=We().memoizedState;return dp({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Wo(e,t){return Ur(4,2,e,t)}function Io(e,t){return Ur(4,4,e,t)}function Po(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function em(e,t,a){a=a!=null?a.concat([e]):null,Ur(4,4,Po.bind(null,t,e),a)}function Dc(){}function tm(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&xc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function am(e,t){var a=We();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&xc(t,l[1]))return l[0];if(l=e(),ol){_a(!0);try{e()}finally{_a(!1)}}return a.memoizedState=[l,t],l}function Oc(e,t,a){return a===void 0||(ma&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=lf(),we.lanes|=e,Ba|=e,a)}function lm(e,t,a,l){return At(a,t)?a:Hl.current!==null?(e=Oc(e,a,l),At(e,t)||(et=!0),e):(ma&42)===0||(ma&1073741824)!==0&&(Ae&261930)===0?(et=!0,e.memoizedState=a):(e=lf(),we.lanes|=e,Ba|=e,t)}function nm(e,t,a,l,r){var s=_.p;_.p=s!==0&&8>s?s:8;var o=U.T,p={};U.T=p,Uc(e,!1,t,a);try{var x=r(),L=U.S;if(L!==null&&L(p,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=ip(x,l);zn(e,t,X,Lt(e))}else zn(e,t,l,Lt(e))}catch(J){zn(e,t,{then:function(){},status:"rejected",reason:J},Lt())}finally{_.p=s,o!==null&&p.types!==null&&(o.types=p.types),U.T=o}}function pp(){}function Lc(e,t,a,l){if(e.tag!==5)throw Error(i(476));var r=rm(e).queue;nm(e,r,t,F,a===null?pp:function(){return sm(e),a(l)})}function rm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:F},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sm(e){var t=rm(e);t.next===null&&(t=e.alternate.memoizedState),zn(e,t.next.queue,{},Lt())}function kc(){return ut(Zn)}function cm(){return We().memoizedState}function im(){return We().memoizedState}function gp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Lt();e=Oa(a);var l=La(t,e,a);l!==null&&(St(l,t,a),Nn(l,t,a)),t={cache:oc()},e.payload=t;return}t=t.return}}function hp(e,t,a){var l=Lt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hr(e)?om(t,a):(a=Ps(e,t,a,l),a!==null&&(St(a,e,l),mm(a,t,l)))}function um(e,t,a){var l=Lt();zn(e,t,a,l)}function zn(e,t,a,l){var r={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hr(e))om(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,p=s(o,a);if(r.hasEagerState=!0,r.eagerState=p,At(p,o))return yr(e,t,r,0),Ve===null&&hr(),!1}catch{}finally{}if(a=Ps(e,t,r,l),a!==null)return St(a,e,l),mm(a,t,l),!0}return!1}function Uc(e,t,a,l){if(l={lane:2,revertLane:pi(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hr(e)){if(t)throw Error(i(479))}else t=Ps(e,a,l,2),t!==null&&St(t,e,2)}function Hr(e){var t=e.alternate;return e===we||t!==null&&t===we}function om(e,t){jl=Rr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function mm(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,gu(e,a)}}var Rn={readContext:ut,use:Or,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Rn.useEffectEvent=Ke;var fm={readContext:ut,use:Or,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:Jo,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,kr(4194308,4,Po.bind(null,t,e),a)},useLayoutEffect:function(e,t){return kr(4194308,4,e,t)},useInsertionEffect:function(e,t){kr(4,2,e,t)},useMemo:function(e,t){var a=gt();t=t===void 0?null:t;var l=e();if(ol){_a(!0);try{e()}finally{_a(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=gt();if(a!==void 0){var r=a(t);if(ol){_a(!0);try{a(t)}finally{_a(!1)}}}else r=t;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=hp.bind(null,we,e),[l.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=zc(e);var t=e.queue,a=um.bind(null,we,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Dc,useDeferredValue:function(e,t){var a=gt();return Oc(a,e,t)},useTransition:function(){var e=zc(!1);return e=nm.bind(null,we,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=we,r=gt();if(Re){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Ve===null)throw Error(i(349));(Ae&127)!==0||Oo(l,t,a)}r.memoizedState=a;var s={value:a,getSnapshot:t};return r.queue=s,Jo(ko.bind(null,l,s,e),[e]),l.flags|=2048,ql(9,{destroy:void 0},Lo.bind(null,l,s,a,t),null),a},useId:function(){var e=gt(),t=Ve.identifierPrefix;if(Re){var a=ea,l=Pt;a=(l&~(1<<32-Tt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Mr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=up++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:kc,useFormState:Qo,useActionState:Qo,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Uc.bind(null,we,!0,a),a.dispatch=t,[e,t]},useMemoCache:Cc,useCacheRefresh:function(){return gt().memoizedState=gp.bind(null,we)},useEffectEvent:function(e){var t=gt(),a={impl:e};return t.memoizedState=a,function(){if((Le&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Hc={readContext:ut,use:Or,useCallback:tm,useContext:ut,useEffect:Mc,useImperativeHandle:em,useInsertionEffect:Wo,useLayoutEffect:Io,useMemo:am,useReducer:Lr,useRef:Ko,useState:function(){return Lr(fa)},useDebugValue:Dc,useDeferredValue:function(e,t){var a=We();return lm(a,je.memoizedState,e,t)},useTransition:function(){var e=Lr(fa)[0],t=We().memoizedState;return[typeof e=="boolean"?e:An(e),t]},useSyncExternalStore:Do,useId:cm,useHostTransitionStatus:kc,useFormState:Xo,useActionState:Xo,useOptimistic:function(e,t){var a=We();return jo(a,je,e,t)},useMemoCache:Cc,useCacheRefresh:im};Hc.useEffectEvent=Fo;var dm={readContext:ut,use:Or,useCallback:tm,useContext:ut,useEffect:Mc,useImperativeHandle:em,useInsertionEffect:Wo,useLayoutEffect:Io,useMemo:am,useReducer:Ac,useRef:Ko,useState:function(){return Ac(fa)},useDebugValue:Dc,useDeferredValue:function(e,t){var a=We();return je===null?Oc(a,e,t):lm(a,je.memoizedState,e,t)},useTransition:function(){var e=Ac(fa)[0],t=We().memoizedState;return[typeof e=="boolean"?e:An(e),t]},useSyncExternalStore:Do,useId:cm,useHostTransitionStatus:kc,useFormState:$o,useActionState:$o,useOptimistic:function(e,t){var a=We();return je!==null?jo(a,je,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Cc,useCacheRefresh:im};dm.useEffectEvent=Fo;function jc(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bc={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Lt(),r=Oa(l);r.payload=t,a!=null&&(r.callback=a),t=La(e,r,l),t!==null&&(St(t,e,l),Nn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Lt(),r=Oa(l);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=La(e,r,l),t!==null&&(St(t,e,l),Nn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Lt(),l=Oa(a);l.tag=2,t!=null&&(l.callback=t),t=La(e,l,a),t!==null&&(St(t,e,a),Nn(t,e,a))}};function pm(e,t,a,l,r,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,o):t.prototype&&t.prototype.isPureReactComponent?!hn(a,l)||!hn(r,s):!0}function gm(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Bc.enqueueReplaceState(t,t.state,null)}function ml(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}function hm(e){gr(e)}function ym(e){console.error(e)}function vm(e){gr(e)}function jr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Em(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function qc(e,t,a){return a=Oa(a),a.tag=3,a.payload={element:null},a.callback=function(){jr(e,t)},a}function bm(e){return e=Oa(e),e.tag=3,e}function xm(e,t,a,l){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var s=l.value;e.payload=function(){return r(s)},e.callback=function(){Em(t,a,l)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Em(t,a,l),typeof r!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function yp(e,t,a,l,r){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Dl(t,a,r,!0),a=Rt.current,a!==null){switch(a.tag){case 31:case 13:return Gt===null?Fr():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=r,l===_r?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),mi(e,l,r)),!1;case 22:return a.flags|=65536,l===_r?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),mi(e,l,r)),!1}throw Error(i(435,a.tag))}return mi(e,l,r),Fr(),!1}if(Re)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,l!==rc&&(e=Error(i(422),{cause:l}),En(Bt(e,a)))):(l!==rc&&(t=Error(i(423),{cause:l}),En(Bt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,l=Bt(l,a),r=qc(e.stateNode,l,r),hc(e,r),Je!==4&&(Je=2)),!1;var s=Error(i(520),{cause:l});if(s=Bt(s,a),jn===null?jn=[s]:jn.push(s),Je!==4&&(Je=2),t===null)return!0;l=Bt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=qc(a.stateNode,l,e),hc(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(qa===null||!qa.has(s))))return a.flags|=65536,r&=-r,a.lanes|=r,r=bm(r),xm(r,e,a,l),hc(a,r),!1}a=a.return}while(a!==null);return!1}var Vc=Error(i(461)),et=!1;function ot(e,t,a,l){t.child=e===null?_o(t,null,a,l):ul(t,e.child,a,l)}function wm(e,t,a,l,r){a=a.render;var s=t.ref;if("ref"in l){var o={};for(var p in l)p!=="ref"&&(o[p]=l[p])}else o=l;return rl(t),l=wc(e,t,a,o,s,r),p=Sc(),e!==null&&!et?(Nc(e,t,r),da(e,t,r)):(Re&&p&&lc(t),t.flags|=1,ot(e,t,l,r),t.child)}function Sm(e,t,a,l,r){if(e===null){var s=a.type;return typeof s=="function"&&!ec(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,Nm(e,t,s,l,r)):(e=Er(a.type,null,l,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Jc(e,r)){var o=s.memoizedProps;if(a=a.compare,a=a!==null?a:hn,a(o,l)&&e.ref===t.ref)return da(e,t,r)}return t.flags|=1,e=ca(s,l),e.ref=t.ref,e.return=t,t.child=e}function Nm(e,t,a,l,r){if(e!==null){var s=e.memoizedProps;if(hn(s,l)&&e.ref===t.ref)if(et=!1,t.pendingProps=l=s,Jc(e,r))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,da(e,t,r)}return Yc(e,t,a,l,r)}function _m(e,t,a,l){var r=l.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(s=s!==null?s.baseLanes|a:a,e!==null){for(l=t.child=e.child,r=0;l!==null;)r=r|l.lanes|l.childLanes,l=l.sibling;l=r&~s}else l=0,t.child=null;return Cm(e,t,s,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sr(t,s!==null?s.cachePool:null),s!==null?Ao(t,s):vc(),zo(t);else return l=t.lanes=536870912,Cm(e,t,s!==null?s.baseLanes|a:a,a,l)}else s!==null?(Sr(t,s.cachePool),Ao(t,s),Ua(),t.memoizedState=null):(e!==null&&Sr(t,null),vc(),Ua());return ot(e,t,r,a),t.child}function Mn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Cm(e,t,a,l,r){var s=fc();return s=s===null?null:{parent:Ie._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&Sr(t,null),vc(),zo(t),e!==null&&Dl(e,t,l,!0),t.childLanes=r,null}function Br(e,t){return t=Vr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Tm(e,t,a){return ul(t,e.child,null,a),e=Br(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function vp(e,t,a){var l=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(l.mode==="hidden")return e=Br(t,l),t.lanes=536870912,Mn(null,e);if(bc(t),(e=Ge)?(e=qf(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Aa!==null?{id:Pt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=uo(e),a.return=t,t.child=a,it=t,Ge=null)):e=null,e===null)throw Ra(t);return t.lanes=536870912,null}return Br(t,l)}var s=e.memoizedState;if(s!==null){var o=s.dehydrated;if(bc(t),r)if(t.flags&256)t.flags&=-257,t=Tm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(et||Dl(e,t,a,!1),r=(a&e.childLanes)!==0,et||r){if(l=Ve,l!==null&&(o=hu(l,a),o!==0&&o!==s.retryLane))throw s.retryLane=o,tl(e,o),St(l,e,o),Vc;Fr(),t=Tm(e,t,a)}else e=s.treeContext,Ge=Qt(o.nextSibling),it=t,Re=!0,za=null,Yt=!1,e!==null&&fo(t,e),t=Br(t,l),t.flags|=4096;return t}return e=ca(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Yc(e,t,a,l,r){return rl(t),a=wc(e,t,a,l,void 0,r),l=Sc(),e!==null&&!et?(Nc(e,t,r),da(e,t,r)):(Re&&l&&lc(t),t.flags|=1,ot(e,t,a,r),t.child)}function Am(e,t,a,l,r,s){return rl(t),t.updateQueue=null,a=Mo(t,l,a,r),Ro(e),l=Sc(),e!==null&&!et?(Nc(e,t,s),da(e,t,s)):(Re&&l&&lc(t),t.flags|=1,ot(e,t,a,s),t.child)}function zm(e,t,a,l,r){if(rl(t),t.stateNode===null){var s=Al,o=a.contextType;typeof o=="object"&&o!==null&&(s=ut(o)),s=new a(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},pc(t),o=a.contextType,s.context=typeof o=="object"&&o!==null?ut(o):Al,s.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(jc(t,a,o,l),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(o=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),o!==s.state&&Bc.enqueueReplaceState(s,s.state,null),Cn(t,l,s,r),_n(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var p=t.memoizedProps,x=ml(a,p);s.props=x;var L=s.context,X=a.contextType;o=Al,typeof X=="object"&&X!==null&&(o=ut(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof s.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,X||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(p||L!==o)&&gm(t,s,l,o),Da=!1;var H=t.memoizedState;s.state=H,Cn(t,l,s,r),_n(),L=t.memoizedState,p||H!==L||Da?(typeof J=="function"&&(jc(t,a,J,l),L=t.memoizedState),(x=Da||pm(t,a,x,l,H,L,o))?(X||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=L),s.props=l,s.state=L,s.context=o,l=x):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,gc(e,t),o=t.memoizedProps,X=ml(a,o),s.props=X,J=t.pendingProps,H=s.context,L=a.contextType,x=Al,typeof L=="object"&&L!==null&&(x=ut(L)),p=a.getDerivedStateFromProps,(L=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==J||H!==x)&&gm(t,s,l,x),Da=!1,H=t.memoizedState,s.state=H,Cn(t,l,s,r),_n();var V=t.memoizedState;o!==J||H!==V||Da||e!==null&&e.dependencies!==null&&xr(e.dependencies)?(typeof p=="function"&&(jc(t,a,p,l),V=t.memoizedState),(X=Da||pm(t,a,X,l,H,V,x)||e!==null&&e.dependencies!==null&&xr(e.dependencies))?(L||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,V,x),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,V,x)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=V),s.props=l,s.state=V,s.context=x,l=X):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,qr(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=ul(t,e.child,null,r),t.child=ul(t,null,a,r)):ot(e,t,a,r),t.memoizedState=s.state,e=t.child):e=da(e,t,r),e}function Rm(e,t,a,l){return ll(),t.flags|=256,ot(e,t,a,l),t.child}var Gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qc(e){return{baseLanes:e,cachePool:Eo()}}function Xc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ot),e}function Mm(e,t,a){var l=t.pendingProps,r=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),o&&(r=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(r?ka(t):Ua(),(e=Ge)?(e=qf(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Aa!==null?{id:Pt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},a=uo(e),a.return=t,t.child=a,it=t,Ge=null)):e=null,e===null)throw Ra(t);return Ti(e)?t.lanes=32:t.lanes=536870912,null}var p=l.children;return l=l.fallback,r?(Ua(),r=t.mode,p=Vr({mode:"hidden",children:p},r),l=al(l,r,a,null),p.return=t,l.return=t,p.sibling=l,t.child=p,l=t.child,l.memoizedState=Qc(a),l.childLanes=Xc(e,o,a),t.memoizedState=Gc,Mn(null,l)):(ka(t),Zc(t,p))}var x=e.memoizedState;if(x!==null&&(p=x.dehydrated,p!==null)){if(s)t.flags&256?(ka(t),t.flags&=-257,t=$c(e,t,a)):t.memoizedState!==null?(Ua(),t.child=e.child,t.flags|=128,t=null):(Ua(),p=l.fallback,r=t.mode,l=Vr({mode:"visible",children:l.children},r),p=al(p,r,a,null),p.flags|=2,l.return=t,p.return=t,l.sibling=p,t.child=l,ul(t,e.child,null,a),l=t.child,l.memoizedState=Qc(a),l.childLanes=Xc(e,o,a),t.memoizedState=Gc,t=Mn(null,l));else if(ka(t),Ti(p)){if(o=p.nextSibling&&p.nextSibling.dataset,o)var L=o.dgst;o=L,l=Error(i(419)),l.stack="",l.digest=o,En({value:l,source:null,stack:null}),t=$c(e,t,a)}else if(et||Dl(e,t,a,!1),o=(a&e.childLanes)!==0,et||o){if(o=Ve,o!==null&&(l=hu(o,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,tl(e,l),St(o,e,l),Vc;Ci(p)||Fr(),t=$c(e,t,a)}else Ci(p)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Ge=Qt(p.nextSibling),it=t,Re=!0,za=null,Yt=!1,e!==null&&fo(t,e),t=Zc(t,l.children),t.flags|=4096);return t}return r?(Ua(),p=l.fallback,r=t.mode,x=e.child,L=x.sibling,l=ca(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,L!==null?p=ca(L,p):(p=al(p,r,a,null),p.flags|=2),p.return=t,l.return=t,l.sibling=p,t.child=l,Mn(null,l),l=t.child,p=e.child.memoizedState,p===null?p=Qc(a):(r=p.cachePool,r!==null?(x=Ie._currentValue,r=r.parent!==x?{parent:x,pool:x}:r):r=Eo(),p={baseLanes:p.baseLanes|a,cachePool:r}),l.memoizedState=p,l.childLanes=Xc(e,o,a),t.memoizedState=Gc,Mn(e.child,l)):(ka(t),a=e.child,e=a.sibling,a=ca(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function Zc(e,t){return t=Vr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vr(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function $c(e,t,a){return ul(t,e.child,null,a),e=Zc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dm(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ic(e.return,t,a)}function Kc(e,t,a,l,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:r,treeForkCount:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=a,o.tailMode=r,o.treeForkCount=s)}function Om(e,t,a){var l=t.pendingProps,r=l.revealOrder,s=l.tail;l=l.children;var o=Fe.current,p=(o&2)!==0;if(p?(o=o&1|2,t.flags|=128):o&=1,P(Fe,o),ot(e,t,l,a),l=Re?vn:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dm(e,a,t);else if(e.tag===19)Dm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&zr(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),Kc(t,!1,r,a,s,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&zr(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Kc(t,!0,a,null,s,l);break;case"together":Kc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function da(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Dl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=ca(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ca(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Jc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xr(e)))}function Ep(e,t,a){switch(t.tag){case 3:Xe(t,t.stateNode.containerInfo),Ma(t,Ie,e.memoizedState.cache),ll();break;case 27:case 5:ve(t);break;case 4:Xe(t,t.stateNode.containerInfo);break;case 10:Ma(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ka(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Mm(e,t,a):(ka(t),e=da(e,t,a),e!==null?e.sibling:null);ka(t);break;case 19:var r=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Dl(e,t,a,!1),l=(a&t.childLanes)!==0),r){if(l)return Om(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),P(Fe,Fe.current),l)break;return null;case 22:return t.lanes=0,_m(e,t,a,t.pendingProps);case 24:Ma(t,Ie,e.memoizedState.cache)}return da(e,t,a)}function Lm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!Jc(e,a)&&(t.flags&128)===0)return et=!1,Ep(e,t,a);et=(e.flags&131072)!==0}else et=!1,Re&&(t.flags&1048576)!==0&&mo(t,vn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=cl(t.elementType),t.type=e,typeof e=="function")ec(e)?(l=ml(e,l),t.tag=1,t=zm(null,t,e,l,a)):(t.tag=0,t=Yc(null,t,e,l,a));else{if(e!=null){var r=e.$$typeof;if(r===ae){t.tag=11,t=wm(null,t,e,l,a);break e}else if(r===Q){t.tag=14,t=Sm(null,t,e,l,a);break e}}throw t=ne(e)||e,Error(i(306,t,""))}}return t;case 0:return Yc(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,r=ml(l,t.pendingProps),zm(e,t,l,r,a);case 3:e:{if(Xe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var s=t.memoizedState;r=s.element,gc(e,t),Cn(t,l,null,a);var o=t.memoizedState;if(l=o.cache,Ma(t,Ie,l),l!==s.cache&&uc(t,[Ie],a,!0),_n(),l=o.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Rm(e,t,l,a);break e}else if(l!==r){r=Bt(Error(i(424)),t),En(r),t=Rm(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=Qt(e.firstChild),it=t,Re=!0,za=null,Yt=!0,a=_o(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===r){t=da(e,t,a);break e}ot(e,t,l,a)}t=t.child}return t;case 26:return qr(e,t),e===null?(a=Zf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Re||(a=t.type,e=t.pendingProps,l=ls(de.current).createElement(a),l[ct]=t,l[yt]=e,mt(l,a,e),rt(l),t.stateNode=l):t.memoizedState=Zf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&Re&&(l=t.stateNode=Gf(t.type,t.pendingProps,de.current),it=t,Yt=!0,r=Ge,Qa(t.type)?(Ai=r,Ge=Qt(l.firstChild)):Ge=r),ot(e,t,t.pendingProps.children,a),qr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((r=l=Ge)&&(l=Jp(l,t.type,t.pendingProps,Yt),l!==null?(t.stateNode=l,it=t,Ge=Qt(l.firstChild),Yt=!1,r=!0):r=!1),r||Ra(t)),ve(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,l=s.children,Si(r,s)?l=null:o!==null&&Si(r,o)&&(t.flags|=32),t.memoizedState!==null&&(r=wc(e,t,op,null,null,a),Zn._currentValue=r),qr(e,t),ot(e,t,l,a),t.child;case 6:return e===null&&Re&&((e=a=Ge)&&(a=Fp(a,t.pendingProps,Yt),a!==null?(t.stateNode=a,it=t,Ge=null,e=!0):e=!1),e||Ra(t)),null;case 13:return Mm(e,t,a);case 4:return Xe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ul(t,null,l,a):ot(e,t,l,a),t.child;case 11:return wm(e,t,t.type,t.pendingProps,a);case 7:return ot(e,t,t.pendingProps,a),t.child;case 8:return ot(e,t,t.pendingProps.children,a),t.child;case 12:return ot(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Ma(t,t.type,l.value),ot(e,t,l.children,a),t.child;case 9:return r=t.type._context,l=t.pendingProps.children,rl(t),r=ut(r),l=l(r),t.flags|=1,ot(e,t,l,a),t.child;case 14:return Sm(e,t,t.type,t.pendingProps,a);case 15:return Nm(e,t,t.type,t.pendingProps,a);case 19:return Om(e,t,a);case 31:return vp(e,t,a);case 22:return _m(e,t,a,t.pendingProps);case 24:return rl(t),l=ut(Ie),e===null?(r=fc(),r===null&&(r=Ve,s=oc(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=a),r=s),t.memoizedState={parent:l,cache:r},pc(t),Ma(t,Ie,r)):((e.lanes&a)!==0&&(gc(e,t),Cn(t,null,null,a),_n()),r=e.memoizedState,s=t.memoizedState,r.parent!==l?(r={parent:l,cache:l},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ma(t,Ie,l)):(l=s.cache,Ma(t,Ie,l),l!==r.cache&&uc(t,[Ie],a,!0))),ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function pa(e){e.flags|=4}function Fc(e,t,a,l,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(cf())e.flags|=8192;else throw il=_r,dc}else e.flags&=-16777217}function km(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wf(t))if(cf())e.flags|=8192;else throw il=_r,dc}function Yr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?du():536870912,e.lanes|=t,Ql|=t)}function Dn(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags&65011712,l|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function bp(e,t,a){var l=t.pendingProps;switch(nc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),oa(Ie),te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ml(t)?pa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,sc())),Qe(t),null;case 26:var r=t.type,s=t.memoizedState;return e===null?(pa(t),s!==null?(Qe(t),km(t,s)):(Qe(t),Fc(t,r,null,l,a))):s?s!==e.memoizedState?(pa(t),Qe(t),km(t,s)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&pa(t),Qe(t),Fc(t,r,e,l,a)),null;case 27:if(Ye(t),a=de.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Qe(t),null}e=j.current,Ml(t)?po(t):(e=Gf(r,l,a),t.stateNode=e,pa(t))}return Qe(t),null;case 5:if(Ye(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Qe(t),null}if(s=j.current,Ml(t))po(t);else{var o=ls(de.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=o.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof l.is=="string"?o.createElement("select",{is:l.is}):o.createElement("select"),l.multiple?s.multiple=!0:l.size&&(s.size=l.size);break;default:s=typeof l.is=="string"?o.createElement(r,{is:l.is}):o.createElement(r)}}s[ct]=t,s[yt]=l;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)s.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(mt(s,r,l),r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pa(t)}}return Qe(t),Fc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&pa(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=de.current,Ml(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,r=it,r!==null)switch(r.tag){case 27:case 5:l=r.memoizedProps}e[ct]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Df(e.nodeValue,a)),e||Ra(t,!0)}else e=ls(e).createTextNode(l),e[ct]=t,t.stateNode=e}return Qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Ml(t),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ct]=t}else ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else a=sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Qe(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ml(t),l!==null&&l.dehydrated!==null){if(e===null){if(!r)throw Error(i(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));r[ct]=t}else ll(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),r=!1}else r=sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,r=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(r=l.alternate.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==r&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Yr(t,t.updateQueue),Qe(t),null);case 4:return te(),e===null&&vi(t.stateNode.containerInfo),Qe(t),null;case 10:return oa(t.type),Qe(t),null;case 19:if(R(Fe),l=t.memoizedState,l===null)return Qe(t),null;if(r=(t.flags&128)!==0,s=l.rendering,s===null)if(r)Dn(l,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(s=zr(e),s!==null){for(t.flags|=128,Dn(l,!1),e=s.updateQueue,t.updateQueue=e,Yr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)io(a,e),a=a.sibling;return P(Fe,Fe.current&1|2),Re&&ia(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&pt()>$r&&(t.flags|=128,r=!0,Dn(l,!1),t.lanes=4194304)}else{if(!r)if(e=zr(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Yr(t,e),Dn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!s.alternate&&!Re)return Qe(t),null}else 2*pt()-l.renderingStartTime>$r&&a!==536870912&&(t.flags|=128,r=!0,Dn(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(e=l.last,e!==null?e.sibling=s:t.child=s,l.last=s)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=pt(),e.sibling=null,a=Fe.current,P(Fe,r?a&1|2:a&1),Re&&ia(t,l.treeForkCount),e):(Qe(t),null);case 22:case 23:return Mt(t),Ec(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&Yr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&R(sl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),oa(Ie),Qe(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function xp(e,t){switch(nc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(Ie),te(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ye(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(i(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Fe),null;case 4:return te(),null;case 10:return oa(t.type),null;case 22:case 23:return Mt(t),Ec(),e!==null&&R(sl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oa(Ie),null;case 25:return null;default:return null}}function Um(e,t){switch(nc(t),t.tag){case 3:oa(Ie),te();break;case 26:case 27:case 5:Ye(t);break;case 4:te();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:R(Fe);break;case 10:oa(t.type);break;case 22:case 23:Mt(t),Ec(),e!==null&&R(sl);break;case 24:oa(Ie)}}function On(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var r=l.next;a=r;do{if((a.tag&e)===e){l=void 0;var s=a.create,o=a.inst;l=s(),o.destroy=l}a=a.next}while(a!==r)}}catch(p){He(t,t.return,p)}}function Ha(e,t,a){try{var l=t.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var s=r.next;l=s;do{if((l.tag&e)===e){var o=l.inst,p=o.destroy;if(p!==void 0){o.destroy=void 0,r=t;var x=a,L=p;try{L()}catch(X){He(r,x,X)}}}l=l.next}while(l!==s)}}catch(X){He(t,t.return,X)}}function Hm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{To(t,a)}catch(l){He(e,e.return,l)}}}function jm(e,t,a){a.props=ml(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){He(e,t,l)}}function Ln(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(r){He(e,t,r)}}function ta(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(r){He(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){He(e,t,r)}else a.current=null}function Bm(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(r){He(e,e.return,r)}}function Wc(e,t,a){try{var l=e.stateNode;Gp(l,e.type,a,t),l[yt]=t}catch(r){He(e,e.return,r)}}function qm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qa(e.type)||e.tag===4}function Ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ra));else if(l!==4&&(l===27&&Qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Pc(e,t,a),e=e.sibling;e!==null;)Pc(e,t,a),e=e.sibling}function Gr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gr(e,t,a),e=e.sibling;e!==null;)Gr(e,t,a),e=e.sibling}function Vm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);mt(t,l,a),t[ct]=e,t[yt]=a}catch(s){He(e,e.return,s)}}var ga=!1,tt=!1,ei=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,st=null;function wp(e,t){if(e=e.containerInfo,xi=os,e=Pu(e),$s(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var r=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var o=0,p=-1,x=-1,L=0,X=0,J=e,H=null;t:for(;;){for(var V;J!==a||r!==0&&J.nodeType!==3||(p=o+r),J!==s||l!==0&&J.nodeType!==3||(x=o+l),J.nodeType===3&&(o+=J.nodeValue.length),(V=J.firstChild)!==null;)H=J,J=V;for(;;){if(J===e)break t;if(H===a&&++L===r&&(p=o),H===s&&++X===l&&(x=o),(V=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=V}a=p===-1||x===-1?null:{start:p,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(wi={focusedElem:e,selectionRange:a},os=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,s=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)r=e[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&s!==null){e=void 0,a=t,r=s.memoizedProps,s=s.memoizedState,l=a.stateNode;try{var oe=ml(a.type,r);e=l.getSnapshotBeforeUpdate(oe,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(he){He(a,a.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)_i(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_i(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Gm(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ya(e,a),l&4&&On(5,a);break;case 1:if(ya(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){He(a,a.return,o)}else{var r=ml(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){He(a,a.return,o)}}l&64&&Hm(a),l&512&&Ln(a,a.return);break;case 3:if(ya(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{To(e,t)}catch(o){He(a,a.return,o)}}break;case 27:t===null&&l&4&&Vm(a);case 26:case 5:ya(e,a),t===null&&l&4&&Bm(a),l&512&&Ln(a,a.return);break;case 12:ya(e,a);break;case 31:ya(e,a),l&4&&Zm(e,a);break;case 13:ya(e,a),l&4&&$m(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Mp.bind(null,a),Wp(e,a))));break;case 22:if(l=a.memoizedState!==null||ga,!l){t=t!==null&&t.memoizedState!==null||tt,r=ga;var s=tt;ga=l,(tt=t)&&!s?va(e,a,(a.subtreeFlags&8772)!==0):ya(e,a),ga=r,tt=s}break;case 30:break;default:ya(e,a)}}function Qm(e){var t=e.alternate;t!==null&&(e.alternate=null,Qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rs(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Et=!1;function ha(e,t,a){for(a=a.child;a!==null;)Xm(e,t,a),a=a.sibling}function Xm(e,t,a){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ln,a)}catch{}switch(a.tag){case 26:tt||ta(a,t),ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||ta(a,t);var l=Ze,r=Et;Qa(a.type)&&(Ze=a.stateNode,Et=!1),ha(e,t,a),Gn(a.stateNode),Ze=l,Et=r;break;case 5:tt||ta(a,t);case 6:if(l=Ze,r=Et,Ze=null,ha(e,t,a),Ze=l,Et=r,Ze!==null)if(Et)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(s){He(a,t,s)}else try{Ze.removeChild(a.stateNode)}catch(s){He(a,t,s)}break;case 18:Ze!==null&&(Et?(e=Ze,jf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Il(e)):jf(Ze,a.stateNode));break;case 4:l=Ze,r=Et,Ze=a.stateNode.containerInfo,Et=!0,ha(e,t,a),Ze=l,Et=r;break;case 0:case 11:case 14:case 15:Ha(2,a,t),tt||Ha(4,a,t),ha(e,t,a);break;case 1:tt||(ta(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jm(a,t,l)),ha(e,t,a);break;case 21:ha(e,t,a);break;case 22:tt=(l=tt)||a.memoizedState!==null,ha(e,t,a),tt=l;break;default:ha(e,t,a)}}function Zm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Il(e)}catch(a){He(t,t.return,a)}}}function $m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Il(e)}catch(a){He(t,t.return,a)}}function Sp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ym),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ym),t;default:throw Error(i(435,e.tag))}}function Qr(e,t){var a=Sp(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var r=Dp.bind(null,e,l);l.then(r,r)}})}function bt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var r=a[l],s=e,o=t,p=o;e:for(;p!==null;){switch(p.tag){case 27:if(Qa(p.type)){Ze=p.stateNode,Et=!1;break e}break;case 5:Ze=p.stateNode,Et=!1;break e;case 3:case 4:Ze=p.stateNode.containerInfo,Et=!0;break e}p=p.return}if(Ze===null)throw Error(i(160));Xm(s,o,r),Ze=null,Et=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Km(t,e),t=t.sibling}var Jt=null;function Km(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),xt(e),l&4&&(Ha(3,e,e.return),On(3,e),Ha(5,e,e.return));break;case 1:bt(t,e),xt(e),l&512&&(tt||a===null||ta(a,a.return)),l&64&&ga&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var r=Jt;if(bt(t,e),xt(e),l&512&&(tt||a===null||ta(a,a.return)),l&4){var s=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(l){case"title":s=r.getElementsByTagName("title")[0],(!s||s[sn]||s[ct]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(l),r.head.insertBefore(s,r.querySelector("head > title"))),mt(s,l,a),s[ct]=e,rt(s),l=s;break e;case"link":var o=Jf("link","href",r).get(l+(a.href||""));if(o){for(var p=0;p<o.length;p++)if(s=o[p],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(p,1);break t}}s=r.createElement(l),mt(s,l,a),r.head.appendChild(s);break;case"meta":if(o=Jf("meta","content",r).get(l+(a.content||""))){for(p=0;p<o.length;p++)if(s=o[p],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(p,1);break t}}s=r.createElement(l),mt(s,l,a),r.head.appendChild(s);break;default:throw Error(i(468,l))}s[ct]=e,rt(s),l=s}e.stateNode=l}else Ff(r,e.type,e.stateNode);else e.stateNode=Kf(r,l,e.memoizedProps);else s!==l?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,l===null?Ff(r,e.type,e.stateNode):Kf(r,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,a.memoizedProps)}break;case 27:bt(t,e),xt(e),l&512&&(tt||a===null||ta(a,a.return)),a!==null&&l&4&&Wc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bt(t,e),xt(e),l&512&&(tt||a===null||ta(a,a.return)),e.flags&32){r=e.stateNode;try{xl(r,"")}catch(oe){He(e,e.return,oe)}}l&4&&e.stateNode!=null&&(r=e.memoizedProps,Wc(e,r,a!==null?a.memoizedProps:r)),l&1024&&(ei=!0);break;case 6:if(bt(t,e),xt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(oe){He(e,e.return,oe)}}break;case 3:if(ss=null,r=Jt,Jt=ns(t.containerInfo),bt(t,e),Jt=r,xt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(t.containerInfo)}catch(oe){He(e,e.return,oe)}ei&&(ei=!1,Jm(e));break;case 4:l=Jt,Jt=ns(e.stateNode.containerInfo),bt(t,e),xt(e),Jt=l;break;case 12:bt(t,e),xt(e);break;case 31:bt(t,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 13:bt(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zr=pt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 22:r=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,L=ga,X=tt;if(ga=L||r,tt=X||x,bt(t,e),tt=X,ga=L,xt(e),l&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||x||ga||tt||fl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(s=x.stateNode,r)o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{p=x.stateNode;var J=x.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;p.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(oe){He(x,x.return,oe)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=r?"":x.memoizedProps}catch(oe){He(x,x.return,oe)}}}else if(t.tag===18){if(a===null){x=t;try{var V=x.stateNode;r?Bf(V,!0):Bf(x.stateNode,!1)}catch(oe){He(x,x.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qr(e,a))));break;case 19:bt(t,e),xt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qr(e,l)));break;case 30:break;case 21:break;default:bt(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(qm(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var r=a.stateNode,s=Ic(e);Gr(e,s,r);break;case 5:var o=a.stateNode;a.flags&32&&(xl(o,""),a.flags&=-33);var p=Ic(e);Gr(e,p,o);break;case 3:case 4:var x=a.stateNode.containerInfo,L=Ic(e);Pc(e,L,x);break;default:throw Error(i(161))}}catch(X){He(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ya(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Gm(e,t.alternate,t),t=t.sibling}function fl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ha(4,t,t.return),fl(t);break;case 1:ta(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&jm(t,t.return,a),fl(t);break;case 27:Gn(t.stateNode);case 26:case 5:ta(t,t.return),fl(t);break;case 22:t.memoizedState===null&&fl(t);break;case 30:fl(t);break;default:fl(t)}e=e.sibling}}function va(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,r=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:va(r,s,a),On(4,s);break;case 1:if(va(r,s,a),l=s,r=l.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(L){He(l,l.return,L)}if(l=s,r=l.updateQueue,r!==null){var p=l.stateNode;try{var x=r.shared.hiddenCallbacks;if(x!==null)for(r.shared.hiddenCallbacks=null,r=0;r<x.length;r++)Co(x[r],p)}catch(L){He(l,l.return,L)}}a&&o&64&&Hm(s),Ln(s,s.return);break;case 27:Vm(s);case 26:case 5:va(r,s,a),a&&l===null&&o&4&&Bm(s),Ln(s,s.return);break;case 12:va(r,s,a);break;case 31:va(r,s,a),a&&o&4&&Zm(r,s);break;case 13:va(r,s,a),a&&o&4&&$m(r,s);break;case 22:s.memoizedState===null&&va(r,s,a),Ln(s,s.return);break;case 30:break;default:va(r,s,a)}t=t.sibling}}function ti(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&bn(a))}function ai(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bn(e))}function Ft(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fm(e,t,a,l),t=t.sibling}function Fm(e,t,a,l){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,a,l),r&2048&&On(9,t);break;case 1:Ft(e,t,a,l);break;case 3:Ft(e,t,a,l),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bn(e)));break;case 12:if(r&2048){Ft(e,t,a,l),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,p=s.onPostCommit;typeof p=="function"&&p(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){He(t,t.return,x)}}else Ft(e,t,a,l);break;case 31:Ft(e,t,a,l);break;case 13:Ft(e,t,a,l);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,t.memoizedState!==null?s._visibility&2?Ft(e,t,a,l):kn(e,t):s._visibility&2?Ft(e,t,a,l):(s._visibility|=2,Vl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),r&2048&&ti(o,t);break;case 24:Ft(e,t,a,l),r&2048&&ai(t.alternate,t);break;default:Ft(e,t,a,l)}}function Vl(e,t,a,l,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,o=t,p=a,x=l,L=o.flags;switch(o.tag){case 0:case 11:case 15:Vl(s,o,p,x,r),On(8,o);break;case 23:break;case 22:var X=o.stateNode;o.memoizedState!==null?X._visibility&2?Vl(s,o,p,x,r):kn(s,o):(X._visibility|=2,Vl(s,o,p,x,r)),r&&L&2048&&ti(o.alternate,o);break;case 24:Vl(s,o,p,x,r),r&&L&2048&&ai(o.alternate,o);break;default:Vl(s,o,p,x,r)}t=t.sibling}}function kn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,r=l.flags;switch(l.tag){case 22:kn(a,l),r&2048&&ti(l.alternate,l);break;case 24:kn(a,l),r&2048&&ai(l.alternate,l);break;default:kn(a,l)}t=t.sibling}}var Un=8192;function Yl(e,t,a){if(e.subtreeFlags&Un)for(e=e.child;e!==null;)Wm(e,t,a),e=e.sibling}function Wm(e,t,a){switch(e.tag){case 26:Yl(e,t,a),e.flags&Un&&e.memoizedState!==null&&ug(a,Jt,e.memoizedState,e.memoizedProps);break;case 5:Yl(e,t,a);break;case 3:case 4:var l=Jt;Jt=ns(e.stateNode.containerInfo),Yl(e,t,a),Jt=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Un,Un=16777216,Yl(e,t,a),Un=l):Yl(e,t,a));break;default:Yl(e,t,a)}}function Im(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Hn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];st=l,ef(l,e)}Im(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Pm(e),e=e.sibling}function Pm(e){switch(e.tag){case 0:case 11:case 15:Hn(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:Hn(e);break;case 12:Hn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xr(e)):Hn(e);break;default:Hn(e)}}function Xr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];st=l,ef(l,e)}Im(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ha(8,t,t.return),Xr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Xr(t));break;default:Xr(t)}e=e.sibling}}function ef(e,t){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Ha(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,st=l;else e:for(a=e;st!==null;){l=st;var r=l.sibling,s=l.return;if(Qm(l),l===a){st=null;break e}if(r!==null){r.return=s,st=r;break e}st=s}}}var Np={getCacheForType:function(e){var t=ut(Ie),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(Ie).controller.signal}},_p=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ve=null,Ce=null,Ae=0,Ue=0,Dt=null,ja=!1,Gl=!1,li=!1,Ea=0,Je=0,Ba=0,dl=0,ni=0,Ot=0,Ql=0,jn=null,wt=null,ri=!1,Zr=0,tf=0,$r=1/0,Kr=null,qa=null,lt=0,Va=null,Xl=null,ba=0,si=0,ci=null,af=null,Bn=0,ii=null;function Lt(){return(Le&2)!==0&&Ae!==0?Ae&-Ae:U.T!==null?pi():yu()}function lf(){if(Ot===0)if((Ae&536870912)===0||Re){var e=ar;ar<<=1,(ar&3932160)===0&&(ar=262144),Ot=e}else Ot=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Ot}function St(e,t,a){(e===Ve&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(Zl(e,0),Ya(e,Ae,Ot,!1)),rn(e,a),((Le&2)===0||e!==Ve)&&(e===Ve&&((Le&2)===0&&(dl|=a),Je===4&&Ya(e,Ae,Ot,!1)),aa(e))}function nf(e,t,a){if((Le&6)!==0)throw Error(i(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||nn(e,t),r=l?Ap(e,t):oi(e,t,!0),s=l;do{if(r===0){Gl&&!l&&Ya(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!Cp(a)){r=oi(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var p=e;r=jn;var x=p.current.memoizedState.isDehydrated;if(x&&(Zl(p,o).flags|=256),o=oi(p,o,!1),o!==2){if(li&&!x){p.errorRecoveryDisabledLanes|=s,dl|=s,r=4;break e}s=wt,wt=r,s!==null&&(wt===null?wt=s:wt.push.apply(wt,s))}r=o}if(s=!1,r!==2)continue}}if(r===1){Zl(e,0),Ya(e,t,0,!0);break}e:{switch(l=e,s=r,s){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ya(l,t,Ot,!ja);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(r=Zr+300-pt(),10<r)){if(Ya(l,t,Ot,!ja),nr(l,0,!0)!==0)break e;ba=t,l.timeoutHandle=Uf(rf.bind(null,l,a,wt,Kr,ri,t,Ot,dl,Ql,ja,s,"Throttled",-0,0),r);break e}rf(l,a,wt,Kr,ri,t,Ot,dl,Ql,ja,s,null,-0,0)}}break}while(!0);aa(e)}function rf(e,t,a,l,r,s,o,p,x,L,X,J,H,V){if(e.timeoutHandle=-1,J=t.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ra},Wm(t,s,J);var oe=(s&62914560)===s?Zr-pt():(s&4194048)===s?tf-pt():0;if(oe=og(J,oe),oe!==null){ba=s,e.cancelPendingCommit=oe(pf.bind(null,e,t,s,a,l,r,o,p,x,X,J,null,H,V)),Ya(e,s,o,!L);return}}pf(e,t,s,a,l,r,o,p,x)}function Cp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var r=a[l],s=r.getSnapshot;r=r.value;try{if(!At(s(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ya(e,t,a,l){t&=~ni,t&=~dl,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var r=t;0<r;){var s=31-Tt(r),o=1<<s;l[s]=-1,r&=~o}a!==0&&pu(e,a,t)}function Jr(){return(Le&6)===0?(qn(0),!1):!0}function ui(){if(Ce!==null){if(Ue===0)var e=Ce.return;else e=Ce,ua=nl=null,_c(e),Ul=null,wn=0,e=Ce;for(;e!==null;)Um(e.alternate,e),e=e.return;Ce=null}}function Zl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Zp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ba=0,ui(),Ve=e,Ce=a=ca(e.current,null),Ae=t,Ue=0,Dt=null,ja=!1,Gl=nn(e,t),li=!1,Ql=Ot=ni=dl=Ba=Je=0,wt=jn=null,ri=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var r=31-Tt(l),s=1<<r;t|=e[r],l&=~s}return Ea=t,hr(),a}function sf(e,t){we=null,U.H=Rn,t===kl||t===Nr?(t=wo(),Ue=3):t===dc?(t=wo(),Ue=4):Ue=t===Vc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,Ce===null&&(Je=1,jr(e,Bt(t,e.current)))}function cf(){var e=Rt.current;return e===null?!0:(Ae&4194048)===Ae?Gt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Gt:!1}function uf(){var e=U.H;return U.H=Rn,e===null?Rn:e}function of(){var e=U.A;return U.A=Np,e}function Fr(){Je=4,ja||(Ae&4194048)!==Ae&&Rt.current!==null||(Gl=!0),(Ba&134217727)===0&&(dl&134217727)===0||Ve===null||Ya(Ve,Ae,Ot,!1)}function oi(e,t,a){var l=Le;Le|=2;var r=uf(),s=of();(Ve!==e||Ae!==t)&&(Kr=null,Zl(e,t)),t=!1;var o=Je;e:do try{if(Ue!==0&&Ce!==null){var p=Ce,x=Dt;switch(Ue){case 8:ui(),o=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var L=Ue;if(Ue=0,Dt=null,$l(e,p,x,L),a&&Gl){o=0;break e}break;default:L=Ue,Ue=0,Dt=null,$l(e,p,x,L)}}Tp(),o=Je;break}catch(X){sf(e,X)}while(!0);return t&&e.shellSuspendCounter++,ua=nl=null,Le=l,U.H=r,U.A=s,Ce===null&&(Ve=null,Ae=0,hr()),o}function Tp(){for(;Ce!==null;)mf(Ce)}function Ap(e,t){var a=Le;Le|=2;var l=uf(),r=of();Ve!==e||Ae!==t?(Kr=null,$r=pt()+500,Zl(e,t)):Gl=nn(e,t);e:do try{if(Ue!==0&&Ce!==null){t=Ce;var s=Dt;t:switch(Ue){case 1:Ue=0,Dt=null,$l(e,t,s,1);break;case 2:case 9:if(bo(s)){Ue=0,Dt=null,ff(t);break}t=function(){Ue!==2&&Ue!==9||Ve!==e||(Ue=7),aa(e)},s.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:bo(s)?(Ue=0,Dt=null,ff(t)):(Ue=0,Dt=null,$l(e,t,s,7));break;case 5:var o=null;switch(Ce.tag){case 26:o=Ce.memoizedState;case 5:case 27:var p=Ce;if(o?Wf(o):p.stateNode.complete){Ue=0,Dt=null;var x=p.sibling;if(x!==null)Ce=x;else{var L=p.return;L!==null?(Ce=L,Wr(L)):Ce=null}break t}}Ue=0,Dt=null,$l(e,t,s,5);break;case 6:Ue=0,Dt=null,$l(e,t,s,6);break;case 8:ui(),Je=6;break e;default:throw Error(i(462))}}zp();break}catch(X){sf(e,X)}while(!0);return ua=nl=null,U.H=l,U.A=r,Le=a,Ce!==null?0:(Ve=null,Ae=0,hr(),Je)}function zp(){for(;Ce!==null&&!kt();)mf(Ce)}function mf(e){var t=Lm(e.alternate,e,Ea);e.memoizedProps=e.pendingProps,t===null?Wr(e):Ce=t}function ff(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Am(a,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Am(a,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:_c(t);default:Um(a,t),t=Ce=io(t,Ea),t=Lm(a,t,Ea)}e.memoizedProps=e.pendingProps,t===null?Wr(e):Ce=t}function $l(e,t,a,l){ua=nl=null,_c(t),Ul=null,wn=0;var r=t.return;try{if(yp(e,r,t,a,Ae)){Je=1,jr(e,Bt(a,e.current)),Ce=null;return}}catch(s){if(r!==null)throw Ce=r,s;Je=1,jr(e,Bt(a,e.current)),Ce=null;return}t.flags&32768?(Re||l===1?e=!0:Gl||(Ae&536870912)!==0?e=!1:(ja=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rt.current,l!==null&&l.tag===13&&(l.flags|=16384))),df(t,e)):Wr(t)}function Wr(e){var t=e;do{if((t.flags&32768)!==0){df(t,ja);return}e=t.return;var a=bp(t.alternate,t,Ea);if(a!==null){Ce=a;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Je===0&&(Je=5)}function df(e,t){do{var a=xp(e.alternate,e);if(a!==null){a.flags&=32767,Ce=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=a}while(e!==null);Je=6,Ce=null}function pf(e,t,a,l,r,s,o,p,x){e.cancelPendingCommit=null;do Ir();while(lt!==0);if((Le&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(s=t.lanes|t.childLanes,s|=Is,i0(e,a,s,o,p,x),e===Ve&&(Ce=Ve=null,Ae=0),Xl=t,Va=e,ba=a,si=s,ci=r,af=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Op($t,function(){return Ef(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,r=_.p,_.p=2,o=Le,Le|=4;try{wp(e,t,a)}finally{Le=o,_.p=r,U.T=l}}lt=1,gf(),hf(),yf()}}function gf(){if(lt===1){lt=0;var e=Va,t=Xl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=_.p;_.p=2;var r=Le;Le|=4;try{Km(t,e);var s=wi,o=Pu(e.containerInfo),p=s.focusedElem,x=s.selectionRange;if(o!==p&&p&&p.ownerDocument&&Iu(p.ownerDocument.documentElement,p)){if(x!==null&&$s(p)){var L=x.start,X=x.end;if(X===void 0&&(X=L),"selectionStart"in p)p.selectionStart=L,p.selectionEnd=Math.min(X,p.value.length);else{var J=p.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var V=H.getSelection(),oe=p.textContent.length,he=Math.min(x.start,oe),qe=x.end===void 0?he:Math.min(x.end,oe);!V.extend&&he>qe&&(o=qe,qe=he,he=o);var C=Wu(p,he),N=Wu(p,qe);if(C&&N&&(V.rangeCount!==1||V.anchorNode!==C.node||V.anchorOffset!==C.offset||V.focusNode!==N.node||V.focusOffset!==N.offset)){var O=J.createRange();O.setStart(C.node,C.offset),V.removeAllRanges(),he>qe?(V.addRange(O),V.extend(N.node,N.offset)):(O.setEnd(N.node,N.offset),V.addRange(O))}}}}for(J=[],V=p;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<J.length;p++){var K=J[p];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}os=!!xi,wi=xi=null}finally{Le=r,_.p=l,U.T=a}}e.current=t,lt=2}}function hf(){if(lt===2){lt=0;var e=Va,t=Xl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=_.p;_.p=2;var r=Le;Le|=4;try{Gm(e,t.alternate,t)}finally{Le=r,_.p=l,U.T=a}}lt=3}}function yf(){if(lt===4||lt===3){lt=0,Na();var e=Va,t=Xl,a=ba,l=af;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,Xl=Va=null,vf(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(qa=null),As(a),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ln,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=U.T,r=_.p,_.p=2,U.T=null;try{for(var s=e.onRecoverableError,o=0;o<l.length;o++){var p=l[o];s(p.value,{componentStack:p.stack})}}finally{U.T=t,_.p=r}}(ba&3)!==0&&Ir(),aa(e),r=e.pendingLanes,(a&261930)!==0&&(r&42)!==0?e===ii?Bn++:(Bn=0,ii=e):Bn=0,qn(0)}}function vf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bn(t)))}function Ir(){return gf(),hf(),yf(),Ef()}function Ef(){if(lt!==5)return!1;var e=Va,t=si;si=0;var a=As(ba),l=U.T,r=_.p;try{_.p=32>a?32:a,U.T=null,a=ci,ci=null;var s=Va,o=ba;if(lt=0,Xl=Va=null,ba=0,(Le&6)!==0)throw Error(i(331));var p=Le;if(Le|=4,Pm(s.current),Fm(s,s.current,o,a),Le=p,qn(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ln,s)}catch{}return!0}finally{_.p=r,U.T=l,vf(e,t)}}function bf(e,t,a){t=Bt(a,t),t=qc(e.stateNode,t,2),e=La(e,t,2),e!==null&&(rn(e,2),aa(e))}function He(e,t,a){if(e.tag===3)bf(e,e,a);else for(;t!==null;){if(t.tag===3){bf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qa===null||!qa.has(l))){e=Bt(a,e),a=bm(2),l=La(t,a,2),l!==null&&(xm(a,l,t,e),rn(l,2),aa(l));break}}t=t.return}}function mi(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new _p;var r=new Set;l.set(t,r)}else r=l.get(t),r===void 0&&(r=new Set,l.set(t,r));r.has(a)||(li=!0,r.add(a),e=Rp.bind(null,e,t,a),t.then(e,e))}function Rp(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ve===e&&(Ae&a)===a&&(Je===4||Je===3&&(Ae&62914560)===Ae&&300>pt()-Zr?(Le&2)===0&&Zl(e,0):ni|=a,Ql===Ae&&(Ql=0)),aa(e)}function xf(e,t){t===0&&(t=du()),e=tl(e,t),e!==null&&(rn(e,t),aa(e))}function Mp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),xf(e,a)}function Dp(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),xf(e,a)}function Op(e,t){return ke(e,t)}var Pr=null,Kl=null,fi=!1,es=!1,di=!1,Ga=0;function aa(e){e!==Kl&&e.next===null&&(Kl===null?Pr=Kl=e:Kl=Kl.next=e),es=!0,fi||(fi=!0,kp())}function qn(e,t){if(!di&&es){di=!0;do for(var a=!1,l=Pr;l!==null;){if(e!==0){var r=l.pendingLanes;if(r===0)var s=0;else{var o=l.suspendedLanes,p=l.pingedLanes;s=(1<<31-Tt(42|e)+1)-1,s&=r&~(o&~p),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,_f(l,s))}else s=Ae,s=nr(l,l===Ve?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(s&3)===0||nn(l,s)||(a=!0,_f(l,s));l=l.next}while(a);di=!1}}function Lp(){wf()}function wf(){es=fi=!1;var e=0;Ga!==0&&Xp()&&(e=Ga);for(var t=pt(),a=null,l=Pr;l!==null;){var r=l.next,s=Sf(l,t);s===0?(l.next=null,a===null?Pr=r:a.next=r,r===null&&(Kl=a)):(a=l,(e!==0||(s&3)!==0)&&(es=!0)),l=r}lt!==0&&lt!==5||qn(e),Ga!==0&&(Ga=0)}function Sf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var o=31-Tt(s),p=1<<o,x=r[o];x===-1?((p&a)===0||(p&l)!==0)&&(r[o]=c0(p,t)):x<=t&&(e.expiredLanes|=p),s&=~p}if(t=Ve,a=Ae,a=nr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&at(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||nn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&at(l),As(a)){case 2:case 8:a=Ns;break;case 32:a=$t;break;case 268435456:a=fu;break;default:a=$t}return l=Nf.bind(null,e),a=ke(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&at(l),e.callbackPriority=2,e.callbackNode=null,2}function Nf(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ir()&&e.callbackNode!==a)return null;var l=Ae;return l=nr(e,e===Ve?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(nf(e,l,t),Sf(e,pt()),e.callbackNode!=null&&e.callbackNode===a?Nf.bind(null,e):null)}function _f(e,t){if(Ir())return null;nf(e,t,!0)}function kp(){$p(function(){(Le&6)!==0?ke(pl,Lp):wf()})}function pi(){if(Ga===0){var e=Ol;e===0&&(e=tr,tr<<=1,(tr&261888)===0&&(tr=256)),Ga=e}return Ga}function Cf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ir(""+e)}function Tf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Up(e,t,a,l,r){if(t==="submit"&&a&&a.stateNode===r){var s=Cf((r[yt]||null).action),o=l.submitter;o&&(t=(t=o[yt]||null)?Cf(t.formAction):o.getAttribute("formAction"),t!==null&&(s=t,o=null));var p=new fr("action","action",null,l,r);e.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ga!==0){var x=o?Tf(r,o):new FormData(r);Lc(a,{pending:!0,data:x,method:r.method,action:s},null,x)}}else typeof s=="function"&&(p.preventDefault(),x=o?Tf(r,o):new FormData(r),Lc(a,{pending:!0,data:x,method:r.method,action:s},s,x))},currentTarget:r}]})}}for(var gi=0;gi<Ws.length;gi++){var hi=Ws[gi],Hp=hi.toLowerCase(),jp=hi[0].toUpperCase()+hi.slice(1);Kt(Hp,"on"+jp)}Kt(ao,"onAnimationEnd"),Kt(lo,"onAnimationIteration"),Kt(no,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(ep,"onTransitionRun"),Kt(tp,"onTransitionStart"),Kt(ap,"onTransitionCancel"),Kt(ro,"onTransitionEnd"),El("onMouseEnter",["mouseout","mouseover"]),El("onMouseLeave",["mouseout","mouseover"]),El("onPointerEnter",["pointerout","pointerover"]),El("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vn));function Af(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],r=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var o=l.length-1;0<=o;o--){var p=l[o],x=p.instance,L=p.currentTarget;if(p=p.listener,x!==s&&r.isPropagationStopped())break e;s=p,r.currentTarget=L;try{s(r)}catch(X){gr(X)}r.currentTarget=null,s=x}else for(o=0;o<l.length;o++){if(p=l[o],x=p.instance,L=p.currentTarget,p=p.listener,x!==s&&r.isPropagationStopped())break e;s=p,r.currentTarget=L;try{s(r)}catch(X){gr(X)}r.currentTarget=null,s=x}}}}function Te(e,t){var a=t[zs];a===void 0&&(a=t[zs]=new Set);var l=e+"__bubble";a.has(l)||(zf(t,e,2,!1),a.add(l))}function yi(e,t,a){var l=0;t&&(l|=4),zf(a,e,l,t)}var ts="_reactListening"+Math.random().toString(36).slice(2);function vi(e){if(!e[ts]){e[ts]=!0,bu.forEach(function(a){a!=="selectionchange"&&(Bp.has(a)||yi(a,!1,e),yi(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ts]||(t[ts]=!0,yi("selectionchange",!1,t))}}function zf(e,t,a,l){switch(nd(t)){case 2:var r=dg;break;case 8:r=pg;break;default:r=Oi}a=r.bind(null,t,a,e),r=void 0,!js||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),l?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Ei(e,t,a,l,r){var s=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var o=l.tag;if(o===3||o===4){var p=l.stateNode.containerInfo;if(p===r)break;if(o===4)for(o=l.return;o!==null;){var x=o.tag;if((x===3||x===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;p!==null;){if(o=hl(p),o===null)return;if(x=o.tag,x===5||x===6||x===26||x===27){l=s=o;continue e}p=p.parentNode}}l=l.return}Du(function(){var L=s,X=Us(a),J=[];e:{var H=so.get(e);if(H!==void 0){var V=fr,oe=e;switch(e){case"keypress":if(or(a)===0)break e;case"keydown":case"keyup":V=D0;break;case"focusin":oe="focus",V=Ys;break;case"focusout":oe="blur",V=Ys;break;case"beforeblur":case"afterblur":V=Ys;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=b0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=k0;break;case ao:case lo:case no:V=S0;break;case ro:V=H0;break;case"scroll":case"scrollend":V=v0;break;case"wheel":V=B0;break;case"copy":case"cut":case"paste":V=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Hu;break;case"toggle":case"beforetoggle":V=V0}var he=(t&4)!==0,qe=!he&&(e==="scroll"||e==="scrollend"),C=he?H!==null?H+"Capture":null:H;he=[];for(var N=L,O;N!==null;){var K=N;if(O=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||O===null||C===null||(K=un(N,C),K!=null&&he.push(Yn(N,K,O))),qe)break;N=N.return}0<he.length&&(H=new V(H,oe,null,a,X),J.push({event:H,listeners:he}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",H&&a!==ks&&(oe=a.relatedTarget||a.fromElement)&&(hl(oe)||oe[gl]))break e;if((V||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,V?(oe=a.relatedTarget||a.toElement,V=L,oe=oe?hl(oe):null,oe!==null&&(qe=g(oe),he=oe.tag,oe!==qe||he!==5&&he!==27&&he!==6)&&(oe=null)):(V=null,oe=L),V!==oe)){if(he=ku,K="onMouseLeave",C="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(he=Hu,K="onPointerLeave",C="onPointerEnter",N="pointer"),qe=V==null?H:cn(V),O=oe==null?H:cn(oe),H=new he(K,N+"leave",V,a,X),H.target=qe,H.relatedTarget=O,K=null,hl(X)===L&&(he=new he(C,N+"enter",oe,a,X),he.target=O,he.relatedTarget=qe,K=he),qe=K,V&&oe)t:{for(he=qp,C=V,N=oe,O=0,K=C;K;K=he(K))O++;K=0;for(var pe=N;pe;pe=he(pe))K++;for(;0<O-K;)C=he(C),O--;for(;0<K-O;)N=he(N),K--;for(;O--;){if(C===N||N!==null&&C===N.alternate){he=C;break t}C=he(C),N=he(N)}he=null}else he=null;V!==null&&Rf(J,H,V,he,!1),oe!==null&&qe!==null&&Rf(J,qe,oe,he,!0)}}e:{if(H=L?cn(L):window,V=H.nodeName&&H.nodeName.toLowerCase(),V==="select"||V==="input"&&H.type==="file")var De=Xu;else if(Gu(H))if(Zu)De=W0;else{De=J0;var me=K0}else V=H.nodeName,!V||V.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Ls(L.elementType)&&(De=Xu):De=F0;if(De&&(De=De(e,L))){Qu(J,De,a,X);break e}me&&me(e,H,L),e==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Os(H,"number",H.value)}switch(me=L?cn(L):window,e){case"focusin":(Gu(me)||me.contentEditable==="true")&&(_l=me,Ks=L,yn=null);break;case"focusout":yn=Ks=_l=null;break;case"mousedown":Js=!0;break;case"contextmenu":case"mouseup":case"dragend":Js=!1,eo(J,a,X);break;case"selectionchange":if(P0)break;case"keydown":case"keyup":eo(J,a,X)}var Se;if(Qs)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Nl?Vu(e,a)&&(ze="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(ju&&a.locale!=="ko"&&(Nl||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Nl&&(Se=Ou()):(Ta=X,Bs="value"in Ta?Ta.value:Ta.textContent,Nl=!0)),me=as(L,ze),0<me.length&&(ze=new Uu(ze,e,null,a,X),J.push({event:ze,listeners:me}),Se?ze.data=Se:(Se=Yu(a),Se!==null&&(ze.data=Se)))),(Se=G0?Q0(e,a):X0(e,a))&&(ze=as(L,"onBeforeInput"),0<ze.length&&(me=new Uu("onBeforeInput","beforeinput",null,a,X),J.push({event:me,listeners:ze}),me.data=Se)),Up(J,e,L,a,X)}Af(J,t)})}function Yn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function as(e,t){for(var a=t+"Capture",l=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=un(e,a),r!=null&&l.unshift(Yn(e,r,s)),r=un(e,t),r!=null&&l.push(Yn(e,r,s))),e.tag===3)return l;e=e.return}return[]}function qp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rf(e,t,a,l,r){for(var s=t._reactName,o=[];a!==null&&a!==l;){var p=a,x=p.alternate,L=p.stateNode;if(p=p.tag,x!==null&&x===l)break;p!==5&&p!==26&&p!==27||L===null||(x=L,r?(L=un(a,s),L!=null&&o.unshift(Yn(a,L,x))):r||(L=un(a,s),L!=null&&o.push(Yn(a,L,x)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var Vp=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function Mf(e){return(typeof e=="string"?e:""+e).replace(Vp,`
`).replace(Yp,"")}function Df(e,t){return t=Mf(t),Mf(e)===t}function Be(e,t,a,l,r,s){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||xl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&xl(e,""+l);break;case"className":sr(e,"class",l);break;case"tabIndex":sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,a,l);break;case"style":Ru(e,l,s);break;case"data":if(t!=="object"){sr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ir(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&Be(e,t,"name",r.name,r,null),Be(e,t,"formEncType",r.formEncType,r,null),Be(e,t,"formMethod",r.formMethod,r,null),Be(e,t,"formTarget",r.formTarget,r,null)):(Be(e,t,"encType",r.encType,r,null),Be(e,t,"method",r.method,r,null),Be(e,t,"target",r.target,r,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ir(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ra);break;case"onScroll":l!=null&&Te("scroll",e);break;case"onScrollEnd":l!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ir(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Te("beforetoggle",e),Te("toggle",e),rr(e,"popover",l);break;case"xlinkActuate":na(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":na(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":na(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":na(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":na(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":na(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":na(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":rr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=h0.get(a)||a,rr(e,a,l))}}function bi(e,t,a,l,r,s){switch(a){case"style":Ru(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(r.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?xl(e,l):(typeof l=="number"||typeof l=="bigint")&&xl(e,""+l);break;case"onScroll":l!=null&&Te("scroll",e);break;case"onScrollEnd":l!=null&&Te("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),s=e[yt]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof l=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,r);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):rr(e,a,l)}}}function mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var l=!1,r=!1,s;for(s in a)if(a.hasOwnProperty(s)){var o=a[s];if(o!=null)switch(s){case"src":l=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Be(e,t,s,o,a,null)}}r&&Be(e,t,"srcSet",a.srcSet,a,null),l&&Be(e,t,"src",a.src,a,null);return;case"input":Te("invalid",e);var p=s=o=r=null,x=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":r=X;break;case"type":o=X;break;case"checked":x=X;break;case"defaultChecked":L=X;break;case"value":s=X;break;case"defaultValue":p=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,t));break;default:Be(e,t,l,X,a,null)}}Cu(e,s,p,x,L,o,r,!1);return;case"select":Te("invalid",e),l=o=s=null;for(r in a)if(a.hasOwnProperty(r)&&(p=a[r],p!=null))switch(r){case"value":s=p;break;case"defaultValue":o=p;break;case"multiple":l=p;default:Be(e,t,r,p,a,null)}t=s,a=o,e.multiple=!!l,t!=null?bl(e,!!l,t,!1):a!=null&&bl(e,!!l,a,!0);return;case"textarea":Te("invalid",e),s=r=l=null;for(o in a)if(a.hasOwnProperty(o)&&(p=a[o],p!=null))switch(o){case"value":l=p;break;case"defaultValue":r=p;break;case"children":s=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:Be(e,t,o,p,a,null)}Au(e,l,r,s);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Be(e,t,x,l,a,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(l=0;l<Vn.length;l++)Te(Vn[l],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Be(e,t,L,l,a,null)}return;default:if(Ls(t)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&bi(e,t,X,l,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(l=a[p],l!=null&&Be(e,t,p,l,a,null))}function Gp(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,o=null,p=null,x=null,L=null,X=null;for(V in a){var J=a[V];if(a.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":x=J;default:l.hasOwnProperty(V)||Be(e,t,V,null,l,J)}}for(var H in l){var V=l[H];if(J=a[H],l.hasOwnProperty(H)&&(V!=null||J!=null))switch(H){case"type":s=V;break;case"name":r=V;break;case"checked":L=V;break;case"defaultChecked":X=V;break;case"value":o=V;break;case"defaultValue":p=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,t));break;default:V!==J&&Be(e,t,H,V,l,J)}}Ds(e,o,p,x,L,X,s,r);return;case"select":V=o=p=H=null;for(s in a)if(x=a[s],a.hasOwnProperty(s)&&x!=null)switch(s){case"value":break;case"multiple":V=x;default:l.hasOwnProperty(s)||Be(e,t,s,null,l,x)}for(r in l)if(s=l[r],x=a[r],l.hasOwnProperty(r)&&(s!=null||x!=null))switch(r){case"value":H=s;break;case"defaultValue":p=s;break;case"multiple":o=s;default:s!==x&&Be(e,t,r,s,l,x)}t=p,a=o,l=V,H!=null?bl(e,!!a,H,!1):!!l!=!!a&&(t!=null?bl(e,!!a,t,!0):bl(e,!!a,a?[]:"",!1));return;case"textarea":V=H=null;for(p in a)if(r=a[p],a.hasOwnProperty(p)&&r!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Be(e,t,p,null,l,r)}for(o in l)if(r=l[o],s=a[o],l.hasOwnProperty(o)&&(r!=null||s!=null))switch(o){case"value":H=r;break;case"defaultValue":V=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(i(91));break;default:r!==s&&Be(e,t,o,r,l,s)}Tu(e,H,V);return;case"option":for(var oe in a)if(H=a[oe],a.hasOwnProperty(oe)&&H!=null&&!l.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Be(e,t,oe,null,l,H)}for(x in l)if(H=l[x],V=a[x],l.hasOwnProperty(x)&&H!==V&&(H!=null||V!=null))switch(x){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Be(e,t,x,H,l,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he)&&Be(e,t,he,null,l,H);for(L in l)if(H=l[L],V=a[L],l.hasOwnProperty(L)&&H!==V&&(H!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:Be(e,t,L,H,l,V)}return;default:if(Ls(t)){for(var qe in a)H=a[qe],a.hasOwnProperty(qe)&&H!==void 0&&!l.hasOwnProperty(qe)&&bi(e,t,qe,void 0,l,H);for(X in l)H=l[X],V=a[X],!l.hasOwnProperty(X)||H===V||H===void 0&&V===void 0||bi(e,t,X,H,l,V);return}}for(var C in a)H=a[C],a.hasOwnProperty(C)&&H!=null&&!l.hasOwnProperty(C)&&Be(e,t,C,null,l,H);for(J in l)H=l[J],V=a[J],!l.hasOwnProperty(J)||H===V||H==null&&V==null||Be(e,t,J,H,l,V)}function Of(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var r=a[l],s=r.transferSize,o=r.initiatorType,p=r.duration;if(s&&p&&Of(o)){for(o=0,p=r.responseEnd,l+=1;l<a.length;l++){var x=a[l],L=x.startTime;if(L>p)break;var X=x.transferSize,J=x.initiatorType;X&&Of(J)&&(x=x.responseEnd,o+=X*(x<p?1:(p-L)/(x-L)))}if(--l,t+=8*(s+o)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xi=null,wi=null;function ls(e){return e.nodeType===9?e:e.ownerDocument}function Lf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Si(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ni=null;function Xp(){var e=window.event;return e&&e.type==="popstate"?e===Ni?!1:(Ni=e,!0):(Ni=null,!1)}var Uf=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(Kp)}:Uf;function Kp(e){setTimeout(function(){throw e})}function Qa(e){return e==="head"}function jf(e,t){var a=t,l=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(r),Il(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Gn(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Gn(a);for(var s=a.firstChild;s;){var o=s.nextSibling,p=s.nodeName;s[sn]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&s.rel.toLowerCase()==="stylesheet"||a.removeChild(s),s=o}}else a==="body"&&Gn(e.ownerDocument.body);a=r}while(a);Il(t)}function Bf(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function _i(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_i(a),Rs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Jp(e,t,a,l){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[sn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function Fp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qt(e.nextSibling),e===null))return null;return e}function qf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qt(e.nextSibling),e===null))return null;return e}function Ci(e){return e.data==="$?"||e.data==="$~"}function Ti(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ai=null;function Vf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Qt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Gf(e,t,a){switch(t=ls(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Gn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rs(e)}var Xt=new Map,Qf=new Set;function ns(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=_.d;_.d={f:Ip,r:Pp,D:eg,C:tg,L:ag,m:lg,X:rg,S:ng,M:sg};function Ip(){var e=xa.f(),t=Jr();return e||t}function Pp(e){var t=yl(e);t!==null&&t.tag===5&&t.type==="form"?sm(t):xa.r(e)}var Jl=typeof document>"u"?null:document;function Xf(e,t,a){var l=Jl;if(l&&typeof t=="string"&&t){var r=Ht(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),Qf.has(r)||(Qf.add(r),e={rel:e,crossOrigin:a,href:t},l.querySelector(r)===null&&(t=l.createElement("link"),mt(t,"link",e),rt(t),l.head.appendChild(t)))}}function eg(e){xa.D(e),Xf("dns-prefetch",e,null)}function tg(e,t){xa.C(e,t),Xf("preconnect",e,t)}function ag(e,t,a){xa.L(e,t,a);var l=Jl;if(l&&e&&t){var r='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+Ht(a.imageSizes)+'"]')):r+='[href="'+Ht(e)+'"]';var s=r;switch(t){case"style":s=Fl(e);break;case"script":s=Wl(e)}Xt.has(s)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Xt.set(s,e),l.querySelector(r)!==null||t==="style"&&l.querySelector(Qn(s))||t==="script"&&l.querySelector(Xn(s))||(t=l.createElement("link"),mt(t,"link",e),rt(t),l.head.appendChild(t)))}}function lg(e,t){xa.m(e,t);var a=Jl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Ht(l)+'"][href="'+Ht(e)+'"]',s=r;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Wl(e)}if(!Xt.has(s)&&(e=S({rel:"modulepreload",href:e},t),Xt.set(s,e),a.querySelector(r)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xn(s)))return}l=a.createElement("link"),mt(l,"link",e),rt(l),a.head.appendChild(l)}}}function ng(e,t,a){xa.S(e,t,a);var l=Jl;if(l&&e){var r=vl(l).hoistableStyles,s=Fl(e);t=t||"default";var o=r.get(s);if(!o){var p={loading:0,preload:null};if(o=l.querySelector(Qn(s)))p.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Xt.get(s))&&zi(e,a);var x=o=l.createElement("link");rt(x),mt(x,"link",e),x._p=new Promise(function(L,X){x.onload=L,x.onerror=X}),x.addEventListener("load",function(){p.loading|=1}),x.addEventListener("error",function(){p.loading|=2}),p.loading|=4,rs(o,t,l)}o={type:"stylesheet",instance:o,count:1,state:p},r.set(s,o)}}}function rg(e,t){xa.X(e,t);var a=Jl;if(a&&e){var l=vl(a).hoistableScripts,r=Wl(e),s=l.get(r);s||(s=a.querySelector(Xn(r)),s||(e=S({src:e,async:!0},t),(t=Xt.get(r))&&Ri(e,t),s=a.createElement("script"),rt(s),mt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(r,s))}}function sg(e,t){xa.M(e,t);var a=Jl;if(a&&e){var l=vl(a).hoistableScripts,r=Wl(e),s=l.get(r);s||(s=a.querySelector(Xn(r)),s||(e=S({src:e,async:!0,type:"module"},t),(t=Xt.get(r))&&Ri(e,t),s=a.createElement("script"),rt(s),mt(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(r,s))}}function Zf(e,t,a,l){var r=(r=de.current)?ns(r):null;if(!r)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Fl(a.href),a=vl(r).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fl(a.href);var s=vl(r).hoistableStyles,o=s.get(e);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,o),(s=r.querySelector(Qn(e)))&&!s._p&&(o.instance=s,o.state.loading=5),Xt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xt.set(e,a),s||cg(r,e,a,o.state))),t&&l===null)throw Error(i(528,""));return o}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wl(a),a=vl(r).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Fl(e){return'href="'+Ht(e)+'"'}function Qn(e){return'link[rel="stylesheet"]['+e+"]"}function $f(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function cg(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),mt(t,"link",a),rt(t),e.head.appendChild(t))}function Wl(e){return'[src="'+Ht(e)+'"]'}function Xn(e){return"script[async]"+e}function Kf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(l)return t.instance=l,rt(l),l;var r=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),rt(l),mt(l,"style",r),rs(l,a.precedence,e),t.instance=l;case"stylesheet":r=Fl(a.href);var s=e.querySelector(Qn(r));if(s)return t.state.loading|=4,t.instance=s,rt(s),s;l=$f(a),(r=Xt.get(r))&&zi(l,r),s=(e.ownerDocument||e).createElement("link"),rt(s);var o=s;return o._p=new Promise(function(p,x){o.onload=p,o.onerror=x}),mt(s,"link",l),t.state.loading|=4,rs(s,a.precedence,e),t.instance=s;case"script":return s=Wl(a.src),(r=e.querySelector(Xn(s)))?(t.instance=r,rt(r),r):(l=a,(r=Xt.get(s))&&(l=S({},a),Ri(l,r)),e=e.ownerDocument||e,r=e.createElement("script"),rt(r),mt(r,"link",l),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,rs(l,a.precedence,e));return t.instance}function rs(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=l.length?l[l.length-1]:null,s=r,o=0;o<l.length;o++){var p=l[o];if(p.dataset.precedence===t)s=p;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function zi(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ri(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ss=null;function Jf(e,t,a){if(ss===null){var l=new Map,r=ss=new Map;r.set(a,l)}else r=ss,l=r.get(a),l||(l=new Map,r.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var s=a[r];if(!(s[sn]||s[ct]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var o=s.getAttribute(t)||"";o=e+o;var p=l.get(o);p?p.push(s):l.set(o,[s])}}return l}function Ff(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ig(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ug(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var r=Fl(l.href),s=t.querySelector(Qn(r));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=cs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=s,rt(s);return}s=t.ownerDocument||t,l=$f(l),(r=Xt.get(r))&&zi(l,r),s=s.createElement("link"),rt(s);var o=s;o._p=new Promise(function(p,x){o.onload=p,o.onerror=x}),mt(s,"link",l),a.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=cs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Mi=0;function og(e,t){return e.stylesheets&&e.count===0&&us(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&us(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Mi===0&&(Mi=62500*Qp());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&us(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Mi?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(r)}}:null}function cs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)us(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var is=null;function us(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,is=new Map,t.forEach(mg,e),is=null,cs.call(e))}function mg(e,t){if(!(t.state.loading&4)){var a=is.get(e);if(a)var l=a.get(null);else{a=new Map,is.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var o=r[s];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),l=o)}l&&a.set(null,l)}r=t.instance,o=r.getAttribute("data-precedence"),s=a.get(o)||l,s===l&&a.set(null,r),a.set(o,r),this.count++,l=cs.bind(this),r.addEventListener("load",l),r.addEventListener("error",l),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Zn={$$typeof:k,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function fg(e,t,a,l,r,s,o,p,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cs(0),this.hiddenUpdates=Cs(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function If(e,t,a,l,r,s,o,p,x,L,X,J){return e=new fg(e,t,a,o,x,L,X,J,p),t=1,s===!0&&(t|=24),s=zt(3,null,null,t),e.current=s,s.stateNode=e,t=oc(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:a,cache:t},pc(s),e}function Pf(e){return e?(e=Al,e):Al}function ed(e,t,a,l,r,s){r=Pf(r),l.context===null?l.context=r:l.pendingContext=r,l=Oa(t),l.payload={element:a},s=s===void 0?null:s,s!==null&&(l.callback=s),a=La(e,l,t),a!==null&&(St(a,e,t),Nn(a,e,t))}function td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Di(e,t){td(e,t),(e=e.alternate)&&td(e,t)}function ad(e){if(e.tag===13||e.tag===31){var t=tl(e,67108864);t!==null&&St(t,e,67108864),Di(e,67108864)}}function ld(e){if(e.tag===13||e.tag===31){var t=Lt();t=Ts(t);var a=tl(e,t);a!==null&&St(a,e,t),Di(e,t)}}var os=!0;function dg(e,t,a,l){var r=U.T;U.T=null;var s=_.p;try{_.p=2,Oi(e,t,a,l)}finally{_.p=s,U.T=r}}function pg(e,t,a,l){var r=U.T;U.T=null;var s=_.p;try{_.p=8,Oi(e,t,a,l)}finally{_.p=s,U.T=r}}function Oi(e,t,a,l){if(os){var r=Li(l);if(r===null)Ei(e,t,l,ms,a),rd(e,l);else if(hg(r,e,t,a,l))l.stopPropagation();else if(rd(e,l),t&4&&-1<gg.indexOf(e)){for(;r!==null;){var s=yl(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var o=Fa(s.pendingLanes);if(o!==0){var p=s;for(p.pendingLanes|=2,p.entangledLanes|=2;o;){var x=1<<31-Tt(o);p.entanglements[1]|=x,o&=~x}aa(s),(Le&6)===0&&($r=pt()+500,qn(0))}}break;case 31:case 13:p=tl(s,2),p!==null&&St(p,s,2),Jr(),Di(s,2)}if(s=Li(l),s===null&&Ei(e,t,l,ms,a),s===r)break;r=s}r!==null&&l.stopPropagation()}else Ei(e,t,l,null,a)}}function Li(e){return e=Us(e),ki(e)}var ms=null;function ki(e){if(ms=null,e=hl(e),e!==null){var t=g(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=v(t),e!==null)return e;e=null}else if(a===31){if(e=b(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ms=e,null}function nd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case pl:return 2;case Ns:return 8;case $t:case _s:return 32;case fu:return 268435456;default:return 32}default:return 32}}var Ui=!1,Xa=null,Za=null,$a=null,$n=new Map,Kn=new Map,Ka=[],gg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rd(e,t){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(t.pointerId)}}function Jn(e,t,a,l,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:s,targetContainers:[r]},t!==null&&(t=yl(t),t!==null&&ad(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function hg(e,t,a,l,r){switch(t){case"focusin":return Xa=Jn(Xa,e,t,a,l,r),!0;case"dragenter":return Za=Jn(Za,e,t,a,l,r),!0;case"mouseover":return $a=Jn($a,e,t,a,l,r),!0;case"pointerover":var s=r.pointerId;return $n.set(s,Jn($n.get(s)||null,e,t,a,l,r)),!0;case"gotpointercapture":return s=r.pointerId,Kn.set(s,Jn(Kn.get(s)||null,e,t,a,l,r)),!0}return!1}function sd(e){var t=hl(e.target);if(t!==null){var a=g(t);if(a!==null){if(t=a.tag,t===13){if(t=v(a),t!==null){e.blockedOn=t,vu(e.priority,function(){ld(a)});return}}else if(t===31){if(t=b(a),t!==null){e.blockedOn=t,vu(e.priority,function(){ld(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Li(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ks=l,a.target.dispatchEvent(l),ks=null}else return t=yl(a),t!==null&&ad(t),e.blockedOn=a,!1;t.shift()}return!0}function cd(e,t,a){fs(e)&&a.delete(t)}function yg(){Ui=!1,Xa!==null&&fs(Xa)&&(Xa=null),Za!==null&&fs(Za)&&(Za=null),$a!==null&&fs($a)&&($a=null),$n.forEach(cd),Kn.forEach(cd)}function ds(e,t){e.blockedOn===t&&(e.blockedOn=null,Ui||(Ui=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,yg)))}var ps=null;function id(e){ps!==e&&(ps=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){ps===e&&(ps=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],r=e[t+2];if(typeof l!="function"){if(ki(l||a)===null)continue;break}var s=yl(a);s!==null&&(e.splice(t,3),t-=3,Lc(s,{pending:!0,data:r,method:a.method,action:l},l,r))}}))}function Il(e){function t(x){return ds(x,e)}Xa!==null&&ds(Xa,e),Za!==null&&ds(Za,e),$a!==null&&ds($a,e),$n.forEach(t),Kn.forEach(t);for(var a=0;a<Ka.length;a++){var l=Ka[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)sd(a),a.blockedOn===null&&Ka.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var r=a[l],s=a[l+1],o=r[yt]||null;if(typeof s=="function")o||id(a);else if(o){var p=null;if(s&&s.hasAttribute("formAction")){if(r=s,o=s[yt]||null)p=o.formAction;else if(ki(r)!==null)continue}else p=o.action;typeof p=="function"?a[l+1]=p:(a.splice(l,3),l-=3),id(a)}}}function ud(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(o){return r=o})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Hi(e){this._internalRoot=e}gs.prototype.render=Hi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,l=Lt();ed(a,l,e,t,null,null)},gs.prototype.unmount=Hi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ed(e.current,2,null,e,null,null),Jr(),t[gl]=null}};function gs(e){this._internalRoot=e}gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=yu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ka.length&&t!==0&&t<Ka[a].priority;a++);Ka.splice(a,0,e),a===0&&sd(e)}};var od=u.version;if(od!=="19.2.0")throw Error(i(527,od,"19.2.0"));_.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=h(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var vg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{ln=hs.inject(vg),Ct=hs}catch{}}return Fn.createRoot=function(e,t){if(!f(e))throw Error(i(299));var a=!1,l="",r=hm,s=ym,o=vm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=If(e,1,!1,null,null,a,l,null,r,s,o,ud),e[gl]=t.current,vi(e),new Hi(t)},Fn.hydrateRoot=function(e,t,a){if(!f(e))throw Error(i(299));var l=!1,r="",s=hm,o=ym,p=vm,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),t=If(e,1,!0,t,a??null,l,r,x,s,o,p,ud),t.context=Pf(null),a=t.current,l=Lt(),l=Ts(l),r=Oa(l),r.callback=null,La(a,r,l),a=l,t.current.lanes=a,rn(t,a),aa(t),e[gl]=t.current,vi(e),new gs(t)},Fn.version="19.2.0",Fn}var vd;function Cg(){if(vd)return Bi.exports;vd=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(u){console.error(u)}}return c(),Bi.exports=_g(),Bi.exports}var Tg=Cg();const Ag=Dd(Tg);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ed="popstate";function zg(c={}){function u(i,f){let{pathname:g,search:v,hash:b}=i.location;return Fi("",{pathname:g,search:v,hash:b},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function m(i,f){return typeof f=="string"?f:In(f)}return Mg(u,m,null,c)}function $e(c,u){if(c===!1||c===null||typeof c>"u")throw new Error(u)}function Zt(c,u){if(!c){typeof console<"u"&&console.warn(u);try{throw new Error(u)}catch{}}}function Rg(){return Math.random().toString(36).substring(2,10)}function bd(c,u){return{usr:c.state,key:c.key,idx:u}}function Fi(c,u,m=null,i){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof u=="string"?en(u):u,state:m,key:u&&u.key||i||Rg()}}function In({pathname:c="/",search:u="",hash:m=""}){return u&&u!=="?"&&(c+=u.charAt(0)==="?"?u:"?"+u),m&&m!=="#"&&(c+=m.charAt(0)==="#"?m:"#"+m),c}function en(c){let u={};if(c){let m=c.indexOf("#");m>=0&&(u.hash=c.substring(m),c=c.substring(0,m));let i=c.indexOf("?");i>=0&&(u.search=c.substring(i),c=c.substring(0,i)),c&&(u.pathname=c)}return u}function Mg(c,u,m,i={}){let{window:f=document.defaultView,v5Compat:g=!1}=i,v=f.history,b="POP",y=null,h=w();h==null&&(h=0,v.replaceState({...v.state,idx:h},""));function w(){return(v.state||{idx:null}).idx}function S(){b="POP";let G=w(),z=G==null?null:G-h;h=G,y&&y({action:b,location:B.location,delta:z})}function T(G,z){b="PUSH";let q=Fi(B.location,G,z);h=w()+1;let k=bd(q,h),ae=B.createHref(q);try{v.pushState(k,"",ae)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;f.location.assign(ae)}g&&y&&y({action:b,location:B.location,delta:1})}function A(G,z){b="REPLACE";let q=Fi(B.location,G,z);h=w();let k=bd(q,h),ae=B.createHref(q);v.replaceState(k,"",ae),g&&y&&y({action:b,location:B.location,delta:0})}function D(G){return Dg(G)}let B={get action(){return b},get location(){return c(f,v)},listen(G){if(y)throw new Error("A history only accepts one active listener");return f.addEventListener(Ed,S),y=G,()=>{f.removeEventListener(Ed,S),y=null}},createHref(G){return u(f,G)},createURL:D,encodeLocation(G){let z=D(G);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:T,replace:A,go(G){return v.go(G)}};return B}function Dg(c,u=!1){let m="http://localhost";typeof window<"u"&&(m=window.location.origin!=="null"?window.location.origin:window.location.href),$e(m,"No window.location.(origin|href) available to create URL");let i=typeof c=="string"?c:In(c);return i=i.replace(/ $/,"%20"),!u&&i.startsWith("//")&&(i=m+i),new URL(i,m)}function Od(c,u,m="/"){return Og(c,u,m,!1)}function Og(c,u,m,i){let f=typeof u=="string"?en(u):u,g=Sa(f.pathname||"/",m);if(g==null)return null;let v=Ld(c);Lg(v);let b=null;for(let y=0;b==null&&y<v.length;++y){let h=Xg(g);b=Gg(v[y],h,i)}return b}function Ld(c,u=[],m=[],i="",f=!1){let g=(v,b,y=f,h)=>{let w={relativePath:h===void 0?v.path||"":h,caseSensitive:v.caseSensitive===!0,childrenIndex:b,route:v};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(i)&&y)return;$e(w.relativePath.startsWith(i),`Absolute route path "${w.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(i.length)}let S=wa([i,w.relativePath]),T=m.concat(w);v.children&&v.children.length>0&&($e(v.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Ld(v.children,u,T,S,y)),!(v.path==null&&!v.index)&&u.push({path:S,score:Vg(S,v.index),routesMeta:T})};return c.forEach((v,b)=>{if(v.path===""||!v.path?.includes("?"))g(v,b);else for(let y of kd(v.path))g(v,b,!0,y)}),u}function kd(c){let u=c.split("/");if(u.length===0)return[];let[m,...i]=u,f=m.endsWith("?"),g=m.replace(/\?$/,"");if(i.length===0)return f?[g,""]:[g];let v=kd(i.join("/")),b=[];return b.push(...v.map(y=>y===""?g:[g,y].join("/"))),f&&b.push(...v),b.map(y=>c.startsWith("/")&&y===""?"/":y)}function Lg(c){c.sort((u,m)=>u.score!==m.score?m.score-u.score:Yg(u.routesMeta.map(i=>i.childrenIndex),m.routesMeta.map(i=>i.childrenIndex)))}var kg=/^:[\w-]+$/,Ug=3,Hg=2,jg=1,Bg=10,qg=-2,xd=c=>c==="*";function Vg(c,u){let m=c.split("/"),i=m.length;return m.some(xd)&&(i+=qg),u&&(i+=Hg),m.filter(f=>!xd(f)).reduce((f,g)=>f+(kg.test(g)?Ug:g===""?jg:Bg),i)}function Yg(c,u){return c.length===u.length&&c.slice(0,-1).every((i,f)=>i===u[f])?c[c.length-1]-u[u.length-1]:0}function Gg(c,u,m=!1){let{routesMeta:i}=c,f={},g="/",v=[];for(let b=0;b<i.length;++b){let y=i[b],h=b===i.length-1,w=g==="/"?u:u.slice(g.length)||"/",S=xs({path:y.relativePath,caseSensitive:y.caseSensitive,end:h},w),T=y.route;if(!S&&h&&m&&!i[i.length-1].route.index&&(S=xs({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},w)),!S)return null;Object.assign(f,S.params),v.push({params:f,pathname:wa([g,S.pathname]),pathnameBase:Jg(wa([g,S.pathnameBase])),route:T}),S.pathnameBase!=="/"&&(g=wa([g,S.pathnameBase]))}return v}function xs(c,u){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[m,i]=Qg(c.path,c.caseSensitive,c.end),f=u.match(m);if(!f)return null;let g=f[0],v=g.replace(/(.)\/+$/,"$1"),b=f.slice(1);return{params:i.reduce((h,{paramName:w,isOptional:S},T)=>{if(w==="*"){let D=b[T]||"";v=g.slice(0,g.length-D.length).replace(/(.)\/+$/,"$1")}const A=b[T];return S&&!A?h[w]=void 0:h[w]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:g,pathnameBase:v,pattern:c}}function Qg(c,u=!1,m=!0){Zt(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let i=[],f="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(v,b,y)=>(i.push({paramName:b,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return c.endsWith("*")?(i.push({paramName:"*"}),f+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?f+="\\/*$":c!==""&&c!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,u?void 0:"i"),i]}function Xg(c){try{return c.split("/").map(u=>decodeURIComponent(u).replace(/\//g,"%2F")).join("/")}catch(u){return Zt(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${u}).`),c}}function Sa(c,u){if(u==="/")return c;if(!c.toLowerCase().startsWith(u.toLowerCase()))return null;let m=u.endsWith("/")?u.length-1:u.length,i=c.charAt(m);return i&&i!=="/"?null:c.slice(m)||"/"}function Zg(c,u="/"){let{pathname:m,search:i="",hash:f=""}=typeof c=="string"?en(c):c;return{pathname:m?m.startsWith("/")?m:$g(m,u):u,search:Fg(i),hash:Wg(f)}}function $g(c,u){let m=u.replace(/\/+$/,"").split("/");return c.split("/").forEach(f=>{f===".."?m.length>1&&m.pop():f!=="."&&m.push(f)}),m.length>1?m.join("/"):"/"}function Gi(c,u,m,i){return`Cannot include a '${c}' character in a manually specified \`to.${u}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kg(c){return c.filter((u,m)=>m===0||u.route.path&&u.route.path.length>0)}function au(c){let u=Kg(c);return u.map((m,i)=>i===u.length-1?m.pathname:m.pathnameBase)}function lu(c,u,m,i=!1){let f;typeof c=="string"?f=en(c):(f={...c},$e(!f.pathname||!f.pathname.includes("?"),Gi("?","pathname","search",f)),$e(!f.pathname||!f.pathname.includes("#"),Gi("#","pathname","hash",f)),$e(!f.search||!f.search.includes("#"),Gi("#","search","hash",f)));let g=c===""||f.pathname==="",v=g?"/":f.pathname,b;if(v==null)b=m;else{let S=u.length-1;if(!i&&v.startsWith("..")){let T=v.split("/");for(;T[0]==="..";)T.shift(),S-=1;f.pathname=T.join("/")}b=S>=0?u[S]:"/"}let y=Zg(f,b),h=v&&v!=="/"&&v.endsWith("/"),w=(g||v===".")&&m.endsWith("/");return!y.pathname.endsWith("/")&&(h||w)&&(y.pathname+="/"),y}var wa=c=>c.join("/").replace(/\/\/+/g,"/"),Jg=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),Fg=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,Wg=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c;function Ig(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}var Ud=["POST","PUT","PATCH","DELETE"];new Set(Ud);var Pg=["GET",...Ud];new Set(Pg);var tn=d.createContext(null);tn.displayName="DataRouter";var ws=d.createContext(null);ws.displayName="DataRouterState";d.createContext(!1);var Hd=d.createContext({isTransitioning:!1});Hd.displayName="ViewTransition";var eh=d.createContext(new Map);eh.displayName="Fetchers";var th=d.createContext(null);th.displayName="Await";var Wt=d.createContext(null);Wt.displayName="Navigation";var Pn=d.createContext(null);Pn.displayName="Location";var It=d.createContext({outlet:null,matches:[],isDataRoute:!1});It.displayName="Route";var nu=d.createContext(null);nu.displayName="RouteError";function ah(c,{relative:u}={}){$e(an(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:i}=d.useContext(Wt),{hash:f,pathname:g,search:v}=er(c,{relative:u}),b=g;return m!=="/"&&(b=g==="/"?m:wa([m,g])),i.createHref({pathname:b,search:v,hash:f})}function an(){return d.useContext(Pn)!=null}function la(){return $e(an(),"useLocation() may be used only in the context of a <Router> component."),d.useContext(Pn).location}var jd="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bd(c){d.useContext(Wt).static||d.useLayoutEffect(c)}function _t(){let{isDataRoute:c}=d.useContext(It);return c?yh():lh()}function lh(){$e(an(),"useNavigate() may be used only in the context of a <Router> component.");let c=d.useContext(tn),{basename:u,navigator:m}=d.useContext(Wt),{matches:i}=d.useContext(It),{pathname:f}=la(),g=JSON.stringify(au(i)),v=d.useRef(!1);return Bd(()=>{v.current=!0}),d.useCallback((y,h={})=>{if(Zt(v.current,jd),!v.current)return;if(typeof y=="number"){m.go(y);return}let w=lu(y,JSON.parse(g),f,h.relative==="path");c==null&&u!=="/"&&(w.pathname=w.pathname==="/"?u:wa([u,w.pathname])),(h.replace?m.replace:m.push)(w,h.state,h)},[u,m,g,f,c])}var nh=d.createContext(null);function rh(c){let u=d.useContext(It).outlet;return d.useMemo(()=>u&&d.createElement(nh.Provider,{value:c},u),[u,c])}function er(c,{relative:u}={}){let{matches:m}=d.useContext(It),{pathname:i}=la(),f=JSON.stringify(au(m));return d.useMemo(()=>lu(c,JSON.parse(f),i,u==="path"),[c,f,i,u])}function sh(c,u){return qd(c,u)}function qd(c,u,m,i,f){$e(an(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:g}=d.useContext(Wt),{matches:v}=d.useContext(It),b=v[v.length-1],y=b?b.params:{},h=b?b.pathname:"/",w=b?b.pathnameBase:"/",S=b&&b.route;{let q=S&&S.path||"";Vd(h,!S||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=la(),A;if(u){let q=typeof u=="string"?en(u):u;$e(w==="/"||q.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${q.pathname}" was given in the \`location\` prop.`),A=q}else A=T;let D=A.pathname||"/",B=D;if(w!=="/"){let q=w.replace(/^\//,"").split("/");B="/"+D.replace(/^\//,"").split("/").slice(q.length).join("/")}let G=Od(c,{pathname:B});Zt(S||G!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Zt(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=mh(G&&G.map(q=>Object.assign({},q,{params:Object.assign({},y,q.params),pathname:wa([w,g.encodeLocation?g.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?w:wa([w,g.encodeLocation?g.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),v,m,i,f);return u&&z?d.createElement(Pn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function ch(){let c=hh(),u=Ig(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),m=c instanceof Error?c.stack:null,i="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:i},g={padding:"2px 4px",backgroundColor:i},v=null;return console.error("Error handled by React Router default ErrorBoundary:",c),v=d.createElement(d.Fragment,null,d.createElement("p",null," Hey developer "),d.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",d.createElement("code",{style:g},"ErrorBoundary")," or"," ",d.createElement("code",{style:g},"errorElement")," prop on your route.")),d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},u),m?d.createElement("pre",{style:f},m):null,v)}var ih=d.createElement(ch,null),uh=class extends d.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,u){return u.location!==c.location||u.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:u.error,location:u.location,revalidation:c.revalidation||u.revalidation}}componentDidCatch(c,u){this.props.unstable_onError?this.props.unstable_onError(c,u):console.error("React Router caught the following error during render",c)}render(){return this.state.error!==void 0?d.createElement(It.Provider,{value:this.props.routeContext},d.createElement(nu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oh({routeContext:c,match:u,children:m}){let i=d.useContext(tn);return i&&i.static&&i.staticContext&&(u.route.errorElement||u.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=u.route.id),d.createElement(It.Provider,{value:c},m)}function mh(c,u=[],m=null,i=null,f=null){if(c==null){if(!m)return null;if(m.errors)c=m.matches;else if(u.length===0&&!m.initialized&&m.matches.length>0)c=m.matches;else return null}let g=c,v=m?.errors;if(v!=null){let h=g.findIndex(w=>w.route.id&&v?.[w.route.id]!==void 0);$e(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(v).join(",")}`),g=g.slice(0,Math.min(g.length,h+1))}let b=!1,y=-1;if(m)for(let h=0;h<g.length;h++){let w=g[h];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=h),w.route.id){let{loaderData:S,errors:T}=m,A=w.route.loader&&!S.hasOwnProperty(w.route.id)&&(!T||T[w.route.id]===void 0);if(w.route.lazy||A){b=!0,y>=0?g=g.slice(0,y+1):g=[g[0]];break}}}return g.reduceRight((h,w,S)=>{let T,A=!1,D=null,B=null;m&&(T=v&&w.route.id?v[w.route.id]:void 0,D=w.route.errorElement||ih,b&&(y<0&&S===0?(Vd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,B=null):y===S&&(A=!0,B=w.route.hydrateFallbackElement||null)));let G=u.concat(g.slice(0,S+1)),z=()=>{let q;return T?q=D:A?q=B:w.route.Component?q=d.createElement(w.route.Component,null):w.route.element?q=w.route.element:q=h,d.createElement(oh,{match:w,routeContext:{outlet:h,matches:G,isDataRoute:m!=null},children:q})};return m&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?d.createElement(uh,{location:m.location,revalidation:m.revalidation,component:D,error:T,children:z(),routeContext:{outlet:null,matches:G,isDataRoute:!0},unstable_onError:i}):z()},null)}function ru(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fh(c){let u=d.useContext(tn);return $e(u,ru(c)),u}function dh(c){let u=d.useContext(ws);return $e(u,ru(c)),u}function ph(c){let u=d.useContext(It);return $e(u,ru(c)),u}function su(c){let u=ph(c),m=u.matches[u.matches.length-1];return $e(m.route.id,`${c} can only be used on routes that contain a unique "id"`),m.route.id}function gh(){return su("useRouteId")}function hh(){let c=d.useContext(nu),u=dh("useRouteError"),m=su("useRouteError");return c!==void 0?c:u.errors?.[m]}function yh(){let{router:c}=fh("useNavigate"),u=su("useNavigate"),m=d.useRef(!1);return Bd(()=>{m.current=!0}),d.useCallback(async(f,g={})=>{Zt(m.current,jd),m.current&&(typeof f=="number"?c.navigate(f):await c.navigate(f,{fromRouteId:u,...g}))},[c,u])}var wd={};function Vd(c,u,m){!u&&!wd[c]&&(wd[c]=!0,Zt(!1,m))}d.memo(vh);function vh({routes:c,future:u,state:m,unstable_onError:i}){return qd(c,void 0,m,i,u)}function Yd({to:c,replace:u,state:m,relative:i}){$e(an(),"<Navigate> may be used only in the context of a <Router> component.");let{static:f}=d.useContext(Wt);Zt(!f,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:g}=d.useContext(It),{pathname:v}=la(),b=_t(),y=lu(c,au(g),v,i==="path"),h=JSON.stringify(y);return d.useEffect(()=>{b(JSON.parse(h),{replace:u,state:m,relative:i})},[b,h,i,u,m]),null}function Eh(c){return rh(c.context)}function ht(c){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bh({basename:c="/",children:u=null,location:m,navigationType:i="POP",navigator:f,static:g=!1}){$e(!an(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=c.replace(/^\/*/,"/"),b=d.useMemo(()=>({basename:v,navigator:f,static:g,future:{}}),[v,f,g]);typeof m=="string"&&(m=en(m));let{pathname:y="/",search:h="",hash:w="",state:S=null,key:T="default"}=m,A=d.useMemo(()=>{let D=Sa(y,v);return D==null?null:{location:{pathname:D,search:h,hash:w,state:S,key:T},navigationType:i}},[v,y,h,w,S,T,i]);return Zt(A!=null,`<Router basename="${v}"> is not able to match the URL "${y}${h}${w}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:d.createElement(Wt.Provider,{value:b},d.createElement(Pn.Provider,{children:u,value:A}))}function xh({children:c,location:u}){return sh(Wi(c),u)}function Wi(c,u=[]){let m=[];return d.Children.forEach(c,(i,f)=>{if(!d.isValidElement(i))return;let g=[...u,f];if(i.type===d.Fragment){m.push.apply(m,Wi(i.props.children,g));return}$e(i.type===ht,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let v={id:i.props.id||g.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(v.children=Wi(i.props.children,g)),m.push(v)}),m}var Es="get",bs="application/x-www-form-urlencoded";function Ss(c){return c!=null&&typeof c.tagName=="string"}function wh(c){return Ss(c)&&c.tagName.toLowerCase()==="button"}function Sh(c){return Ss(c)&&c.tagName.toLowerCase()==="form"}function Nh(c){return Ss(c)&&c.tagName.toLowerCase()==="input"}function _h(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function Ch(c,u){return c.button===0&&(!u||u==="_self")&&!_h(c)}function Ii(c=""){return new URLSearchParams(typeof c=="string"||Array.isArray(c)||c instanceof URLSearchParams?c:Object.keys(c).reduce((u,m)=>{let i=c[m];return u.concat(Array.isArray(i)?i.map(f=>[m,f]):[[m,i]])},[]))}function Th(c,u){let m=Ii(c);return u&&u.forEach((i,f)=>{m.has(f)||u.getAll(f).forEach(g=>{m.append(f,g)})}),m}var ys=null;function Ah(){if(ys===null)try{new FormData(document.createElement("form"),0),ys=!1}catch{ys=!0}return ys}var zh=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qi(c){return c!=null&&!zh.has(c)?(Zt(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bs}"`),null):c}function Rh(c,u){let m,i,f,g,v;if(Sh(c)){let b=c.getAttribute("action");i=b?Sa(b,u):null,m=c.getAttribute("method")||Es,f=Qi(c.getAttribute("enctype"))||bs,g=new FormData(c)}else if(wh(c)||Nh(c)&&(c.type==="submit"||c.type==="image")){let b=c.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=c.getAttribute("formaction")||b.getAttribute("action");if(i=y?Sa(y,u):null,m=c.getAttribute("formmethod")||b.getAttribute("method")||Es,f=Qi(c.getAttribute("formenctype"))||Qi(b.getAttribute("enctype"))||bs,g=new FormData(b,c),!Ah()){let{name:h,type:w,value:S}=c;if(w==="image"){let T=h?`${h}.`:"";g.append(`${T}x`,"0"),g.append(`${T}y`,"0")}else h&&g.append(h,S)}}else{if(Ss(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=Es,i=null,f=bs,v=c}return g&&f==="text/plain"&&(v=g,g=void 0),{action:i,method:m.toLowerCase(),encType:f,formData:g,body:v}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cu(c,u){if(c===!1||c===null||typeof c>"u")throw new Error(u)}function Mh(c,u,m){let i=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return i.pathname==="/"?i.pathname=`_root.${m}`:u&&Sa(i.pathname,u)==="/"?i.pathname=`${u.replace(/\/$/,"")}/_root.${m}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${m}`,i}async function Dh(c,u){if(c.id in u)return u[c.id];try{let m=await import(c.module);return u[c.id]=m,m}catch(m){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Oh(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function Lh(c,u,m){let i=await Promise.all(c.map(async f=>{let g=u.routes[f.route.id];if(g){let v=await Dh(g,m);return v.links?v.links():[]}return[]}));return jh(i.flat(1).filter(Oh).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function Sd(c,u,m,i,f,g){let v=(y,h)=>m[h]?y.route.id!==m[h].route.id:!0,b=(y,h)=>m[h].pathname!==y.pathname||m[h].route.path?.endsWith("*")&&m[h].params["*"]!==y.params["*"];return g==="assets"?u.filter((y,h)=>v(y,h)||b(y,h)):g==="data"?u.filter((y,h)=>{let w=i.routes[y.route.id];if(!w||!w.hasLoader)return!1;if(v(y,h)||b(y,h))return!0;if(y.route.shouldRevalidate){let S=y.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:m[0]?.params||{},nextUrl:new URL(c,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function kh(c,u,{includeHydrateFallback:m}={}){return Uh(c.map(i=>{let f=u.routes[i.route.id];if(!f)return[];let g=[f.module];return f.clientActionModule&&(g=g.concat(f.clientActionModule)),f.clientLoaderModule&&(g=g.concat(f.clientLoaderModule)),m&&f.hydrateFallbackModule&&(g=g.concat(f.hydrateFallbackModule)),f.imports&&(g=g.concat(f.imports)),g}).flat(1))}function Uh(c){return[...new Set(c)]}function Hh(c){let u={},m=Object.keys(c).sort();for(let i of m)u[i]=c[i];return u}function jh(c,u){let m=new Set;return new Set(u),c.reduce((i,f)=>{let g=JSON.stringify(Hh(f));return m.has(g)||(m.add(g),i.push({key:g,link:f})),i},[])}function Gd(){let c=d.useContext(tn);return cu(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function Bh(){let c=d.useContext(ws);return cu(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var iu=d.createContext(void 0);iu.displayName="FrameworkContext";function Qd(){let c=d.useContext(iu);return cu(c,"You must render this element inside a <HydratedRouter> element"),c}function qh(c,u){let m=d.useContext(iu),[i,f]=d.useState(!1),[g,v]=d.useState(!1),{onFocus:b,onBlur:y,onMouseEnter:h,onMouseLeave:w,onTouchStart:S}=u,T=d.useRef(null);d.useEffect(()=>{if(c==="render"&&v(!0),c==="viewport"){let B=z=>{z.forEach(q=>{v(q.isIntersecting)})},G=new IntersectionObserver(B,{threshold:.5});return T.current&&G.observe(T.current),()=>{G.disconnect()}}},[c]),d.useEffect(()=>{if(i){let B=setTimeout(()=>{v(!0)},100);return()=>{clearTimeout(B)}}},[i]);let A=()=>{f(!0)},D=()=>{f(!1),v(!1)};return m?c!=="intent"?[g,T,{}]:[g,T,{onFocus:Wn(b,A),onBlur:Wn(y,D),onMouseEnter:Wn(h,A),onMouseLeave:Wn(w,D),onTouchStart:Wn(S,A)}]:[!1,T,{}]}function Wn(c,u){return m=>{c&&c(m),m.defaultPrevented||u(m)}}function Vh({page:c,...u}){let{router:m}=Gd(),i=d.useMemo(()=>Od(m.routes,c,m.basename),[m.routes,c,m.basename]);return i?d.createElement(Gh,{page:c,matches:i,...u}):null}function Yh(c){let{manifest:u,routeModules:m}=Qd(),[i,f]=d.useState([]);return d.useEffect(()=>{let g=!1;return Lh(c,u,m).then(v=>{g||f(v)}),()=>{g=!0}},[c,u,m]),i}function Gh({page:c,matches:u,...m}){let i=la(),{manifest:f,routeModules:g}=Qd(),{basename:v}=Gd(),{loaderData:b,matches:y}=Bh(),h=d.useMemo(()=>Sd(c,u,y,f,i,"data"),[c,u,y,f,i]),w=d.useMemo(()=>Sd(c,u,y,f,i,"assets"),[c,u,y,f,i]),S=d.useMemo(()=>{if(c===i.pathname+i.search+i.hash)return[];let D=new Set,B=!1;if(u.forEach(z=>{let q=f.routes[z.route.id];!q||!q.hasLoader||(!h.some(k=>k.route.id===z.route.id)&&z.route.id in b&&g[z.route.id]?.shouldRevalidate||q.hasClientLoader?B=!0:D.add(z.route.id))}),D.size===0)return[];let G=Mh(c,v,"data");return B&&D.size>0&&G.searchParams.set("_routes",u.filter(z=>D.has(z.route.id)).map(z=>z.route.id).join(",")),[G.pathname+G.search]},[v,b,i,f,h,u,c,g]),T=d.useMemo(()=>kh(w,f),[w,f]),A=Yh(w);return d.createElement(d.Fragment,null,S.map(D=>d.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...m})),T.map(D=>d.createElement("link",{key:D,rel:"modulepreload",href:D,...m})),A.map(({key:D,link:B})=>d.createElement("link",{key:D,nonce:m.nonce,...B})))}function Qh(...c){return u=>{c.forEach(m=>{typeof m=="function"?m(u):m!=null&&(m.current=u)})}}var Xd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xd&&(window.__reactRouterVersion="7.9.4")}catch{}function Xh({basename:c,children:u,window:m}){let i=d.useRef();i.current==null&&(i.current=zg({window:m,v5Compat:!0}));let f=i.current,[g,v]=d.useState({action:f.action,location:f.location}),b=d.useCallback(y=>{d.startTransition(()=>v(y))},[v]);return d.useLayoutEffect(()=>f.listen(b),[f,b]),d.createElement(bh,{basename:c,children:u,location:g.location,navigationType:g.action,navigator:f})}var Zd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$d=d.forwardRef(function({onClick:u,discover:m="render",prefetch:i="none",relative:f,reloadDocument:g,replace:v,state:b,target:y,to:h,preventScrollReset:w,viewTransition:S,...T},A){let{basename:D}=d.useContext(Wt),B=typeof h=="string"&&Zd.test(h),G,z=!1;if(typeof h=="string"&&B&&(G=h,Xd))try{let le=new URL(window.location.href),se=h.startsWith("//")?new URL(le.protocol+h):new URL(h),re=Sa(se.pathname,D);se.origin===le.origin&&re!=null?h=re+se.search+se.hash:z=!0}catch{Zt(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=ah(h,{relative:f}),[k,ae,ee]=qh(i,T),I=Jh(h,{replace:v,state:b,target:y,preventScrollReset:w,relative:f,viewTransition:S});function Q(le){u&&u(le),le.defaultPrevented||I(le)}let M=d.createElement("a",{...T,...ee,href:G||q,onClick:z||g?u:Q,ref:Qh(A,ae),target:y,"data-discover":!B&&m==="render"?"true":void 0});return k&&!B?d.createElement(d.Fragment,null,M,d.createElement(Vh,{page:q})):M});$d.displayName="Link";var Zh=d.forwardRef(function({"aria-current":u="page",caseSensitive:m=!1,className:i="",end:f=!1,style:g,to:v,viewTransition:b,children:y,...h},w){let S=er(v,{relative:h.relative}),T=la(),A=d.useContext(ws),{navigator:D,basename:B}=d.useContext(Wt),G=A!=null&&ty(S)&&b===!0,z=D.encodeLocation?D.encodeLocation(S).pathname:S.pathname,q=T.pathname,k=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;m||(q=q.toLowerCase(),k=k?k.toLowerCase():null,z=z.toLowerCase()),k&&B&&(k=Sa(k,B)||k);const ae=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let ee=q===z||!f&&q.startsWith(z)&&q.charAt(ae)==="/",I=k!=null&&(k===z||!f&&k.startsWith(z)&&k.charAt(z.length)==="/"),Q={isActive:ee,isPending:I,isTransitioning:G},M=ee?u:void 0,le;typeof i=="function"?le=i(Q):le=[i,ee?"active":null,I?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let se=typeof g=="function"?g(Q):g;return d.createElement($d,{...h,"aria-current":M,className:le,ref:w,style:se,to:v,viewTransition:b},typeof y=="function"?y(Q):y)});Zh.displayName="NavLink";var $h=d.forwardRef(({discover:c="render",fetcherKey:u,navigate:m,reloadDocument:i,replace:f,state:g,method:v=Es,action:b,onSubmit:y,relative:h,preventScrollReset:w,viewTransition:S,...T},A)=>{let D=Ph(),B=ey(b,{relative:h}),G=v.toLowerCase()==="get"?"get":"post",z=typeof b=="string"&&Zd.test(b),q=k=>{if(y&&y(k),k.defaultPrevented)return;k.preventDefault();let ae=k.nativeEvent.submitter,ee=ae?.getAttribute("formmethod")||v;D(ae||k.currentTarget,{fetcherKey:u,method:ee,navigate:m,replace:f,state:g,relative:h,preventScrollReset:w,viewTransition:S})};return d.createElement("form",{ref:A,method:G,action:B,onSubmit:i?y:q,...T,"data-discover":!z&&c==="render"?"true":void 0})});$h.displayName="Form";function Kh(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kd(c){let u=d.useContext(tn);return $e(u,Kh(c)),u}function Jh(c,{target:u,replace:m,state:i,preventScrollReset:f,relative:g,viewTransition:v}={}){let b=_t(),y=la(),h=er(c,{relative:g});return d.useCallback(w=>{if(Ch(w,u)){w.preventDefault();let S=m!==void 0?m:In(y)===In(h);b(c,{replace:S,state:i,preventScrollReset:f,relative:g,viewTransition:v})}},[y,b,h,m,i,u,c,f,g,v])}function Fh(c){Zt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let u=d.useRef(Ii(c)),m=d.useRef(!1),i=la(),f=d.useMemo(()=>Th(i.search,m.current?null:u.current),[i.search]),g=_t(),v=d.useCallback((b,y)=>{const h=Ii(typeof b=="function"?b(new URLSearchParams(f)):b);m.current=!0,g("?"+h,y)},[g,f]);return[f,v]}var Wh=0,Ih=()=>`__${String(++Wh)}__`;function Ph(){let{router:c}=Kd("useSubmit"),{basename:u}=d.useContext(Wt),m=gh();return d.useCallback(async(i,f={})=>{let{action:g,method:v,encType:b,formData:y,body:h}=Rh(i,u);if(f.navigate===!1){let w=f.fetcherKey||Ih();await c.fetch(w,m,f.action||g,{preventScrollReset:f.preventScrollReset,formData:y,body:h,formMethod:f.method||v,formEncType:f.encType||b,flushSync:f.flushSync})}else await c.navigate(f.action||g,{preventScrollReset:f.preventScrollReset,formData:y,body:h,formMethod:f.method||v,formEncType:f.encType||b,replace:f.replace,state:f.state,fromRouteId:m,flushSync:f.flushSync,viewTransition:f.viewTransition})},[c,u,m])}function ey(c,{relative:u}={}){let{basename:m}=d.useContext(Wt),i=d.useContext(It);$e(i,"useFormAction must be used inside a RouteContext");let[f]=i.matches.slice(-1),g={...er(c||".",{relative:u})},v=la();if(c==null){g.search=v.search;let b=new URLSearchParams(g.search),y=b.getAll("index");if(y.some(w=>w==="")){b.delete("index"),y.filter(S=>S).forEach(S=>b.append("index",S));let w=b.toString();g.search=w?`?${w}`:""}}return(!c||c===".")&&f.route.index&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(g.pathname=g.pathname==="/"?m:wa([m,g.pathname])),In(g)}function ty(c,{relative:u}={}){let m=d.useContext(Hd);$e(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Kd("useViewTransitionState"),f=er(c,{relative:u});if(!m.isTransitioning)return!1;let g=Sa(m.currentLocation.pathname,i)||m.currentLocation.pathname,v=Sa(m.nextLocation.pathname,i)||m.nextLocation.pathname;return xs(f.pathname,v)!=null||xs(f.pathname,g)!=null}const Jd=d.createContext(null),nt=()=>d.useContext(Jd),ay=({children:c})=>{const[u,m]=d.useState(null),[i,f]=d.useState(null),[g,v]=d.useState(null),[b,y]=d.useState(!1),[h,w]=d.useState(!0),[S,T]=d.useState(null),A=ee=>{try{const Q=ee.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),M=decodeURIComponent(window.atob(Q).split("").map(function(le){return"%"+("00"+le.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(M)}catch(I){return console.error("Failed to decode token",I),null}};d.useEffect(()=>{try{const ee=localStorage.getItem("token"),I=JSON.parse(localStorage.getItem("user")),Q=localStorage.getItem("activeRole");if(ee&&I){f(ee);const M=A(ee),le={...I,admin_level:M?.admin_level||I.admin_level||0};m(le),v(Q||le.roles&&le.roles[0])}}catch(ee){console.error("Failed to parse auth data from localStorage",ee),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("activeRole")}finally{w(!1)}},[]);const D=d.useCallback((ee,I,Q=null)=>new Promise(M=>{const le=I||i;let se={...ee};if(le){const fe=A(le);fe&&fe.admin_level!==void 0&&(se.admin_level=fe.admin_level)}const re=Q&&se.roles?.includes(Q)?Q:se.roles?.[0]||null;m(se),f(le),v(re),localStorage.setItem("user",JSON.stringify(se)),localStorage.setItem("token",le),localStorage.setItem("activeRole",re),M()}),[i]),B=d.useCallback((ee,I)=>{T({...ee,tempToken:I})},[]),G=d.useCallback(()=>{T(null)},[]),z=d.useCallback(()=>{m(null),f(null),v(null),localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("activeRole"),T(null)},[]),q=d.useCallback(ee=>{u&&u.roles.includes(ee)&&(y(!0),v(ee),localStorage.setItem("activeRole",ee),setTimeout(()=>y(!1),50))},[u]),k=d.useCallback(async(ee,I={})=>{const Q={...I.headers};if(I.params&&Object.keys(I.params).length>0){const le=new URLSearchParams(I.params).toString();ee+=(ee.includes("?")?"&":"?")+le,delete I.params}i&&(Q.Authorization=`Bearer ${i}`),I.body&&typeof I.body=="object"&&!(I.body instanceof FormData)&&(Q["Content-Type"]="application/json",I.body=JSON.stringify(I.body));const M=await fetch(ee,{...I,headers:Q});if(M.status===401)throw z(),window.location.href="/login?reason=unauthorized",new Error("Unauthorized");if(M.status===403){try{if((await M.json()).code==="PROFILE_INCOMPLETE")throw window.location.href="/login?reason=incomplete_profile",new Error("Profile Incomplete")}catch{}throw z(),window.location.href="/login?reason=forbidden",new Error("Forbidden")}return M},[i,z]),ae={user:u,token:i,login:D,logout:z,activeRole:g,switchRole:q,isSwitchingRole:b,loading:h,authFetch:k,newUserTempData:S,setNewUserTempData:B,clearNewUserTempData:G};return n.createElement(Jd.Provider,{value:ae},c)},uu="/amslibclass/assets/amslib-logo-nLobqmGG.svg",ly="/amslibclass/assets/cmu-logo-BD_YaGOM.svg",ny=()=>{const{login:c,user:u}=nt(),m=_t();d.useEffect(()=>{const f=new URLSearchParams(window.location.search),g=f.get("token"),v=f.get("user");if(g&&v)try{const b=JSON.parse(decodeURIComponent(v));c(b,g)}catch(b){console.error("Failed to parse user data from URL:",b),alert(" CMU Account"),m("/login",{replace:!0})}},[]),d.useEffect(()=>{if(u){if(!u.profile_completed){m("/index",{replace:!0});return}Array.isArray(u.roles)&&u.roles.includes("")?m("/index",{replace:!0}):m("/classes",{replace:!0})}},[u,m]);const i=()=>{window.location.href="https://library.ams.cmu.ac.th/amslibclass/api/auth/login"};return n.createElement("div",{className:"flex items-center justify-center w-screen h-screen bg-white"},n.createElement("div",{className:"text-center"},n.createElement("img",{src:uu,alt:"AMS Library Logo",className:"mx-auto mb-4",width:250}),n.createElement("p",{className:"text-2xl font-semibold mb-6 px-15 leading-10"}," AMS Library Class",n.createElement("br",null)),n.createElement("div",{className:"flex flex-col items-center gap- w-80 mx-auto mb-4"},n.createElement("button",{onClick:i,className:"bg-[#9f75b4] w-full text-white font-bold py-2 px-4 rounded-md shadow-md hover:bg-[#8e68a4] transition-colors flex items-center justify-center gap-2"},n.createElement("img",{src:ly,alt:"CMU Logo",className:"h-6 w-7"}),n.createElement("span",null,""),n.createElement("span",null," CMU Account")))))},Pi="/amslibclass/assets/abstract-user-DoqoIiWO.png",Xi={VIEWER:1,MANAGER:2,SUPER:3},ry=()=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 110 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.885-.666A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.666-1.885z",clipRule:"evenodd"})),sy={1:"",2:"",3:""};function Nt(){const c=_t(),u=la(),{user:m,login:i,logout:f,activeRole:g,switchRole:v,isSwitchingRole:b,authFetch:y}=nt(),[h,w]=d.useState(!1),[S,T]=d.useState(Date.now()),[A,D]=d.useState(null),B=m?.admin_level||0,G=B>0&&g==="",z=G?sy[B]:g;let q="",k="";if(m?.name){const Q=m.name.split(" ");q=Q[0]||"",k=Q.slice(1).join(" ")||""}d.useEffect(()=>()=>{A&&URL.revokeObjectURL(A)},[A]),d.useEffect(()=>{D(null)},[m?.email]),d.useEffect(()=>{T(Date.now())},[m?.photo]);const ae=()=>{if(!m?.roles||m.roles.length<=1)return;const M=(m.roles.indexOf(g)+1)%m.roles.length,le=m.roles[M];b||(y("https://library.ams.cmu.ac.th/amslibclass/api/log-activity",{method:"POST",body:{user_id:m.id,user_name:m.name,user_email:m.email,action_type:"SWITCH_ROLE",details:{from_role:g,to_role:le}}}).catch(se=>console.error("Failed to log activity:",se)),v(le),c(le===""?"/index":"/classes"))},ee=A||(m?.photo?`https://library.ams.cmu.ac.th/amslibclass/api/users/photo/${m.photo}?t=${S}`:Pi),I=({to:Q,label:M})=>n.createElement("span",{onClick:()=>c(Q),className:`text-black cursor-pointer hover:underline text-[1.25rem] ${u.pathname===Q?"underline":""}`},M);return n.createElement(n.Fragment,null,n.createElement("button",{className:"lg:hidden fixed top-4 left-4 z-30 p-2 bg-white/50 backdrop-blur-md rounded-full shadow-lg",onClick:()=>w(!0),"aria-label":"Open menu"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"}))),h&&n.createElement("div",{className:"lg:hidden fixed inset-0 bg-white/85 z-40",onClick:()=>w(!1)}),n.createElement("div",{className:`w-[325px] flex-shrink-0 min-h-screen text-center bg-[#f0f0f0] flex flex-col gap-[10px] p-[1rem] transition-transform duration-300 ease-in-out lg:translate-x-0 lg:relative lg:z-auto ${h?"translate-x-0 fixed z-50":"-translate-x-full fixed"}`},n.createElement("div",{className:"flex-grow"},n.createElement("div",{className:"flex justify-between items-center mb-4"},n.createElement("img",{src:uu,width:200,className:"mx-auto",alt:"logo"})),n.createElement("p",{className:"text-[16px] font-semibold text-black my-6"}," ",n.createElement("br",null)," AMS Library Class"),n.createElement("div",{className:"flex items-center justify-center gap-[15px] my-[10px]"},n.createElement("div",{className:"relative"},n.createElement("img",{key:A||S,src:ee,width:100,height:100,className:"w-[100px] h-[100px] object-cover rounded-full my-auto bg-gray-200 border-2 border-white shadow-sm transition-transform group-hover:scale-105",alt:"profile",onError:Q=>{Q.target.src=Pi,A&&D(null)}})),n.createElement("div",{className:"flex flex-col text-start px-0 grow text-black"},n.createElement("span",null,q," ",k)," ",n.createElement("span",{className:"text-xs text-black"},m?.email),n.createElement("div",{className:"flex items-center gap-2"},m?.roles&&m.roles.length>1&&n.createElement("button",{onClick:ae,className:"text-purple-600 hover:text-purple-800",title:"",style:{border:"none",background:"transparent",color:"black",cursor:"pointer",padding:0}},n.createElement(ry,null)),n.createElement("span",{className:"text-xs text-black py-1"},"(",z,")")),n.createElement("span",{className:"font-semibold mt-1 cursor-pointer hover:underline",style:{color:"black"},onClick:()=>{y("https://library.ams.cmu.ac.th/amslibclass/api/log-activity",{method:"POST",body:{user_id:m.id,user_name:m.name,user_email:m.email,action_type:"LOGOUT"}}).catch(Q=>console.error("Failed to log activity:",Q)),f(),alert(""),c("/login")}},n.createElement("span",{className:"font-semibold"},"  ")))),n.createElement("div",{className:"flex flex-col items-center gap-5 mt-4"},G?n.createElement(n.Fragment,null,B>=Xi.VIEWER&&n.createElement(n.Fragment,null,n.createElement(I,{to:"/index",label:""}),n.createElement(I,{to:"/creations",label:""})),B>=Xi.MANAGER&&n.createElement(n.Fragment,null,n.createElement(I,{to:"/statistics",label:""}),n.createElement(I,{to:"/admin/class-requests",label:""}),n.createElement(I,{to:"/topic-management",label:""})),B>=Xi.SUPER&&n.createElement(n.Fragment,null,n.createElement(I,{to:"/user-management",label:""}),n.createElement(I,{to:"/activity-logs",label:""}))):n.createElement(n.Fragment,null,n.createElement(I,{to:"/classes",label:""}),n.createElement(I,{to:"/past-classes",label:""}),n.createElement(I,{to:"/class-request",label:""})))),n.createElement("div",{className:"mt-auto lg:hidden"},n.createElement("button",{className:"w-full flex items-center justify-center p-3 rounded-lg text-black hover:bg-gray-200 transition-colors",onClick:()=>w(!1),"aria-label":""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})),n.createElement("span",{className:"ml-2 font-semibold"},"")))))}const cy=[" "," "," "," "],Fd=["","/",""],Zi=()=>{const c=new Date,u=c.getFullYear(),m=(c.getMonth()+1).toString().padStart(2,"0"),i=c.getDate().toString().padStart(2,"0");return`${u}-${m}-${i}`},Nd=()=>{const c=new Date,u=c.getHours().toString().padStart(2,"0"),m=c.getMinutes().toString().padStart(2,"0");return`${u}:${m}`},Pl={title:"",speaker:[],start_date:"",start_time:"",end_date:"",end_time:"",description:"",format:"ONLINE",join_link:"https://cmu-th.zoom.us/my/amslibclass",location:" Group Study ",target_groups:[...Fd],max_participants:"1",materials:[],class_id:"",language:"TH",request_id:null};function iy(c,u){switch(u.type){case"INITIALIZE_FORM":return{...Pl,...u.payload};case"SET_FIELD":return{...c,[u.payload.name]:u.payload.value};case"ADD_SPEAKER":return u.payload&&!c.speaker.includes(u.payload)?{...c,speaker:[...c.speaker,u.payload]}:c;case"REMOVE_SPEAKER":return{...c,speaker:c.speaker.filter(i=>i!==u.payload)};case"ADD_FILES":return{...c,materials:[...c.materials,...u.payload]};case"REMOVE_FILE":return{...c,materials:c.materials.filter((i,f)=>f!==u.payload)};case"TOGGLE_AUDIENCE":const m=c.target_groups.includes(u.payload);return{...c,target_groups:m?c.target_groups.filter(i=>i!==u.payload):[...c.target_groups,u.payload]};default:return c}}const _d=c=>{if(!c)return"";const u=new Date(c);if(isNaN(u.getTime()))return c;const m=u.getFullYear(),i=(u.getMonth()+1).toString().padStart(2,"0"),f=u.getDate().toString().padStart(2,"0");return`${m}-${i}-${f}`},$i=c=>{if(Array.isArray(c))return c;if(typeof c=="string")try{const u=JSON.parse(c);return Array.isArray(u)?u:[c]}catch{return c?[c]:[]}return[]},Wd=({onClose:c,initialData:u,onSubmit:m,mode:i})=>{const[f,g]=d.useReducer(iy,Pl),[v,b]=d.useState(""),y=d.useRef(null),h=d.useRef(null),w=d.useRef(null),S=d.useRef(null);d.useEffect(()=>{const k=()=>Math.floor(1e5+Math.random()*9e5).toString();let ae={};if(u){const ee=$i(u.speaker),I=$i(u.target_groups),Q=$i(u.materials);ae={...u,request_id:u.request_id||null,class_id:i==="duplicate"||i==="fromRequest"?k():u.class_id,speaker:ee,start_date:_d(u.start_date),end_date:_d(u.end_date),join_link:u.join_link||Pl.join_link,location:u.location||Pl.location,target_groups:I.length>0?I:[...Fd],max_participants:u.max_participants||Pl.max_participants,materials:Q.map(M=>typeof M=="string"?{name:M}:M),language:u.language||"TH"}}else ae={...Pl,class_id:k(),end_date:"",end_time:""};(i==="duplicate"||i==="fromRequest")&&(ae.start_date="",ae.end_date="",ae.start_time="",ae.end_time=""),g({type:"INITIALIZE_FORM",payload:ae})},[u,i]);const T=k=>{const{name:ae,value:ee,type:I,files:Q}=k.target;if(I==="file")g({type:"ADD_FILES",payload:Array.from(Q)});else if(ae==="speaker")b(ee);else if(ae==="start_date")ee>f.end_date&&g({type:"SET_FIELD",payload:{name:"end_date",value:ee}}),g({type:"SET_FIELD",payload:{name:ae,value:ee}});else if(ae==="start_time"){if(f.start_date===Zi()&&ee<Nd()){alert("");return}if(ee){const[M,le]=ee.split(":").map(Number),se=new Date;se.setHours(M,le,0),se.setHours(se.getHours()+1);const re=se.getHours().toString().padStart(2,"0"),fe=se.getMinutes().toString().padStart(2,"0"),Y=`${re}:${fe}`;g({type:"SET_FIELD",payload:{name:"end_time",value:Y}}),g({type:"SET_FIELD",payload:{name:"end_date",value:f.start_date}})}f.start_date===f.end_date&&ee>f.end_time&&g({type:"SET_FIELD",payload:{name:"end_time",value:ee}}),g({type:"SET_FIELD",payload:{name:ae,value:ee}})}else if(ae==="end_date")ee===f.start_date&&f.end_time<f.start_time&&g({type:"SET_FIELD",payload:{name:"end_time",value:f.start_time}}),g({type:"SET_FIELD",payload:{name:ae,value:ee}});else if(ae==="end_time"){if(f.start_date===f.end_date&&ee<f.start_time){alert("");return}g({type:"SET_FIELD",payload:{name:ae,value:ee}})}else g({type:"SET_FIELD",payload:{name:ae,value:ee}})},A=()=>{v&&!f.speaker.includes(v)&&(g({type:"ADD_SPEAKER",payload:v}),b(""))},D=k=>{g({type:"REMOVE_SPEAKER",payload:k})},B=k=>{g({type:"REMOVE_FILE",payload:k})},G=k=>{g({type:"TOGGLE_AUDIENCE",payload:k})},z=k=>{let ae=f.language===void 0||f.language===null?"TH":f.language,ee=ae;const I=ae.includes("TH"),Q=ae.includes("EN");k==="TH"?I?ee=Q?"EN":"":ee=Q?"TH/EN":"TH":k==="EN"&&(Q?ee=I?"TH":"":ee=I?"TH/EN":"EN"),g({type:"SET_FIELD",payload:{name:"language",value:ee}})},q=k=>{if(k.preventDefault(),f.speaker.length===0){alert(" 1 ");return}if(!f.language){alert(" 1 ");return}if(f.target_groups.length===0){alert(" 1 ");return}const ae={...f};ae.format==="ONLINE"&&(ae.max_participants=999),m(ae)};return n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50"},n.createElement("div",{className:"bg-white p-4 sm:p-6 lg:p-8 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},n.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},i==="edit"?"":i==="duplicate"||i==="fromRequest"?"":""),n.createElement("form",{onSubmit:q,className:"space-y-6"},i!=="edit"&&n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},"Class ID"),n.createElement("input",{name:"class_id",value:f.class_id||"",className:"w-full border px-4 py-2 rounded bg-gray-100 font-bold",disabled:!0})),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("input",{name:"title",value:f.title||"",onChange:T,className:"w-full border border-gray-400 px-4 py-2 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",maxLength:"255",required:!0})),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("div",{className:"flex gap-2"},n.createElement("select",{name:"speaker",value:v,onChange:T,className:"w-full border border-gray-400 px-4 py-2 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"},n.createElement("option",{value:""},"--  --"),cy.filter(k=>!f.speaker.includes(k)).map(k=>n.createElement("option",{key:k,value:k},k))),n.createElement("button",{type:"button",onClick:A,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 flex-shrink-0"},"")),f.speaker.length>0&&n.createElement("div",{className:"mt-2 space-y-1"},f.speaker.map((k,ae)=>n.createElement("div",{key:ae,className:"flex justify-between items-center bg-gray-100 px-3 py-1 rounded"},n.createElement("span",null,k),n.createElement("button",{type:"button",onClick:()=>D(k),className:"text-red-600 hover:text-red-800 ml-2"},"")))),f.speaker.length===0&&n.createElement("div",{className:"text-red-500 text-xs mt-1"}," 1 ")),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-10 gap-y-2"},n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"}," ",n.createElement("span",null,"(//..)")," "),n.createElement("div",{className:"relative"},n.createElement("input",{type:"date",name:"start_date",value:f.start_date||"",ref:y,onChange:T,className:"w-full border border-gray-400 px-3 py-2 pr-10 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",onClick:()=>y.current?.showPicker?.(),min:Zi(),onKeyDown:k=>k.preventDefault(),required:!0}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))))),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("div",{className:"relative"},n.createElement("input",{type:"time",name:"start_time",value:f.start_time||"",ref:w,onChange:T,className:"w-full border border-gray-400 px-3 py-2 pr-10 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",onClick:()=>w.current?.showPicker?.(),min:f.start_date===Zi()?Nd():void 0,onKeyDown:k=>k.preventDefault(),required:!0}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}))))),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"}," ",n.createElement("span",null,"(//..)")),n.createElement("div",{className:"relative"},n.createElement("input",{type:"date",name:"end_date",value:f.end_date||"",ref:h,onChange:T,className:"w-full border border-gray-400 px-3 py-2 pr-10 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100",min:f.start_date,onClick:()=>h.current?.showPicker?.(),disabled:!f.start_time,onKeyDown:k=>k.preventDefault(),required:!0}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))))),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("div",{className:"relative"},n.createElement("input",{type:"time",name:"end_time",value:f.end_time||"",ref:S,onChange:T,min:f.start_date===f.end_date?f.start_time:"",className:"w-full border border-gray-400 px-3 py-2 pr-10 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100",disabled:!f.start_time,onClick:()=>S.current?.showPicker?.(),onKeyDown:k=>k.preventDefault(),required:!0}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})))))),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("textarea",{name:"description",value:f.description||"",onChange:T,placeholder:" ()",className:"w-full border border-gray-400 px-4 py-2 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500"})),n.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},n.createElement("label",{className:"block font-medium mr-3 flex-shrink-0"},""),n.createElement("div",{className:"flex flex-wrap gap-x-4 gap-y-2"},n.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},n.createElement("input",{type:"checkbox",checked:f.language&&f.language.includes("TH"),onChange:()=>z("TH"),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),n.createElement("span",{className:"text-gray-700"},"")),n.createElement("label",{className:"flex items-center space-x-2 cursor-pointer"},n.createElement("input",{type:"checkbox",checked:f.language&&f.language.includes("EN"),onChange:()=>z("EN"),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),n.createElement("span",{className:"text-gray-700"},"ENG")))),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("select",{name:"format",value:f.format,onChange:T,className:"w-full border border-gray-400 px-4 py-2 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0},n.createElement("option",{value:"ONLINE"},"ONLINE"),n.createElement("option",{value:"ONSITE"},"ONSITE"))),f.format==="ONSITE"&&n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("input",{type:"text",name:"location",value:f.location||"",onChange:T,placeholder:" ",className:"w-full border border-gray-400 px-4 py-2 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})),f.format==="ONLINE"&&n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},"URL  "),n.createElement("input",{type:"url",name:"join_link",value:f.join_link||"",onChange:T,placeholder:" https:// ",className:"w-full border border-gray-400 px-4 py-2 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0})),f.format==="ONSITE"&&n.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2"},n.createElement("label",{htmlFor:"max_participants",className:"block font-medium sm:my-auto w-fit flex-shrink-0"},""),n.createElement("input",{type:"number",min:"1",id:"max_participants",name:"max_participants",value:f.max_participants||"1",onChange:T,placeholder:" 1 ",className:"w-24 border border-gray-400 px-4 py-2 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",required:!0}),n.createElement("span",{className:"block font-medium my-auto w-fit"},"")),n.createElement("div",{className:"flex flex-col sm:flex-row gap-2"},n.createElement("label",{className:"block font-medium mr-3 flex-shrink-0"},""),n.createElement("div",{className:"flex flex-wrap gap-x-4 gap-y-2"},["","/",""].map(k=>n.createElement("label",{key:k},n.createElement("input",{type:"checkbox",checked:f.target_groups.includes(k),onChange:()=>G(k)}),n.createElement("span",{className:"ml-1"},k))))),n.createElement("div",{className:"flex flex-col gap-2"},n.createElement("label",{className:"block font-medium"},""),n.createElement("input",{type:"file",name:"files",id:"files",multiple:!0,onChange:T,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),f.materials.length>0&&n.createElement("ul",{className:"mt-2 space-y-1 text-sm text-gray-700"},f.materials.map((k,ae)=>n.createElement("li",{key:ae,className:"flex justify-between items-center bg-gray-100 px-3 py-1 rounded"},n.createElement("span",{className:"truncate max-w-[80%]"},k.name),n.createElement("button",{type:"button",onClick:()=>B(ae),className:"text-pink-600 hover:text-red-800 text-xs font-bold"}," "))))),n.createElement("div",{className:"flex gap-5 justify-center mt-6"},n.createElement("button",{type:"button",onClick:c,className:"px-6 py-2 rounded-md bg-gray-300 hover:bg-gray-400 w-[150px] font-semibold"},""),n.createElement("button",{type:"submit",className:"bg-purple-700 text-white px-6 py-2 rounded-md hover:bg-purple-800 w-[150px] font-semibold"},i==="edit"?"":"")))))},uy=({isOpen:c,onClose:u,classData:m})=>{if(!c||!m)return null;const i=Array.isArray(m.registered_users)?m.registered_users:[];return n.createElement("div",{className:"fixed inset-0 bg-white/85 z-50 flex justify-center items-center"},n.createElement("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col"},n.createElement("div",{className:"text-center pb-3 mb-4"},n.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"")),n.createElement("div",{className:"mb-4"},n.createElement("h3",{className:"text-xl font-semibold text-purple-800 mb-2"},m.title),n.createElement("p",{className:"text-lg text-gray-700"},n.createElement("strong",null,":"),n.createElement("span",{className:"font-bold ml-2"},i.length," / ",m.max_participants===999?"":m.max_participants))),n.createElement("div",{className:"overflow-y-auto flex-grow"},i.length>0?n.createElement("table",{className:"min-w-full divide-y divide-gray-200"},n.createElement("thead",{className:"bg-gray-50"},n.createElement("tr",null,n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"#"),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"-"),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""))),n.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},i.map((f,g)=>n.createElement("tr",{key:g,className:"hover:bg-gray-50"},n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},g+1),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},f.name),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},f.email),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},(()=>{try{let v=Array.isArray(f.roles)?f.roles:JSON.parse(f.roles||"[]");return v.length>1&&(v=v.filter(b=>b!=="")),v.join(", ")||"N/A"}catch{return f.roles||""}})()))))):n.createElement("p",{className:"text-center text-gray-500 mt-4"},"")),n.createElement("div",{className:"flex justify-end pt-4 mt-4 border-t"},n.createElement("button",{onClick:u,className:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded transition-colors duration-300"},""))))},oy=({isOpen:c,onClose:u,onSubmit:m,classData:i,isEditing:f=!1})=>{const[g,v]=d.useState(""),[b,y]=d.useState([]),[h,w]=d.useState([]);if(d.useEffect(()=>{if(c&&i){v(i.video_link||"");try{const B=typeof i.materials=="string"?JSON.parse(i.materials):i.materials||[];w(B)}catch(B){console.error("Error parsing materials:",B),w([])}y([])}else v(""),y([]),w([])},[c,i]),!c)return null;const S=B=>{B.preventDefault(),m({video_link:g,new_materials:b,existing_materials:h})},T=B=>{const G=Array.from(B.target.files);if(G.length>5){alert(" 5 ");return}y(z=>[...z,...G]),B.target.value=null},A=B=>{w(h.filter(G=>G!==B))},D=B=>{y(b.filter((G,z)=>z!==B))};return n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50"},n.createElement("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-full max-w-2xl"},n.createElement("h2",{className:"text-2xl font-bold mb-6 text-center"},f?"":""," ",n.createElement("br",null),'"',i.title,'"'),n.createElement("form",{onSubmit:S},n.createElement("div",{className:"mb-4"},n.createElement("label",{htmlFor:"video_link",className:"block text-gray-700 font-semibold mb-2"},""),n.createElement("input",{type:"url",id:"video_link",value:g,onChange:B=>v(B.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600",placeholder:"https://..."})),n.createElement("div",{className:"space-y-4"},h.length>0&&n.createElement("div",null,n.createElement("h4",{className:"block text-gray-700 font-semibold mb-2"},""),n.createElement("ul",{className:"list-disc space-y-2"},h.map((B,G)=>n.createElement("li",{key:`existing-${G}`,className:"text-gray-800 flex justify-between items-center bg-gray-50 p-2 rounded"},n.createElement("span",null,B),n.createElement("button",{type:"button",onClick:()=>A(B),className:"text-red-500 hover:text-red-700 font-semibold ml-4"},""))))),b.length>0&&n.createElement("div",null,n.createElement("h4",{className:"block text-gray-700 font-semibold mb-2"},""),n.createElement("ul",{className:"list-disc space-y-2"},b.map((B,G)=>n.createElement("li",{key:`new-${G}`,className:"text-gray-800 flex justify-between items-center bg-purple-50 text-purple-800 p-2 rounded"},n.createElement("span",null,B.name),n.createElement("button",{type:"button",onClick:()=>D(G),className:"text-red-500 hover:text-red-700 font-semibold ml-4"},""))))),n.createElement("div",{className:"mb-6"},n.createElement("label",{htmlFor:"materials",className:"block text-gray-700 font-semibold mb-2"},""),n.createElement("input",{type:"file",id:"materials",multiple:!0,onChange:T,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-100 file:text-purple-700 hover:file:bg-purple-200"}))),n.createElement("div",{className:"flex justify-end gap-4 mt-8"},n.createElement("button",{type:"button",onClick:u,className:"px-6 py-2 rounded-lg text-gray-700 bg-gray-200 hover:bg-gray-300 font-semibold"},""),n.createElement("button",{type:"submit",className:"px-6 py-2 rounded-lg text-white bg-purple-600 hover:bg-purple-700 font-semibold"},f?"":"")))))},my=({isOpen:c,onClose:u,evaluationData:m,classTitle:i})=>{if(!c)return null;const{evaluations:f,suggestions:g}=m||{evaluations:[],suggestions:[]},v=["","/","","",""];return n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50"},n.createElement("div",{className:"bg-white p-8 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},n.createElement("h2",{className:"font-bold mb-6 text-black text-center"},n.createElement("span",{className:"text-2xl"},"  ",n.createElement("br",null)),n.createElement("span",{className:"text-black text-2xl"},' "',i,'" ')),n.createElement("div",{className:"mb-8"},n.createElement("h3",{className:"text-lg font-semibold mb-4 text-black"}," ",f.length," "),f.length>0?n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"min-w-full bg-white border border-gray-200 shadow-lg"},n.createElement("thead",{className:"bg-gray-100"},n.createElement("tr",null,v.map((b,y)=>n.createElement("th",{key:y,className:"px-6 py-3 text-center text-md font-medium text-black uppercase tracking-wider"},b)))),n.createElement("tbody",{className:"divide-y divide-gray-200"},f.map((b,y)=>n.createElement("tr",{key:y,className:"hover:bg-gray-50"},n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center"},b.score_content),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center"},b.score_material),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center"},b.score_duration),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center"},b.score_format),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-black text-center"},b.score_speaker)))))):n.createElement("p",{className:"text-black"},"")),n.createElement("div",null,n.createElement("h3",{className:"text-xl font-semibold mb-4 text-black"},""),g.length>0?n.createElement("ul",{className:"list-disc list-inside space-y-2 bg-gray-50 p-4 rounded-md"},g.map((b,y)=>n.createElement("li",{key:y,className:"text-black"},b))):n.createElement("p",{className:"text-black"},"")),n.createElement("div",{className:"mt-8 text-right"},n.createElement("button",{onClick:u,className:"px-6 py-2 bg-gray-500 text-white font-semibold rounded-lg shadow-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2"},""))))},fy=()=>{const{user:c,activeRole:u,authFetch:m}=nt();_t();const[i,f]=d.useState([]),[g,v]=d.useState(!0),[b,y]=d.useState(null),[h,w]=d.useState(!1),[S,T]=d.useState(!1),[A,D]=d.useState(null),[B,G]=d.useState(null),[z,q]=d.useState(!1),[k,ae]=d.useState(null),[ee,I]=d.useState(!1),[Q,M]=d.useState(null),[le,se]=d.useState("start_date"),[re,fe]=d.useState("desc"),[Y,ne]=d.useState(""),ye=d.useMemo(()=>i.map($=>({...$,class_id:parseInt($.class_id,10)})).sort(($,xe)=>new Date(xe.start_date)-new Date($.start_date)),[i]),U=d.useMemo(()=>ye.filter($=>$.status!=="closed"),[ye]),_=d.useMemo(()=>ye.filter($=>$.status==="closed"),[ye]),F=d.useMemo(()=>{let $=[..._];Y&&($=$.filter(ge=>ge.title.toLowerCase().includes(Y.toLowerCase())||ge.class_id.toString().includes(Y.toLowerCase())));const xe=ge=>{if(!ge)return"";if(Array.isArray(ge))return ge[0]||"";try{const Ne=JSON.parse(ge);return Array.isArray(Ne)&&Ne[0]||""}catch{return""}};return $.sort((ge,Ne)=>{let W,ue;switch(le){case"title":return W=ge.title,ue=Ne.title,re==="asc"?W.localeCompare(ue):ue.localeCompare(W);case"class_id":W=ge.class_id,ue=Ne.class_id;break;case"speaker":return W=xe(ge.speaker),ue=xe(Ne.speaker),re==="asc"?W.localeCompare(ue):ue.localeCompare(W);case"format":return W=ge.format,ue=Ne.format,re==="asc"?W.localeCompare(ue):ue.localeCompare(W);case"created_at":case"start_date":default:W=new Date(ge[le]||ge.start_date),ue=new Date(Ne[le]||Ne.start_date)}return re==="asc"?W-ue:ue-W}),$},[_,Y,le,re]),ie=async()=>{if(!c){v(!1);return}try{v(!0);const xe=await(await m("https://library.ams.cmu.ac.th/amslibclass/api/classes")).json();f(xe)}catch($){console.error("Error fetching classes:",$),f([])}finally{v(!1)}};d.useEffect(()=>(ie(),()=>{f([])}),[c,u]);const Z=$=>{y($),w(!0)},E=()=>{w(!1),y(null)},R=async $=>{try{const xe=await m(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${$.class_id}/registrants`);if(!xe.ok)throw new Error("Failed to fetch registrants");const ge=await xe.json(),Ne={...$,registered_users:ge};ae(Ne),q(!0)}catch(xe){console.error("Error fetching registrants:",xe),alert(" ")}},P=()=>{q(!1),ae(null)},j=$=>{M($),I(!0)},ce=()=>{I(!1),M(null)},de=async $=>{if(!Q)return;const xe=Q.class_id,ge=new FormData;ge.append("video_link",$.video_link),ge.append("existing_materials",JSON.stringify($.existing_materials));for(const Ne of $.new_materials)ge.append("materials",Ne);try{const Ne=await m(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${xe}/close`,{method:"POST",body:ge});if(Ne.ok)alert(" "),ce(),ie();else{const W=await Ne.json();alert(` : ${W.message||Ne.statusText}`)}}catch(Ne){console.error("Error closing class:",Ne),alert(" ")}},_e=async $=>{const xe=$.class_id,ge=new FormData;for(const W in $)W==="speaker"||W==="target_groups"?ge.append(W,JSON.stringify($[W])):W!=="materials"&&ge.append(W,$[W]);const Ne=[];$.materials.forEach(W=>{W instanceof File?ge.append("files",W):W&&typeof W.name=="string"&&Ne.push(W.name)}),ge.append("existingFiles",JSON.stringify(Ne)),ge.append("user_email",c.email);try{const W=await m(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${xe}`,{method:"PUT",body:ge});if(W.ok)alert(" "),E(),ie();else{const ue=await W.json();alert(` : ${ue.message||W.statusText}`)}}catch(W){console.error("Error updating class:",W),alert(" ")}},Xe=async $=>{if(window.confirm("?"))try{(await m(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${$}`,{method:"DELETE"})).ok?(alert(" "),ie()):alert(" ")}catch(xe){console.error("Error deleting class:",xe),alert(" ")}},te=async $=>{try{const xe=await m(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${$.class_id}/evaluations`);if(!xe.ok)throw new Error("");const ge=await xe.json();D(ge),G($),T(!0)}catch(xe){alert(xe.message)}},ve=()=>{T(!1),D(null),G(null)},Ye=async($,xe)=>{try{const ge=await m(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${$}/promote`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({promoted:xe})});if(ge.ok)f(Ne=>Ne.map(W=>parseInt(W.class_id,10)===$?{...W,promoted:xe?1:0}:W)),alert(` ${xe?"":""}`);else{const Ne=await ge.json();alert(` ${xe?"":""}: ${Ne.message||ge.statusText}`),f(W=>W.map(ue=>parseInt(ue.class_id,10)===$?{...ue,promoted:!xe}:ue))}}catch(ge){console.error("Error toggling promotion status:",ge),alert(" "),f(Ne=>Ne.map(W=>parseInt(W.class_id,10)===$?{...W,promoted:!xe}:W))}};return n.createElement("div",{className:"flex h-screen w-screen flex-col lg:flex-row"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-4 md:p-8 overflow-y-auto bg-gray-100"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-center"},""),n.createElement("h2",{className:"font-bold mb-[10px] text-[1.25rem]"},""),g?n.createElement("p",null,"..."):c?n.createElement(n.Fragment,null,U.length>0?n.createElement("ul",{className:"space-y-4"},U.map($=>n.createElement("li",{key:$.class_id||$.id,className:"bg-white p-4 rounded-lg shadow-md hover:shadow-md transition-shadow"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("h3",{className:"font-semibold text-lg text-purple-800 justify-center"},n.createElement("strong",{className:"text-red-500"},$.class_id," ")," ","  "," ",$.title)),n.createElement("div",{className:"text-sm text-gray-700 mt-4 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3"},n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.speaker&&typeof $.speaker=="string"&&$.speaker.length>4?$.speaker.slice(2,-2).replace(/\\"/g,'"').replace(/","/g,", "):String($.speaker||""))),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.start_date?new Date($.start_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}):"N/A")),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.start_time?$.start_time.substring(0,5):"N/A"," - ",$.end_time?$.end_time.substring(0,5):"N/A"," .")),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.format)),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.724 4.78c.29.354.596.696.914 1.026a1 1 0 11-1.44 1.389c-.188-.196-.373-.396-.554-.6a19.098 19.098 0 01-3.107 3.567 1 1 0 01-1.334-1.49 17.077 17.077 0 003.293-3.643 19.024 19.098 0 01-2.06-3.056A1 1 0 013.266 6.05a17.204 17.204 0 001.78 2.802 16.76 16.76 0 01-.656-1.852H4a1 1 0 110-2h3V3a1 1 0 011-1zm6 6a1 1 0 011 1v1h5.292a1 1 0 110 2H17v6a1 1 0 11-2 0v-6h-2.292a1 1 0 110-2H15V9a1 1 0 011-1z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.language==="TH"?" (TH)":$.language==="EN"?" (ENG)":" (TH & ENG)")),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})),n.createElement("span",null,n.createElement("strong",null,":")," ",(typeof $.registered_users=="string"?JSON.parse($.registered_users||"[]"):$.registered_users||[]).length," / ",$.max_participants===999?"":$.max_participants)),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.created_at?new Date($.created_at).toLocaleString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"," ."))),n.createElement("div",{className:"flex flex-wrap items-center gap-2 mt-4 pt-4 border-t border-gray-200"},n.createElement("button",{title:"",className:"text-green-600 hover:text-green-800 rounded-full p-1",onClick:()=>R($)},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.125-1.273-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.125-1.273.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),n.createElement("button",{title:"",className:"text-blue-600 hover:text-blue-800 rounded-full p-1",onClick:()=>Z($)},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),n.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))),n.createElement("button",{title:"",className:"text-red-600 hover:text-red-800 rounded-full p-1",onClick:()=>Xe($.class_id)},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"}))),n.createElement("label",{htmlFor:`promote-${$.class_id}`,className:"flex items-center cursor-pointer px-5"},n.createElement("div",{className:"relative"},n.createElement("input",{type:"checkbox",id:`promote-${$.class_id}`,className:"sr-only peer",checked:$.promoted===1,onChange:xe=>Ye($.class_id,xe.target.checked)}),n.createElement("div",{className:"w-10 h-4 bg-gray-400 rounded-full shadow-inner"}),n.createElement("div",{className:"dot absolute w-6 h-6 bg-white rounded-full shadow -left-1 -top-1 transition-transform duration-300 ease-in-out peer-checked:translate-x-full peer-checked:bg-green-500"})),n.createElement("div",{className:"ml-3 text-gray-700 font-medium"},"")),n.createElement("button",{title:"",className:"sm:ml-auto bg-amber-500 hover:bg-amber-700 text-white font-bold py-2 px-4 rounded focus:outline-none",onClick:()=>j($)},""))))):n.createElement("p",{className:"text-gray-500"},"")):n.createElement("p",null,""),n.createElement("h2",{className:"font-bold mb-[10px] text-[1.25rem] mt-10"},""),n.createElement("div",{className:"mb-4 flex flex-wrap justify-between items-center gap-4"},n.createElement("div",{className:"flex items-center gap-2 w-full sm:w-auto flex-grow"},n.createElement("input",{type:"text",placeholder:" Class ID ",value:Y,onChange:$=>ne($.target.value),className:"block w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("label",{htmlFor:"sort-closed-by",className:"text-sm font-medium text-gray-700 whitespace-nowrap"},":"),n.createElement("select",{id:"sort-closed-by",value:le,onChange:$=>se($.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md"},n.createElement("option",{value:"class_id"},"Class ID"),n.createElement("option",{value:"title"},""),n.createElement("option",{value:"speaker"},""),n.createElement("option",{value:"start_date"},""),n.createElement("option",{value:"created_at"},""),n.createElement("option",{value:"format"},"")),n.createElement("button",{onClick:()=>fe(re==="asc"?"desc":"asc"),className:"p-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors focus:outline-none",title:""},re==="asc"?"":""))),_.length===0?n.createElement("p",{className:"text-center text-gray-500 py-4"},""):F.length>0?n.createElement("ul",{className:"space-y-4"},F.map($=>n.createElement("li",{key:$.class_id||$.id,className:"bg-gray-50 p-4 rounded-lg shadow-md"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("h3",{className:"font-semibold text-lg text-gray-600 justify-center"},n.createElement("strong",{className:"text-red-500"},$.class_id," ")," ",n.createElement("strong",{className:"text-purple-800"}," ","  "," ",$.title," "))),n.createElement("div",{className:"text-sm text-gray-700 mt-4 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3"},n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.speaker&&typeof $.speaker=="string"&&$.speaker.length>4?$.speaker.slice(2,-2).replace(/\\"/g,'"').replace(/","/g,", "):String($.speaker||""))),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.start_date?new Date($.start_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}):"N/A")),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.start_time?$.start_time.substring(0,5):"N/A"," - ",$.end_time?$.end_time.substring(0,5):"N/A"," .")),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.format)),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.724 4.78c.29.354.596.696.914 1.026a1 1 0 11-1.44 1.389c-.188-.196-.373-.396-.554-.6a19.098 19.098 0 01-3.107 3.567 1 1 0 01-1.334-1.49 17.077 17.077 0 003.293-3.643 19.024 19.098 0 01-2.06-3.056A1 1 0 013.266 6.05a17.204 17.204 0 001.78 2.802 16.76 16.76 0 01-.656-1.852H4a1 1 0 110-2h3V3a1 1 0 011-1zm6 6a1 1 0 011 1v1h5.292a1 1 0 110 2H17v6a1 1 0 11-2 0v-6h-2.292a1 1 0 110-2H15V9a1 1 0 011-1z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.language==="TH"?" (TH)":$.language==="EN"?" (ENG)":" (TH & ENG)")),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})),n.createElement("span",null,n.createElement("strong",null,":")," ",(typeof $.registered_users=="string"?JSON.parse($.registered_users||"[]"):$.registered_users||[]).length," / ",$.max_participants===999?"":$.max_participants)),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",$.created_at?new Date($.created_at).toLocaleString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"," ."))),n.createElement("div",{className:"flex items-center mt-4 pt-4 border-t border-gray-200"},n.createElement("button",{title:"",className:"text-green-600 hover:text-green-800 rounded-full p-1",onClick:()=>R($)},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.125-1.273-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.125-1.273.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"}))),n.createElement("button",{title:"",className:"text-red-600 hover:text-red-800 rounded-full p-1",onClick:()=>Xe($.class_id)},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"}))),n.createElement("div",{className:"flex items-center sm:ml-auto gap-x-2"},n.createElement("button",{title:"",className:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded focus:outline-none",onClick:()=>te($)},""),n.createElement("button",{title:"",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none",onClick:()=>j($)},"")))))):n.createElement("p",{className:"text-center text-gray-500 py-4"},"")),h&&b&&n.createElement(Wd,{mode:"edit",initialData:b,onClose:E,onSubmit:_e}),z&&k&&n.createElement(uy,{isOpen:z,onClose:P,classData:k}),ee&&n.createElement(oy,{isOpen:ee,onClose:ce,onSubmit:de,classData:Q,isEditing:Q?.status==="closed"}),S&&B&&n.createElement(my,{isOpen:S,onClose:ve,evaluationData:A,classTitle:B.title}))};function dy(){const{user:c,activeRole:u,authFetch:m}=nt(),i=_t(),[f,g]=d.useState("initial"),[v,b]=d.useState([]),[y,h]=d.useState([]),[w,S]=d.useState(null),[T,A]=d.useState(!1),[D,B]=d.useState(""),[G,z]=d.useState(""),[q,k]=d.useState(!0),[ae,ee]=d.useState(!0),I=async()=>{if(!c){A(!1);return}try{A(!0);const ne=await(await m("https://library.ams.cmu.ac.th/amslibclass/api/classes")).json();b(ne)}catch(Y){console.error("Error fetching classes:",Y),b([])}finally{A(!1)}},Q=async()=>{if(u==="")try{A(!0);const ne=await(await m("https://library.ams.cmu.ac.th/amslibclass/api/admin/class-requests?status=approved")).json();h(ne)}catch(Y){console.error("Error fetching approved requests:",Y),h([])}finally{A(!1)}};d.useEffect(()=>{f==="selection"&&(I(),Q())},[f,c,u]);const M=()=>{S(null),g("new")},le=Y=>{const ne={...Y};delete ne.id,delete ne.class_id,S(ne),g("duplicate")},se=Y=>{const ne={request_id:Y.request_id,title:Y.title,speaker:Y.speaker?[Y.speaker]:[],start_date:Y.start_date,end_date:Y.end_date,start_time:Y.start_time,end_time:Y.end_time,description:Y.reason,format:Y.format};S(ne),g("fromRequest")},re=async Y=>{const ne=new FormData;ne.append("title",Y.title),ne.append("speaker",JSON.stringify(Y.speaker)),ne.append("start_date",Y.start_date),ne.append("end_date",Y.end_date),ne.append("start_time",Y.start_time),ne.append("end_time",Y.end_time),ne.append("description",Y.description),ne.append("format",Y.format),ne.append("join_link",Y.join_link),ne.append("location",Y.location),ne.append("max_participants",Y.max_participants),ne.append("target_groups",JSON.stringify(Y.target_groups)),ne.append("language",Y.language),ne.append("created_by_email",c.email),Y.request_id&&ne.append("request_id",Y.request_id),Y.materials.forEach(ye=>{ye instanceof File?ne.append("files",ye):ye&&typeof ye.name=="string"&&ne.append("existingFiles",ye.name)});try{const ye=await m("https://library.ams.cmu.ac.th/amslibclass/api/classes",{method:"POST",body:ne});if(ye.ok)alert(" "),i("/index");else{const U=await ye.json();console.error("Server error details:",U),alert(` : ${U.message||""}
${U.error?JSON.stringify(U.error,null,2):""}`)}}catch(ye){console.error(" error",ye),alert(" ")}},fe=()=>{g("initial"),S(null)};return n.createElement("div",{className:"w-screen flex h-screen"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 overflow-y-auto bg-gray-100"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-center"},""),n.createElement("div",{className:"flex flex-col md:flex-row gap-8 justify-center mb-8"},n.createElement("div",{onClick:M,className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl border border-transparent transition-all duration-300 ease-in-out transform hover:-translate-y-1 cursor-pointer flex flex-col items-center text-center w-full md:w-80",role:"button","aria-label":""},n.createElement("div",{className:"bg-purple-100 p-4 rounded-full mb-4"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#6e11b0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n.createElement("path",{d:"M12 5v14"}),n.createElement("path",{d:"M5 12h14"}))),n.createElement("h2",{className:"font-bold text-lg text-gray-800"},""),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"")),n.createElement("div",{onClick:()=>{g("selection")},className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-2xl border-transparent hover:border-purple-500 transition-all duration-300 ease-in-out transform hover:-translate-y-1 cursor-pointer flex flex-col items-center text-center w-full md:w-80",role:"button","aria-label":""},n.createElement("div",{className:"bg-purple-100 p-4 rounded-full mb-4"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#6e11b0",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),n.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))),n.createElement("h2",{className:"font-bold text-lg text-gray-800"},""),n.createElement("p",{className:"text-sm text-gray-500 mt-1"}," ",n.createElement("br",null),""))),f==="selection"&&n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 w-full max-w-7xl mx-auto"},n.createElement("div",{className:"bg-white text-black p-6 rounded-md shadow"},n.createElement("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 cursor-pointer",onClick:Y=>{Y.stopPropagation(),k(!q)}},n.createElement("h2",{className:"font-bold text-xl"},""),n.createElement("div",{className:"flex items-center gap-4 w-full sm:w-auto"},n.createElement("input",{type:"text",placeholder:" Class ID ",value:D,onChange:Y=>B(Y.target.value),onClick:Y=>Y.stopPropagation(),className:"w-full sm:w-64 p-2 border border-gray-300 rounded-md focus:outline-none focus:border-black"}),n.createElement("span",{className:"transition-transform duration-300"},q?n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})):n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}))))),n.createElement("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${q?"max-h-[500px] mt-4":"max-h-0"}`},T?n.createElement("p",null,"..."):n.createElement("ul",{className:"space-y-2 max-h-96 overflow-y-auto"},v.length>0?v.filter(Y=>Y.title.toLowerCase().includes(D.toLowerCase())||Y.class_id.toString().includes(D.toLowerCase())).map(Y=>n.createElement("li",{key:Y.class_id,className:"flex bg-gray-50 p-4 rounded-lg shadow justify-between items-center hover:bg-gray-100 transition-colors"},n.createElement("span",{className:"text-wrap break-normal w-full mr-6"},n.createElement("span",{className:"text-red-500 font-bold"},Y.class_id),n.createElement("span",{className:"text-purple-800 font-bold text-wrap ml-2"},Y.title)),n.createElement("button",{onClick:()=>le(Y),className:"bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600 flex-shrink-0"},""))):n.createElement("p",{className:"text-gray-500"},"")))),n.createElement("div",{className:"bg-white text-black p-6 rounded-md shadow"},n.createElement("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4 cursor-pointer",onClick:Y=>{Y.stopPropagation(),ee(!ae)}},n.createElement("h2",{className:"font-bold text-xl"},""),n.createElement("div",{className:"flex items-center gap-4 w-full sm:w-auto"},n.createElement("input",{type:"text",placeholder:"",value:G,onChange:Y=>z(Y.target.value),onClick:Y=>Y.stopPropagation(),className:"w-full sm:w-64 p-2 border border-gray-300 rounded-md focus:outline-none focus:border-black"}),n.createElement("span",{className:"transition-transform duration-300"},ae?n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})):n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}))))),n.createElement("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${ae?"max-h-[500px] mt-4":"max-h-0"}`},T?n.createElement("p",null,"..."):n.createElement("ul",{className:"space-y-2 max-h-96 overflow-y-auto"},y.length>0?y.filter(Y=>Y.title.toLowerCase().includes(G.toLowerCase())).map(Y=>n.createElement("li",{key:Y.request_id,className:"flex bg-green-50 p-4 rounded-lg shadow justify-between items-center hover:bg-green-100 transition-colors"},n.createElement("span",{className:"text-wrap break-normal w-full mr-6"},n.createElement("span",{className:"text-green-800 font-bold text-wrap"},Y.title),n.createElement("span",{className:"text-xs text-gray-600 block"},"(: ",Y.requested_by_name,")")),n.createElement("button",{onClick:()=>se(Y),className:"bg-green-600 text-white px-4 py-1 rounded hover:bg-green-700 flex-shrink-0"},""))):n.createElement("p",{className:"text-gray-500 text-center"},"")))))),["new","duplicate","fromRequest"].includes(f)&&n.createElement(Wd,{onClose:fe,initialData:w,onSubmit:re,mode:f}))}const py=({isOpen:c,onClose:u,title:m,description:i})=>c?n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50 p-4",onClick:u},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:f=>f.stopPropagation()},n.createElement("div",{className:"p-6"},n.createElement("h2",{className:"text-2xl font-bold text-purple-800 mb-4 text-center"},m),n.createElement("h3",{className:"text-lg font-semibold text-gray-700 mb-2"},""),n.createElement("div",{className:"text-gray-600 whitespace-pre-wrap bg-gray-50 p-4 rounded-md border min-h-[100px]  break-words"},i||n.createElement("p",{className:"text-gray-400 italic"},""))),n.createElement("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 flex flex-row-reverse"},n.createElement("button",{type:"button",onClick:u,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-purple-600 text-base font-medium text-white hover:bg-purple-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm"},"")))):null,gy=()=>{const{user:c,authFetch:u}=nt(),[m,i]=d.useState([]),[f,g]=d.useState(!0),[v,b]=d.useState(null),[y,h]=d.useState("all"),[w,S]=d.useState(!1),[T,A]=d.useState(null),[D,B]=d.useState([]),[G,z]=d.useState(!1),[q,k]=d.useState(!1),ae=async()=>{try{g(!0);const _=await u("https://library.ams.cmu.ac.th/amslibclass/api/classes/promoted");if(!_.ok)throw new Error("Failed to fetch classes.");const Z=(await _.json()).map(E=>({...E,speaker:le(E.speaker),target_groups:le(E.target_groups),registered_users:E.registered_users||[]})).filter(E=>E.status!=="closed");i(Z)}catch(_){b(_.message)}finally{g(!1)}};d.useEffect(()=>{c&&ae()},[c,u]);const ee=async _=>{if(!c){alert("Please log in to register.");return}try{const F=await u(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${_}/register`,{method:"POST"}),ie=await F.json();F.ok?(alert(ie.message),i(Z=>Z.map(E=>E.class_id===_?{...E,registered_users:[...E.registered_users,c.email]}:E))):alert(`Error: ${ie.message}`)}catch(F){console.error("Registration failed:",F),alert("An error occurred during registration.")}},I=async _=>{if(!c){alert("Please log in.");return}try{const F=await u(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${_}/cancel`,{method:"POST"}),ie=await F.json();F.ok?(alert(ie.message),i(Z=>Z.map(E=>E.class_id===_?{...E,registered_users:E.registered_users.filter(R=>R!==c.email)}:E))):alert(`Error: ${ie.message}`)}catch(F){console.error("Cancellation failed:",F),alert("An error occurred during cancellation.")}},Q=_=>{B(F=>F.includes(_)?F.filter(ie=>ie!==_):[...F,_])},M=async()=>{if(!c){alert("");return}if(D.length===0||!window.confirm(` ${D.length} ?`))return;z(!0);const _={success:[],failed:[]};for(const F of D){const ie=ne[F];if(!ie||!re(ie)){_.failed.push({classId:F,message:""});continue}try{const Z=await u(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${F}/register`,{method:"POST"}),E=await Z.json();Z.ok?_.success.push(F):_.failed.push({classId:F,message:E.message})}catch{_.failed.push({classId:F,message:""})}}z(!1),alert(`
: ${_.success.length} 
: ${_.failed.length} `),await ae(),B([])},le=_=>{if(!_)return"N/A";if(typeof _!="string")return String(_);try{let F=JSON.parse(_);if(typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(F))return F.join(", ")}catch{return _.replace(/["[\]]/g,"").replace(/,/g,", ")}return _},se=_=>!c||!Array.isArray(_.registered_users)?!1:_.registered_users.includes(c.email),re=_=>{if(!c||!c.roles||!Array.isArray(c.roles))return!1;const F=Array.isArray(_.target_groups)?_.target_groups:typeof _.target_groups=="string"?_.target_groups.split(",").map(ie=>ie.trim()):[];return c.roles.some(ie=>F.includes(ie))},fe=()=>y==="available"?m.filter(_=>!se(_)&&(_.max_participants===999||_.registered_users.length<_.max_participants)):y==="registered"?m.filter(se):m;m.filter(_=>!se(_)&&(_.max_participants===999||_.registered_users.length<_.max_participants)).length;const Y=m.filter(se).length,ne=m.reduce((_,F)=>(_[F.class_id]=F,_),{}),ye=_=>{A(_),S(!0)},U=fe();return n.createElement("div",{className:"w-screen flex flex-col lg:flex-row"},n.createElement(Nt,{isCollapsed:q,onToggle:()=>k(!q)}),n.createElement(py,{isOpen:w,onClose:()=>S(!1),title:T?.title,description:T?.description}),D.length>0&&n.createElement("div",{className:"fixed bottom-4 right-4 z-20 lg:hidden"},n.createElement("button",{onClick:M,disabled:G,className:"bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-green-700 transition-all disabled:bg-gray-400 disabled:cursor-wait"},G?"...":` (${D.length})`)),n.createElement("div",{className:"flex-1 p-4 md:p-8 bg-gray-100 min-h-screen"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold mb-4 text-gray-800 text-center"},""),n.createElement("div",{className:"border-b border-gray-200 mb-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-y-4"},n.createElement("nav",{className:"-mb-px flex flex-wrap space-x-4 sm:space-x-8","aria-label":"Tabs"},n.createElement("button",{onClick:()=>h("all"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none ${y==="all"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`}," (",m.length,")"),n.createElement("button",{onClick:()=>h("registered"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none ${y==="registered"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`}," (",Y,")")),D.length>0&&n.createElement("div",{className:"hidden lg:block"},n.createElement("button",{onClick:M,disabled:G,className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-green-700 transition-all disabled:bg-gray-400 disabled:cursor-wait"},G?"...":` ${D.length} `)))),y!=="registered"&&n.createElement("div",{className:"mb-6 flex items-center gap-2 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-200"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})),n.createElement("span",null,"  ","",n.createElement("input",{type:"checkbox",className:"h-4 w-4 mb-1 mx-1 rounded border-gray-300 text-purple-600 focus:ring-purple-500 align-middle pointer-events-none",readOnly:!0}),"    ()")),f&&n.createElement("p",null,"Loading classes..."),v&&n.createElement("p",{className:"text-red-500"},v),!f&&!v&&n.createElement(n.Fragment,null,U.length>0?n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"},U.map(_=>{const F=_.max_participants!==999&&_.registered_users.length>=_.max_participants,ie=se(_),Z=re(_),E=!F&&!ie&&_.status!=="closed"&&Z,R=()=>ie?n.createElement("div",{className:"absolute top-0 right-0 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-lg"},""):F?n.createElement("div",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-bl-lg rounded-tr-lg"},""):null;let P="";return Z||(P=""),n.createElement("div",{key:_.class_id,className:"bg-white rounded-xl shadow-lg flex flex-col hover:shadow-xl transition-shadow duration-300 relative overflow-hidden cursor-pointer",onClick:()=>ye(_)},n.createElement(R,null),E&&n.createElement("div",{className:"absolute top-4 right-4 z-10"},n.createElement("input",{type:"checkbox",className:"h-6 w-6 rounded border-gray-300 text-purple-600 focus:ring-purple-500 cursor-pointer",checked:D.includes(_.class_id),onChange:()=>Q(_.class_id),onClick:j=>j.stopPropagation()})),n.createElement("div",{className:"p-6 flex-grow flex flex-col"},n.createElement("h2",{className:"text-xl font-bold text-purple-800 mb-2 pr-12 break-words"},_.title),n.createElement("p",{className:"text-xs text-gray-400 mb-4"},"ID: ",_.class_id),n.createElement("div",{className:"space-y-3 text-gray-700 text-sm mb-4 flex-grow"},n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",_.speaker)),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",new Date(_.start_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}))),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",_.start_time.substring(0,5)," -"," ",_.end_time.substring(0,5)," .")),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})),n.createElement("span",null,n.createElement("strong",null,":")," ",_.format)),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.724 4.78c.29.354.596.696.914 1.026a1 1 0 11-1.44 1.389c-.188-.196-.373-.396-.554-.6a19.098 19.098 0 01-3.107 3.567 1 1 0 01-1.334-1.49 17.077 17.077 0 003.293-3.643 19.024 19.098 0 01-2.06-3.056A1 1 0 013.266 6.05a17.204 17.204 0 001.78 2.802 16.76 16.76 0 01-.656-1.852H4a1 1 0 110-2h3V3a1 1 0 011-1zm6 6a1 1 0 011 1v1h5.292a1 1 0 110 2H17v6a1 1 0 11-2 0v-6h-2.292a1 1 0 110-2H15V9a1 1 0 011-1z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",_.language==="TH"?"":_.language==="EN"?"":"")),_.format==="ONSITE"&&_.location&&n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",_.location)),_.target_groups&&n.createElement("div",{className:"flex items-start gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})),n.createElement("span",null,n.createElement("strong",null,":")," ",_.target_groups)),n.createElement("div",{className:"flex items-start gap-2"},n.createElement("button",{onClick:j=>{j.stopPropagation(),ye(_)},className:"text-purple-700 font-semibold hover:underline hover:text-purple-900 transition-colors"},""))),n.createElement("div",{className:"border-t border-gray-200 pt-4 mt-auto"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},n.createElement("span",{className:"font-bold text-gray-800"},_.registered_users.length," /"," ",_.max_participants===999?"":_.max_participants)),n.createElement("button",{onClick:j=>{j.stopPropagation(),ie?I(_.class_id):ee(_.class_id)},title:P,disabled:!ie&&F||_.status==="closed"||!Z,className:`py-2 px-4 rounded-md font-semibold text-white text-sm transition-colors duration-300 ${Z?_.status==="closed"?"bg-gray-400 cursor-not-allowed":ie?"bg-yellow-500 hover:bg-yellow-600":F?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`},Z?_.status==="closed"?"":ie?"":F?"":"":"")))))})):n.createElement("div",{className:"text-center py-10 px-6 bg-white rounded-lg shadow-md"},n.createElement("h3",{className:"text-xl font-semibold text-gray-700"},""),n.createElement("p",{className:"text-gray-500 mt-2"},"")))))};function hy(c){const[u,m]=d.useState(!0),[i,f]=d.useState(null),[g,v]=d.useState(!1),b=()=>{m(!1),v(!0)};return d.useEffect(()=>{if(!document){const S=new Error(`[ScriptLoadingError] document not defined when attempting to load ${c}`);f(S);return}const y=document.querySelector(`script[src="${c}"]`);if(y?.dataset.loaded){b();return}const h=y||document.createElement("script");y||(h.src=c);const w=()=>{h.dataset.loaded="1",b()};h.addEventListener("load",w),h.addEventListener("error",S=>{console.error("Failed to load script:",c,S);const T=new Error(`[ScriptLoadingError] Failed to load script: ${c}`);f(T)}),y||document.head.append(h)},[]),{isLoading:u,error:i,isSuccess:g}}const yy=c=>c&&c.charts,Cd=(c,u)=>{const{controls:m,toolbarItems:i,getChartEditor:f}=c;return u&&u.charts&&u.visualization&&u.visualization.ChartWrapper&&u.visualization.Dashboard&&(!m||u.visualization.ChartWrapper)&&(!f||u.visualization.ChartEditor)&&(!i||u.visualization.drawToolbar)},vy=c=>window.google;function Ey(c){const{chartVersion:u="current",chartPackages:m=["corechart","controls"],chartLanguage:i="en",mapsApiKey:f}=c,[g,v]=d.useState(null),[b,y]=d.useState(null),[h,w]=d.useState(null),{isLoading:S,error:T,isSuccess:A}=hy(c.chartLoaderScriptUrl||"https://www.gstatic.com/charts/loader.js");return d.useEffect(()=>{if(!A)return;const D=vy();if(!yy(D)){const B=new Error("[ScriptInitializationError] Script loaded but Google not attached to window.");y(B);return}if(Cd(c,D)){v(D);return}D.charts.load(u,{packages:m,language:i,mapsApiKey:f}),D.charts.setOnLoadCallback(()=>{if(!Cd(c,D)){const B=new Error("[GoogleChartsInitializationError] Google Charts not ready after load callback.");console.error(B),w(B);return}v(D)})},[A]),{error:T||b||h,isLoading:S,google:g}}const Id={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},chartLoaderScriptUrl:"https://www.gstatic.com/charts/loader.js"},by=c=>{const{isReady:u,chartControls:m,filter:i}=c;return!u||!m||!m?.length?null:n.createElement(n.Fragment,null,m.filter(f=>{let{controlProp:g,control:v}=f;return i?i({control:v,controlProp:g}):!0}).map(f=>{let{control:g}=f;return n.createElement("div",{key:g.getContainerId(),id:g.getContainerId()})}))};let Td=0;const Pd=()=>(Td+=1,`reactgooglegraph-${Td}`);class e0{static initializeControls=u=>{for(let m=0;m<u.length;m+=1){const{controlType:i,options:f,controlWrapperParams:g}=u[m].controlProp;g&&"state"in g&&u[m].control.setState(g.state),u[m].control.setOptions(f),u[m].control.setControlType(i)}};static listenToControlEvents=(u,m)=>{const{google:i}=m;return u.flatMap(f=>{const{control:g,controlProp:v}=f,{controlEvents:b=[]}=v;return b.map(y=>{const{callback:h,eventName:w}=y;return i.visualization.events.addListener(g,w,function(){for(var S=arguments.length,T=new Array(S),A=0;A<S;A++)T[A]=arguments[A];h({chartWrapper:null,controlWrapper:g,props:m,google:i,eventArgs:T})})})})};static createControlId=u=>{let m;return typeof u>"u"?m=`googlechart-control-${Pd()}`:m=u,m};static createChartControls=u=>{const{controls:m,google:i}=u;return m?m.map((f,g)=>{const{controlID:v,controlType:b,options:y,controlWrapperParams:h}=f,w=this.createControlId(v);return{controlProp:f,control:new i.visualization.ControlWrapper({containerId:w,controlType:b,options:y,...h})}}):null};static addControls=u=>{const{chartWrapper:m,chartDashboard:i}=u,f=this.createChartControls(u);return!f||!i||!m?null:(i.bind(f.map(g=>{let{control:v}=g;return v}),m),this.initializeControls(f),f)}}const xy=c=>{const[u,m]=d.useState(null);return[d.useMemo(()=>!u||!c?null:c.map((f,g)=>{const v=u[g];return v?{controlProp:f,control:v}:void 0}).flatMap(f=>f?[f]:[]),[u,c]),m]},wy=(c,u)=>{d.useEffect(()=>{const m=e0.listenToControlEvents(c??[],u);return()=>{m.forEach(i=>{u.google.visualization.events.removeListener(i)})}},[c,u])},Sy=c=>{const[u,m]=xy(c.controls);return wy(u??[],c),{addControls:f=>{const g=e0.addControls(f);m(g?.map(v=>v.control)??null)},renderControl:f=>{const{chartWrapper:g,chartDashboard:v}=c;return d.createElement(by,{...c,isReady:!!(g&&v),chartControls:u,filter:f})}}},Ny=c=>{const u=d.useRef(null);return{chartId:(()=>{const{graphID:f,graph_id:g}=c,v=f||g;let b;return v?b=v:b=u.current||Pd(),u.current=b,u.current})()}},_y=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],Cy=async function(c,u){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Promise((i,f)=>{const g=`${m.headers?`headers=${m.headers}`:"headers=0"}`,v=`${m.query?`&tq=${encodeURIComponent(m.query)}`:""}`,b=`${m.gid?`&gid=${m.gid}`:""}`,y=`${m.sheet?`&sheet=${m.sheet}`:""}`,h=`${m.access_token?`&access_token=${m.access_token}`:""}`,w=`${g}${b}${y}${v}${h}`,S=`${u}/gviz/tq?${w}`;new c.visualization.Query(S).send(A=>{A.isError()?f(`Error in query:  ${A.getMessage()} ${A.getDetailedMessage()}`):i(A.getDataTable())})})},Ty="#CCCCCC";class Ki{static grayOutHiddenColumnsLabel=(u,m)=>{const{googleChartWrapper:i,options:f}=u;if(!i){console.error("googleChartWrapper is not defined");return}const g=i.getDataTable();if(!g)return;const v=g.getNumberOfColumns();if(m.length>0===!1)return;const y=Array.from({length:v-1}).map((h,w)=>{const S=this.getColumnId(g,w+1);return m.includes(S)?Ty:f&&f.colors?f.colors[w]:_y[w]});i.setOptions({...f,colors:y}),i.draw()};static listenToLegendToggle=(u,m)=>{const[i,f]=m,{google:g,googleChartWrapper:v}=u;if(!v){console.error("googleChartWrapper is not defined");return}return g.visualization.events.addListener(v,"select",()=>{const y=v.getChart().getSelection(),h=v.getDataTable();if(y.length===0||y[0].row!==null||!h)return;const w=y[0].column,S=this.getColumnId(h,w);i?.includes(S)?f(T=>[...T.filter(A=>A!==S)]):f(T=>[...T,S])})};static draw=async u=>{const{data:m,diffdata:i,rows:f,columns:g,options:v,chartType:b,formatters:y,spreadSheetUrl:h,spreadSheetQueryParameters:w,googleChartDashboard:S,googleChartWrapper:T,google:A,hiddenColumns:D,legendToggle:B,legend_toggle:G}=u;if(!T){console.error("draw was called with googleChartWrapper = null");return}let z,q=null;if(i){const Q=A.visualization.arrayToDataTable(i.old),M=A.visualization.arrayToDataTable(i.new);q=A.visualization[b].prototype.computeDiff(Q,M)}m?m instanceof A.visualization.DataTable?z=m:Array.isArray(m)?z=A.visualization.arrayToDataTable(m):z=new A.visualization.DataTable(m):f&&g?z=A.visualization.arrayToDataTable([g,...f]):h?z=await Cy(A,h,w):z=A.visualization.arrayToDataTable([]);const k=z.getNumberOfColumns(),ae=Array(k).fill(0).map((Q,M)=>{const le=this.getColumnId(z,M);return D.includes(le)?{label:z.getColumnLabel(M),type:z.getColumnType(M),calc:()=>null}:M}),ee=T.getChart();T.getChartType()==="Timeline"&&ee&&ee.clearChart(),T.setChartType(b),T.setOptions(v||{});const I=new A.visualization.DataView(z);I.setColumns(ae),T.setDataTable(I),T.draw(),S&&S.draw(z),q&&(T.setDataTable(q),T.draw()),y&&(this.applyFormatters({dataTable:z,formatters:y,google:A}),T.setDataTable(z),T.draw()),(B===!0||G===!0)&&this.grayOutHiddenColumnsLabel(u,D)};static getColumnId=(u,m)=>u.getColumnId(m)||u.getColumnLabel(m);static applyFormatters=u=>{let{dataTable:m,formatters:i,google:f}=u;for(let g of i)switch(g.type){case"ArrowFormat":{new f.visualization.ArrowFormat(g.options).format(m,g.column);return}case"BarFormat":{new f.visualization.BarFormat(g.options).format(m,g.column);return}case"ColorFormat":{const v=new f.visualization.ColorFormat(g.options),{ranges:b}=g;if(b)for(let y of b)v.addRange(...y);v.format(m,g.column);return}case"DateFormat":{new f.visualization.DateFormat(g.options).format(m,g.column);return}case"NumberFormat":{new f.visualization.NumberFormat(g.options).format(m,g.column);return}case"PatternFormat":{new f.visualization.PatternFormat(g.options).format(m,g.column);return}default:{console.warn(`Unknown formatter type: ${g.type}`);return}}}}const Ay=c=>{const{google:u,googleChartWrapper:m,googleChartDashboard:i}=c,[f,g]=d.useState([]);d.useEffect(()=>{m&&Ki.draw({...c,hiddenColumns:f,googleChartWrapper:m,googleChartDashboard:i,google:u})},[f,c.data,c.rows,c.columns,c.options,c.chartLoaderScriptUrl,c.chartType,c.formatters,c.spreadSheetUrl,c.spreadSheetQueryParameters,c.legendToggle,c.legend_toggle]);const v=()=>{const{googleChartWrapper:h}=c;h&&h.draw()},b=h=>{const w=[],{legendToggle:S,legend_toggle:T}=c;if(Ki.draw({...c,hiddenColumns:f,googleChartWrapper:h,googleChartDashboard:i,google:u}),window.addEventListener("resize",v),T||S){const A=Ki.listenToLegendToggle(c,[f,g]);A&&w.push(A)}return w},y=(h,w)=>{window.removeEventListener("resize",v),w.forEach(S=>{u.visualization.events.removeListener(S)}),h.getChartType()==="Timeline"&&h.getChart()&&h.getChart().clearChart()};d.useEffect(()=>{if(!m)return;const h=b(m);return()=>{y(m,h)}},[m,b,y])},zy=c=>{const{chartEvents:u,google:m,googleChartWrapper:i}=c;if(u){if(!i){console.warn("listenToEvents was called before chart wrapper ready.");return}return u.map(f=>{let{eventName:g,callback:v}=f;return m.visualization.events.addListener(i,g,function(){for(var b=arguments.length,y=new Array(b),h=0;h<b;h++)y[h]=arguments[h];v({chartWrapper:i,props:c,google:m,eventArgs:y})})})}},Ry=c=>{d.useEffect(()=>{if(!c.googleChartWrapper)return;const u=zy(c);return()=>{u?.forEach(m=>{c.google.visualization.events.removeListener(m)})}},[c])},My=c=>{const[u,m]=d.useState(null),[i,f]=d.useState(null),{addControls:g,renderControl:v}=Sy({...c,chartDashboard:i,chartWrapper:u});Ry({...c,googleChartWrapper:u});const{chartId:b}=Ny(c),y=d.useRef(null),h=d.useRef(null);d.useEffect(()=>{const{options:z,google:q,chartType:k,chartWrapperParams:ae,toolbarItems:ee,getChartEditor:I,getChartWrapper:Q,onLoad:M}=c,le={chartType:k,options:z,containerId:b,...ae},se=new q.visualization.ChartWrapper(le);se.setOptions(z||{}),Q?.(se,q);const re=new q.visualization.Dashboard(y.current);ee&&q.visualization.drawToolbar(h.current,ee);let fe=null;I&&(fe=new q.visualization.ChartEditor,I({chartEditor:fe,chartWrapper:se,google:q})),g({...c,chartDashboard:re,chartWrapper:se}),m(se),f(re),M?.(q,{google:q,chartWrapper:se,chartEditor:fe,chartDashboard:re})},[]),Ay({...c,googleChartWrapper:u,googleChartDashboard:i});const w=()=>{const{width:z,height:q,options:k,style:ae,className:ee,rootProps:I,google:Q}=c,M={height:q||k&&k.height,width:z||k&&k.width,...ae};return d.createElement("div",{id:b,style:M,className:ee,...I})},S=()=>c.toolbarItems?d.createElement("div",{ref:h}):null,{width:T,height:A,options:D,style:B}=c,G={height:A||D&&D.height,width:T||D&&D.width,...B};return c.render?d.createElement("div",{ref:y,style:G},d.createElement("div",{ref:h,id:"toolbar"}),c.render({renderChart:w,renderControl:v,renderToolbar:S})):d.createElement("div",{ref:y,style:G},v(z=>{let{controlProp:q}=z;return q.controlPosition!=="bottom"}),w(),v(z=>{let{controlProp:q}=z;return q.controlPosition==="bottom"}),S())},Dy=d.createContext(Id),Oy=c=>{let{children:u,value:m}=c;return d.createElement(Dy.Provider,{value:m},u)},Ly=c=>{const{google:u,isLoading:m,error:i}=Ey(c);return m?c.loader??null:i?c.errorElement??null:u?n.createElement(My,{google:u,...c}):null},t0=c=>{const u={...Id,...c};return n.createElement(Oy,{value:u},n.createElement(Ly,u))};var Ad;(function(c){c.annotation="annotation",c.annotationText="annotationText",c.certainty="certainty",c.emphasis="emphasis",c.interval="interval",c.scope="scope",c.style="style",c.tooltip="tooltip",c.domain="domain"})(Ad||(Ad={}));const zd=({demographics:c})=>{const u=[["","",{role:"tooltip",type:"string"}],...Object.entries(c).map(([i,f])=>[`${i}: ${f} `,f,`${i}: ${f}  (${(f/Object.values(c).reduce((g,v)=>g+v,0)*100).toFixed(2)}%)`])],m={is3D:!0,pieSliceText:"value-and-percentage",pieSliceTextStyle:{color:"white"},colors:["#FF9900","#3366CC","#990099","#109618","#DC3912","#AAAAAA"],fontName:"Sarabun",legend:{position:"right",alignment:"center",textStyle:{fontSize:14,fontName:"Sarabun"}},tooltip:{trigger:"focus",textStyle:{fontName:"Sarabun"}},chartArea:{left:"5%",top:"5%",width:"90%",height:"90%",backgroundColor:"transparent"},backgroundColor:"transparent",title:"",titleTextStyle:{fontName:"Sarabun"}};return n.createElement(t0,{chartType:"PieChart",data:u,options:m,width:"100%",height:"100%",legendToggle:!0})},Rd=({data:c})=>{const u=[["","",{role:"annotation"},{role:"style"}],["",parseFloat(c.avg_score_content)||0,`${(parseFloat(c.avg_score_content)||0).toFixed(2)}`,"#3366CC"],["",parseFloat(c.avg_score_material)||0,`${(parseFloat(c.avg_score_material)||0).toFixed(2)}`,"#DC3912"],["",parseFloat(c.avg_score_duration)||0,`${(parseFloat(c.avg_score_duration)||0).toFixed(2)}`,"#FF9900"],["",parseFloat(c.avg_score_format)||0,`${(parseFloat(c.avg_score_format)||0).toFixed(2)}`,"#109618"],["",parseFloat(c.avg_score_speaker)||0,`${(parseFloat(c.avg_score_speaker)||0).toFixed(2)}`,"#990099"]],m={title:"",backgroundColor:"transparent",titleTextStyle:{color:"white"},chartArea:{width:"80%",height:"80%"},hAxis:{title:"",titleTextStyle:{color:"black"},textStyle:{color:"black"},minValue:0,maxValue:5,fontName:"Sarabun"},vAxis:{title:"",titleTextStyle:{color:"black"},textStyle:{color:"black"},fontName:"Sarabun"},legend:{position:"none"},fontName:"Sarabun",annotations:{alwaysOutside:!0,textStyle:{color:"black",fontSize:14,fontName:"Sarabun",bold:!0,auraColor:"none"}}};return n.createElement(t0,{chartType:"BarChart",width:"100%",height:"100%",data:u,options:m})},ky=(c,u,m)=>{const[i,f]=d.useState([]),[g,v]=d.useState(!0),[b,y]=d.useState(null),{authFetch:h}=nt();return d.useEffect(()=>{const{filterType:w,year:S,month:T,startDate:A,endDate:D,roles:B}=m;if(!c||u!==""){v(!1),f([]);return}(async()=>{v(!0),y(null);try{const z=new URLSearchParams;z.append("filterType",w),w==="yearly"?z.append("year",S):w==="monthly"?(z.append("year",S),z.append("month",T)):w==="range"&&(z.append("startDate",A),z.append("endDate",D)),B&&B.length>0&&z.append("roles",JSON.stringify(B));const q=await h(`https://library.ams.cmu.ac.th/amslibclass/api/admin/statistics/class-demographics?${z.toString()}`);if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const k=await q.json();f(k)}catch(z){y(z)}finally{v(!1)}})()},[c,u,m,h]),{stats:i,loading:g,error:b}},Md=["","","/",""],Uy=({isOpen:c,onClose:u,onApply:m,initialFilters:i})=>{const[f,g]=d.useState(i.filterType||"all"),[v,b]=d.useState(i.year||new Date().getFullYear().toString()),[y,h]=d.useState(i.month||(new Date().getMonth()+1).toString()),[w,S]=d.useState(i.startDate||""),[T,A]=d.useState(i.endDate||""),[D,B]=d.useState(i.roles||[]),G=new Date().getFullYear(),z=Array.from({length:G-2021+1},(M,le)=>G-le),q=[{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""},{value:"6",label:""},{value:"7",label:""},{value:"8",label:""},{value:"9",label:""},{value:"10",label:""},{value:"11",label:""},{value:"12",label:""}],k=d.useRef(null),ae=d.useRef(null);d.useEffect(()=>{c&&(g(i.filterType||"all"),b(i.year||new Date().getFullYear().toString()),h(i.month||(new Date().getMonth()+1).toString()),S(i.startDate||""),A(i.endDate||""),B(i.roles||[]))},[c,i]);const ee=M=>{B(le=>le.includes(M)?le.filter(se=>se!==M):[...le,M])},I=()=>{if(D.length===0){alert(" 1 ");return}m({filterType:f,year:v,month:y,startDate:w,endDate:T,roles:D}),u()},Q=()=>{g("all"),b(new Date().getFullYear().toString()),h((new Date().getMonth()+1).toString()),S(""),A(""),B(Md)};return c?n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg"},n.createElement("div",{className:"p-6"},n.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center"},""),n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("label",{htmlFor:"filter-type",className:"block text-sm font-medium text-gray-700 pb-1"},""),n.createElement("select",{id:"filter-type",value:f,onChange:M=>g(M.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md"},n.createElement("option",{value:"all"},""),n.createElement("option",{value:"yearly"},""),n.createElement("option",{value:"monthly"},""),n.createElement("option",{value:"range"},""))),f==="yearly"&&n.createElement("div",null,n.createElement("label",{htmlFor:"year-filter",className:"block text-sm font-medium text-gray-700"},""),n.createElement("select",{id:"year-filter",value:v,onChange:M=>b(M.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md"},z.map(M=>n.createElement("option",{key:M,value:M},M," (",M+543,")")))),f==="monthly"&&n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"month-filter",className:"block text-sm font-medium text-gray-700"},""),n.createElement("select",{id:"month-filter",value:y,onChange:M=>h(M.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md"},q.map(M=>n.createElement("option",{key:M.value,value:M.value},M.label)))),n.createElement("div",null,n.createElement("label",{htmlFor:"year-for-month-filter",className:"block text-sm font-medium text-gray-700"},""),n.createElement("select",{id:"year-for-month-filter",value:v,onChange:M=>b(M.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-400 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md"},z.map(M=>n.createElement("option",{key:M,value:M},M," (",M+543,")"))))),f==="range"&&n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700"},""),n.createElement("div",{className:"relative mt-1"},n.createElement("input",{ref:k,type:"date",id:"start-date",value:w,onChange:M=>S(M.target.value),onClick:()=>k.current?.showPicker?.(),onKeyDown:M=>M.preventDefault(),className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm cursor-pointer"}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))))),n.createElement("div",null,n.createElement("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700"},""),n.createElement("div",{className:"relative mt-1"},n.createElement("input",{ref:ae,type:"date",id:"end-date",value:T,onChange:M=>A(M.target.value),min:w,onClick:()=>ae.current?.showPicker?.(),onKeyDown:M=>M.preventDefault(),className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm cursor-pointer"}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})))))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700"},""),n.createElement("div",{className:"mt-2 grid grid-cols-2 gap-x-4 gap-y-2"},Md.map(M=>n.createElement("label",{key:M,className:"flex items-center space-x-2 cursor-pointer"},n.createElement("input",{type:"checkbox",checked:D.includes(M),onChange:()=>ee(M),className:"h-4 w-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),n.createElement("span",{className:"text-sm text-gray-800"},M))))))),n.createElement("div",{className:"bg-gray-50 px-6 py-4 flex justify-between rounded-b-lg"},n.createElement("button",{type:"button",onClick:Q,className:"p-2 rounded-full bg-white text-gray-500 hover:bg-gray-200 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-colors",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))),n.createElement("div",{className:"flex gap-4"},n.createElement("button",{type:"button",onClick:u,className:"px-6 py-2 rounded bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold"},""),n.createElement("button",{type:"button",onClick:I,className:"px-6 py-2 w-[82.2px] rounded bg-purple-600 text-white hover:bg-purple-700 font-semibold"},""))))):null},Hy=()=>{const{user:c,activeRole:u,isSwitchingRole:m,authFetch:i}=nt(),f=_t(),[g,v]=d.useState(!1),[b,y]=d.useState("all"),[h,w]=d.useState(new Date().getFullYear().toString()),[S,T]=d.useState((new Date().getMonth()+1).toString()),[A,D]=d.useState(""),[B,G]=d.useState(""),z=["","","/",""],[q,k]=d.useState(z),[ae,ee]=d.useState(""),[I,Q]=d.useState(""),[M,le]=d.useState("start_date"),[se,re]=d.useState("desc"),fe=d.useMemo(()=>({filterType:b,year:h,month:S,startDate:A,endDate:B,roles:q}),[b,h,S,A,B,q]),{stats:Y,loading:ne,error:ye}=ky(c,u,fe),[U,_]=d.useState([]),[F,ie]=d.useState({}),Z=new Date().getFullYear();Array.from({length:Z-2021+1},(W,ue)=>Z-ue);const E=[{value:"1",label:""},{value:"2",label:""},{value:"3",label:""},{value:"4",label:""},{value:"5",label:""},{value:"6",label:""},{value:"7",label:""},{value:"8",label:""},{value:"9",label:""},{value:"10",label:""},{value:"11",label:""},{value:"12",label:""}];d.useEffect(()=>{c&&u&&u!==""&&!m&&(alert(""),f("/"))},[c,u,f,m]);const R=W=>{y(W.filterType),w(W.year),T(W.month),D(W.startDate),G(W.endDate),k(W.roles||[])},P=()=>{Q(ae)},j=W=>{M===W?re(se==="asc"?"desc":"asc"):(le(W),re("asc"))},ce=d.useMemo(()=>(I?Y.filter(ue=>{const Ee=I.toLowerCase();return ue.title.toLowerCase().includes(Ee)||ue.class_id.toLowerCase().includes(Ee)}):Y).sort((ue,Ee)=>{const Me=ue[M],ke=Ee[M];if(typeof Me=="string"&&typeof ke=="string")return se==="asc"?Me.localeCompare(ke):ke.localeCompare(Me);if(M==="start_date"){const at=new Date(ue.start_date),kt=new Date(Ee.start_date);return se==="asc"?at-kt:kt-at}return se==="asc"?Me-ke:ke-Me}),[Y,I,M,se]),de=(W,ue)=>!!(ue.length===0||ue.includes(W)||W===""&&(ue.includes("")||ue.includes(""))),_e=d.useMemo(()=>{let W=0;return ce.forEach(ue=>{for(const Ee in ue.demographics)de(Ee,q)&&(W+=ue.demographics[Ee]||0)}),W},[ce,q]),Xe=d.useMemo(()=>{const W={};return ce.forEach(ue=>{for(const Ee in ue.demographics)de(Ee,q)&&(W[Ee]=(W[Ee]||0)+ue.demographics[Ee])}),W},[ce,q]),te=d.useMemo(()=>{const W=["content","material","duration","format","speaker"],ue={};W.forEach(ke=>ue[ke]=0);let Ee=0;if(ce.forEach(ke=>{if(ke.total_evaluations>0){let at=0;for(const kt in ke.demographics)de(kt,q)&&(at+=ke.demographics[kt]||0);W.forEach(kt=>{ue[kt]+=(parseFloat(ke[`avg_score_${kt}`])||0)*at}),Ee+=at}}),Ee===0)return null;const Me={};for(const ke of W)Me[`avg_score_${ke}`]=ue[ke]/Ee;return Me},[ce,q]),ve=d.useMemo(()=>{if(!te)return 0;const W=Object.values(te);return W.length===0?0:W.reduce((ue,Ee)=>ue+Ee,0)/W.length},[te]),Ye=W=>{const ue=["content","material","duration","format","speaker"];let Ee=0,Me=0;return ue.forEach(ke=>{const at=parseFloat(W[`avg_score_${ke}`]);isNaN(at)||(Ee+=at,Me++)}),Me===0?"N/A":(Ee/Me).toFixed(2)},$=W=>{const ue={};for(const Ee in W.demographics)de(Ee,q)&&(ue[Ee]=W.demographics[Ee]);return{demographics:ue,avgScores:W,totalEvaluations:W.total_evaluations,isLoading:!1}},xe=()=>{switch(b){case"yearly":return`: ${parseInt(h,10)+543} (${h})`;case"monthly":return`: ${E.find(ke=>ke.value===S)?.label||""} ${parseInt(h,10)+543} (${h})`;case"range":const ue={year:"numeric",month:"long",day:"numeric"},Ee=A?new Date(A).toLocaleDateString("th-TH",ue):"...",Me=B?new Date(B).toLocaleDateString("th-TH",ue):"...";return A||B?`: ${Ee} - ${Me}`:" ()";case"all":default:return q.length>0?`: ${q.join(", ")}`:""}};if(ye)return n.createElement("p",null,"Error loading data: ",ye.message);if(!c||u!=="")return n.createElement("p",null,"Loading...");const ge=async W=>{const ue=!U.includes(W);if(_(Ee=>ue?[...Ee,W]:Ee.filter(Me=>Me!==W)),ue&&!F[W])try{const Ee=await i(`https://library.ams.cmu.ac.th/amslibclass/api/classes/${W}/evaluations`);if(Ee.ok){const Me=await Ee.json(),ke=Array.isArray(Me)?Me:Me.evaluations||[];ie(at=>({...at,[W]:ke}))}else ie(Me=>({...Me,[W]:[]}))}catch(Ee){console.error("Failed to fetch class details",Ee),ie(Me=>({...Me,[W]:[]}))}},Ne=()=>{const W=["Class ID","","",""," ()"," ()","/ ()"," ()",""," ()","/ ()"," ()"," ()"," ()"],ue=["","","/",""],Ee=["content","material","duration","format","speaker"],Me=ce.map(ft=>{const pl=Object.values(ft.demographics).reduce(($t,_s)=>$t+_s,0);return[ft.class_id,`"${ft.title.replace(/"/g,'""')}"`,new Date(ft.start_date).toLocaleDateString("th-TH"),pl,...ue.map($t=>ft.demographics[$t]||0),ft.total_evaluations,...Ee.map($t=>ft[`avg_score_${$t}`]?parseFloat(ft[`avg_score_${$t}`]).toFixed(2):"N/A")].join(",")}),ke=["","","",_e,...ue.map(ft=>Xe[ft]||0),ce.reduce((ft,pl)=>ft+pl.total_evaluations,0),...Ee.map(ft=>te?parseFloat(te[`avg_score_${ft}`]).toFixed(2):"N/A")].join(","),at=[W.join(","),...Me,"",ke].join(`
`),kt=new Blob(["\uFEFF"+at],{type:"text/csv;charset=utf-8;"}),Na=document.createElement("a"),pt=URL.createObjectURL(kt);Na.setAttribute("href",pt),Na.setAttribute("download","statistics_export.csv"),Na.style.visibility="hidden",document.body.appendChild(Na),Na.click(),document.body.removeChild(Na)};return n.createElement("div",{className:"flex h-screen w-screen"},n.createElement(Uy,{isOpen:g,onClose:()=>v(!1),onApply:R,initialFilters:fe}),n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 overflow-y-auto"},n.createElement("div",{className:"flex justify-center items-center gap-x-4 mb-8"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800"},""),n.createElement("button",{onClick:Ne,className:"p-2 text-gray-600  rounded-3xl shadow-md hover:bg-gray-100 hover:text-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all",title:" (CSV)"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})))),n.createElement("div",{className:"space-y-8"},n.createElement("div",null,n.createElement("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-gray-700 font-semibold rounded-md shadow-sm hover:bg-gray-50 focus:outline-none"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"})),n.createElement("span",null,"")),n.createElement("div",{className:"text-sm text-gray-600"},n.createElement("span",{className:"font-semibold"},":")," ",xe())),n.createElement("div",{className:"flex items-center gap-2 w-full md:w-auto"},n.createElement("input",{id:"search",type:"text",placeholder:" Class ID ",value:ae,onChange:W=>ee(W.target.value),className:"block w-full md:w-72 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),n.createElement("button",{onClick:P,className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors"},"")))),n.createElement("div",null,ne?n.createElement("div",{className:"flex flex-col lg:flex-row gap-4"},n.createElement("div",{className:"h-80 w-full lg:w-1/2 bg-gray-200 rounded-lg animate-pulse"}),n.createElement("div",{className:"h-80 w-full lg:w-1/2 bg-gray-200 rounded-lg animate-pulse"})):Object.keys(Xe).length>0?n.createElement("div",{className:"flex flex-col lg:flex-row lg:justify-around items-center gap-4"},n.createElement("div",{className:"relative h-80 w-full lg:w-1/2 min-w-[300px] flex-1"},n.createElement(zd,{demographics:Xe})),n.createElement("div",{className:"relative h-80 w-full lg:w-1/2 min-w-[300px] flex-1"},te?n.createElement(Rd,{data:te}):n.createElement("div",{className:"flex items-center justify-center h-full border-2 border-dashed border-gray-300 rounded-lg text-gray-500"},n.createElement("p",null,"")))):n.createElement("div",{className:"flex items-center justify-center h-80 border-2 border-dashed border-gray-300 rounded-lg text-gray-500"},n.createElement("p",null,""))),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},n.createElement("div",{className:"bg-white p-6 rounded-xl shadow-md flex flex-col items-center"},n.createElement("h3",{className:"text-lg font-semibold text-gray-500 mb-2"},""),ne?n.createElement("div",{className:"h-10 w-24 bg-gray-200 rounded animate-pulse"}):n.createElement("p",{className:"text-4xl font-bold text-indigo-600"},_e),n.createElement("p",{className:"text-gray-500 mt-1"},"")),n.createElement("div",{className:"bg-white p-6 rounded-xl shadow-md flex flex-col items-center"},n.createElement("h3",{className:"text-lg font-semibold text-gray-500 mb-2"}," (x)"),ne?n.createElement("div",{className:"h-10 w-24 bg-gray-200 rounded animate-pulse"}):n.createElement("p",{className:"text-4xl font-bold text-teal-600"},te?ve.toFixed(2):"N/A"),n.createElement("p",{className:"text-gray-500 mt-1"})),n.createElement("div",{className:"bg-white p-6 rounded-xl shadow-md flex flex-col items-center"},n.createElement("h3",{className:"text-lg font-semibold text-gray-500 mb-2"},""),ne?n.createElement("div",{className:"h-10 w-24 bg-gray-200 rounded animate-pulse"}):n.createElement("p",{className:"text-4xl font-bold text-amber-600"},ce.length),n.createElement("p",{className:"text-gray-500 mt-1"},"")))),n.createElement("div",{className:"bg-white p-6 rounded-xl shadow-md mt-8"},n.createElement("div",{className:"flex flex-wrap justify-between items-center mb-4 gap-4"},n.createElement("h2",{className:"text-xl font-bold text-gray-800"},""),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("label",{htmlFor:"sort-by",className:"text-sm font-medium text-gray-700"},":"),n.createElement("select",{id:"sort-by",value:M,onChange:W=>j(W.target.value),className:"block w-auto text-sm border-gray-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"},n.createElement("option",{value:"start_date"},""),n.createElement("option",{value:"class_id"},"Class ID"),n.createElement("option",{value:"title"},"")),n.createElement("button",{onClick:()=>re(se==="asc"?"desc":"asc"),className:"p-2 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors",title:""},se==="asc"?"":""))),n.createElement("div",{className:"space-y-2"},ne?Array.from({length:3}).map((W,ue)=>n.createElement("div",{key:ue,className:"bg-gray-50 p-4 rounded-lg animate-pulse"},n.createElement("div",{className:"h-6 w-3/4 bg-gray-200 rounded mb-2"}),n.createElement("div",{className:"h-4 w-1/2 bg-gray-200 rounded"}))):ce.length>0?ce.map(W=>n.createElement("div",{key:W.class_id,className:"border-gray-200 rounded-lg shadow overflow-hidden mb-2"},n.createElement("div",{className:"bg-gray-50 p-4 cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>ge(W.class_id)},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("div",null,n.createElement("h3",{className:"text-lg font-bold text-purple-800"},n.createElement("span",{className:"text-red-500 pr-1"},W.class_id)," ",W.title),n.createElement("p",{className:"text-sm text-gray-600 mt-1"},""," ",new Date(W.start_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}))),n.createElement("span",{className:`transform transition-transform duration-300 ${U.includes(W.class_id)?"rotate-180":""}`},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}))))),U.includes(W.class_id)&&n.createElement("div",{className:"p-4 border-t border-gray-200 bg-white"},(()=>{const{demographics:ue,avgScores:Ee,totalEvaluations:Me}=$(W);return Object.keys(ue).length>0||Me>0?n.createElement("div",{className:"flex flex-col lg:flex-row lg:justify-around gap-4"},n.createElement("div",{className:"flex flex-col gap-y-2 relative h-80 w-full lg:w-1/2 min-w-[300px]"},n.createElement("span",{className:"text-lg font-semibold"}," "," ",Object.values(ue).reduce((ke,at)=>ke+at,0)," ",""),n.createElement(zd,{demographics:ue})),n.createElement("div",{className:"flex flex-col h-auto w-full lg:w-1/2 min-w-[300px]"},Me>0?n.createElement(n.Fragment,null,n.createElement("div",{className:"mb-2"},n.createElement("span",{className:"text-lg font-semibold text-teal-600"}," (x) = ",Ye(Ee))),n.createElement("div",{className:"h-80 relative"},n.createElement(Rd,{data:Ee}))):n.createElement("div",{className:"flex items-center justify-center h-80 border-2 border-dashed border-gray-300 rounded-lg text-gray-500"},n.createElement("p",null,"")))):n.createElement("p",{className:"text-gray-500 text-center py-4"},"")})()))):n.createElement("p",{className:"text-center text-gray-500 py-8"},"")))))},jy=({isOpen:c,onClose:u,files:m,classTitle:i})=>c?n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center"},n.createElement("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-lg"},n.createElement("h2",{className:"text-2xl font-bold mb-4 text-center"}," ",n.createElement("br",null),'"',i,'"'),n.createElement("ul",{className:"list-disc pl-5 mb-4"},m.map((f,g)=>n.createElement("li",{key:g,className:"text-gray-700"},n.createElement("a",{href:`https://library.ams.cmu.ac.th/amslibclass/uploads/materials/${f}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 hover:underline"},f)))),n.createElement("div",{className:"flex justify-end"},n.createElement("button",{onClick:u,className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},"")))):null,By=({isOpen:c,onClose:u,classToEvaluate:m,onSubmitSuccess:i})=>{const{user:f,authFetch:g}=nt(),[v,b]=d.useState({score_content:0,score_material:0,score_duration:0,score_format:0,score_speaker:0}),[y,h]=d.useState(""),[w,S]=d.useState(""),[T,A]=d.useState(!1),D={score_content:"",score_material:"",score_duration:"",score_format:"",score_speaker:""};d.useEffect(()=>{c&&(b({score_content:0,score_material:0,score_duration:0,score_format:0,score_speaker:0}),h(""),S(""),A(!1))},[c]);const B=(z,q)=>{b(k=>({...k,[z]:q}))},G=async z=>{if(z.preventDefault(),S(""),Object.keys(v).filter(k=>v[k]===0).length>0){S("");return}A(!0);try{const k=await g("https://library.ams.cmu.ac.th/amslibclass/api/evaluations",{method:"POST",body:{...v,comment:y,class_id:m.class_id}});if(!k.ok){const ae=await k.json();throw new Error(ae.error||"Failed to submit evaluation.")}i(),u()}catch(k){S(k.message)}finally{A(!1)}};return c?n.createElement("div",{className:"fixed inset-0 bg-white/85 z-50 flex justify-center items-center"},n.createElement("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},n.createElement("div",{className:"flex justify-between items-center"}),n.createElement("h2",{className:"text-2xl font-bold text-gray-800 text-center w-full"},""),n.createElement("p",{className:"text-2xl font-semibold text-purple-700 mb-4 text-center mb-2"},m.title),n.createElement("form",{onSubmit:G},n.createElement("div",{className:"space-y-2"},Object.entries(D).map(([z,q])=>n.createElement("div",{key:z,className:"flex items-end justify-between py-3 border-b last:border-b-0"},n.createElement("span",{className:"text-lg font-medium text-gray-800"},q),n.createElement("div",{className:"flex items-center space-x-3 sm:space-x-5"},[1,2,3,4,5].map(k=>n.createElement("div",{key:k,className:"flex flex-col items-center cursor-pointer",onClick:()=>B(z,k)},n.createElement("label",{htmlFor:`${z}-${k}`,className:"text-md text-gray-700 cursor-pointer"},k),n.createElement("input",{type:"radio",id:`${z}-${k}`,name:z,value:k,checked:v[z]===k,onChange:()=>B(z,k),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 cursor-pointer"}))))))),n.createElement("div",{className:"mt-8"},n.createElement("label",{htmlFor:"comment",className:"block text-lg font-medium text-gray-700 mb-2"},""),n.createElement("textarea",{id:"comment",rows:4,value:y,onChange:z=>h(z.target.value),placeholder:" ()",className:"p-4 mt-1 block w-full rounded-md border-gray-300 shadow focus:border-indigo-500 focus:ring-indigo-500 sm:text-md"})),w&&n.createElement("p",{className:"mt-4 text-sm text-red-600"},w),n.createElement("div",{className:"mt-8 flex justify-center"},n.createElement("button",{type:"button",onClick:u,className:"bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg mr-2 hover:bg-gray-300"},""),n.createElement("button",{type:"submit",disabled:T,className:"bg-blue-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-300"},T?"...":""))))):null},qy=()=>{const{user:c,authFetch:u}=nt(),[m,i]=d.useState([]),[f,g]=d.useState(new Set),[v,b]=d.useState(!0),[y,h]=d.useState(null),[w,S]=d.useState(!1),[T,A]=d.useState([]),[D,B]=d.useState(""),[G,z]=d.useState(!1),[q,k]=d.useState(null),ae=d.useCallback(async()=>{if(c)try{const re=await u("https://library.ams.cmu.ac.th/amslibclass/api/classes/registered/closed");if(!re.ok)throw new Error("Failed to fetch past classes.");const Y=(await re.json()).map(ne=>({...ne,speaker:I(ne.speaker),materials:ne.materials&&typeof ne.materials=="string"?JSON.parse(ne.materials):[]})).sort((ne,ye)=>new Date(ye.start_date)-new Date(ne.start_date));i(Y)}catch(re){h(re.message),console.error("Error fetching past classes:",re)}},[c,u]),ee=d.useCallback(async()=>{if(c)try{const re=await u("https://library.ams.cmu.ac.th/amslibclass/api/evaluations/user-status");if(!re.ok)throw new Error("Failed to fetch evaluation status.");const fe=await re.json();g(new Set(fe))}catch(re){console.error("Error fetching evaluation status:",re)}},[c,u]);d.useEffect(()=>{(async()=>{c&&(b(!0),await Promise.all([ae(),ee()]),b(!1))})()},[c,ae,ee]);const I=re=>{if(!re)return"N/A";try{const fe=JSON.parse(re);return Array.isArray(fe)?fe.join(", "):re}catch{return re}},Q=(re,fe)=>{A(re),B(fe),S(!0)},M=re=>{k(re),z(!0)},le=()=>{z(!1),k(null)},se=()=>{ee()};return n.createElement(n.Fragment,null,n.createElement("div",{className:"w-screen flex"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 min-h-screen"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-gray-800 text-center"},""),v&&n.createElement("p",null,"..."),y&&n.createElement("p",{className:"text-red-500"},": ",y),!v&&!y&&n.createElement(n.Fragment,null,m.length>0?n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"},m.map(re=>n.createElement("div",{key:re.class_id,className:"bg-white rounded-xl shadow-lg flex flex-col hover:shadow-xl transition-shadow duration-300 overflow-hidden"},n.createElement("div",{className:"p-6 flex-grow flex flex-col"},n.createElement("h2",{className:"text-xl font-bold text-purple-800 mb-2"},re.title),n.createElement("p",{className:"text-xs text-gray-400 mb-4"},"ID: ",re.class_id),n.createElement("div",{className:"space-y-3 text-gray-700 text-sm mb-4 flex-grow"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",re.speaker)),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})),n.createElement("span",null,n.createElement("strong",null,":")," ",new Date(re.start_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})))),n.createElement("div",{className:"border-t border-gray-200 pt-4 mt-auto"},n.createElement("div",{className:"flex justify-end items-center space-x-2"},f.has(re.class_id)?n.createElement("div",{className:"flex items-center gap-1 text-green-600 text-sm font-semibold py-2 px-3"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})),n.createElement("span",null,"")):n.createElement("button",{title:"",className:"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white text-sm font-semibold py-2 px-3 rounded-md transition-colors focus:outline-none",onClick:()=>M(re)},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),n.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"})),n.createElement("span",null,"")),n.createElement("button",{title:"",disabled:!re.materials||re.materials.length===0,className:"text-green-600 hover:text-green-800 p-2 rounded-full disabled:text-gray-300 disabled:cursor-not-allowed transition-colors focus:outline-none",onClick:()=>Q(re.materials,re.title)},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"}))),n.createElement("button",{title:"",disabled:!re.video_link,className:"text-purple-600 hover:text-purple-800 p-2 rounded-full disabled:text-gray-300 disabled:cursor-not-allowed transition-colors focus:outline-none",onClick:()=>window.open(re.video_link,"_blank")},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9A2.25 2.25 0 0013.5 5.25h-9A2.25 2.25 0 002.25 7.5v9A2.25 2.25 0 004.5 18.75z"}))))))))):n.createElement("div",{className:"text-center py-10 px-6 bg-white rounded-lg shadow-md"},n.createElement("h3",{className:"text-xl font-semibold text-gray-700"},""),n.createElement("p",{className:"text-gray-500 mt-2"},""))))),n.createElement(jy,{isOpen:w,onClose:()=>S(!1),files:T,classTitle:D}),q&&n.createElement(By,{isOpen:G,onClose:le,classToEvaluate:q,onSubmitSuccess:se}))},Vy=({status:c})=>{let u,m;switch(c){case"pending":u="",m="bg-yellow-100 text-yellow-800";break;case"approved":u="",m="bg-green-100 text-green-800";break;case"rejected":u="",m="bg-red-100 text-red-800";break;default:u=c,m="bg-gray-100 text-gray-800"}return n.createElement("span",{className:`text-xs font-medium me-2 px-2.5 py-0.5 rounded-full ${m}`},u)},Yy=()=>{const{user:c,authFetch:u}=nt(),[m,i]=d.useState(""),[f,g]=d.useState(""),[v,b]=d.useState(""),[y,h]=d.useState(""),[w,S]=d.useState(""),[T,A]=d.useState(""),[D,B]=d.useState("ONLINE"),[G,z]=d.useState(""),[q,k]=d.useState([]),[ae,ee]=d.useState(!0),[I,Q]=d.useState(!1),[M,le]=d.useState(null),[se,re]=d.useState([]),[fe,Y]=d.useState(""),ne=d.useRef(null),ye=d.useRef(null),U=d.useRef(null),_=d.useRef(null),F=()=>new Date().toISOString().split("T")[0],ie=()=>{const te=new Date;return`${te.getHours().toString().padStart(2,"0")}:${te.getMinutes().toString().padStart(2,"0")}`};d.useEffect(()=>{(async()=>{try{const ve=await u("https://library.ams.cmu.ac.th/amslibclass/api/classes/unique-titles");if(ve.ok){const Ye=await ve.json();re(Ye)}}catch(ve){console.error("Error fetching class titles:",ve)}})()},[u]);const Z=async()=>{if(!c||!c.email){k([]),ee(!1);return}ee(!0);try{const te=await u("https://library.ams.cmu.ac.th/amslibclass/api/requests");if(!te.ok)throw new Error("Failed to fetch class requests.");const ve=await te.json();k(ve)}catch(te){console.error("Error fetching class requests:",te),alert("")}finally{ee(!1)}};d.useEffect(()=>{c&&Z()},[c]);const E=()=>{i(""),g(""),b(""),h(""),S(""),A(""),B("ONLINE"),z(""),Q(!1),Y(""),le(null)},R=async te=>{te.preventDefault();const ve={title:m,reason:f,startDate:v,endDate:y,startTime:w,endTime:T,format:D,speaker:G};if(m==="other"){if(!fe.trim()){alert(" ''");return}ve.title=fe}const Ye=!!M,$=Ye?`https://library.ams.cmu.ac.th/amslibclass/api/requests/${M}`:"https://library.ams.cmu.ac.th/amslibclass/api/requests",xe=Ye?"PUT":"POST";try{const ge=await u($,{method:xe,body:ve});if(!ge.ok){const Ne=await ge.json();throw new Error(Ne.message||`Failed to ${Ye?"update":"submit"} class request.`)}alert(Ye?"":" "),E(),Z()}catch(ge){console.error("Error submitting class request:",ge),alert(`: ${ge.message}`)}},P=async te=>{if(window.confirm("?"))try{const ve=await u(`https://library.ams.cmu.ac.th/amslibclass/api/requests/${te}`,{method:"DELETE"});if(!ve.ok){const Ye=await ve.json();throw new Error(Ye.message||"Failed to delete class request.")}alert(""),Z(),E()}catch(ve){console.error("Error deleting class request:",ve),alert(`: ${ve.message}`)}},j=te=>{const ve=Ye=>{if(!Ye)return"";try{return new Date(Ye).toISOString().split("T")[0]}catch{return""}};se.includes(te.title)?(i(te.title||""),Y("")):(i("other"),Y(te.title||"")),g(te.reason||""),b(ve(te.start_date)),h(ve(te.end_date)),S(te.start_time||""),A(te.end_time||""),B(te.format||"ONLINE"),z(te.speaker||""),Q(!0)},ce=te=>{const ve=Ye=>{if(!Ye)return"";try{return new Date(Ye).toISOString().split("T")[0]}catch{return""}};se.includes(te.title)?(i(te.title||""),Y("")):(i("other"),Y(te.title||"")),g(te.reason||""),b(ve(te.start_date)),h(ve(te.end_date)),S(te.start_time||""),A(te.end_time||""),B(te.format||"ONLINE"),z(te.suggested_speaker||""),le(te.request_id),Q(!1)},de=te=>{const ve=te.target.value;b(ve),ve>y&&h(ve)},_e=te=>{const ve=te.target.value;if(v===F()&&ve<ie()){alert("");return}if(S(ve),ve){const[Ye,$]=ve.split(":").map(Number),xe=new Date;xe.setHours(Ye+1,$,0);const ge=xe.getHours().toString().padStart(2,"0"),Ne=xe.getMinutes().toString().padStart(2,"0");A(`${ge}:${Ne}`),y<v&&h(v)}},Xe=te=>{const ve=te.target.value;if(v===y&&w&&ve<w){alert("");return}A(ve)};return n.createElement("div",{className:"flex h-screen w-screen"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 overflow-y-auto"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 text-center mb-6"},""),n.createElement("div",{className:"flex flex-col lg:flex-row gap-8"},n.createElement("div",{className:"w-full lg:w-1/2 bg-white p-6 rounded-xl shadow-lg"},n.createElement("form",{onSubmit:R,className:"space-y-6"},n.createElement("div",null,n.createElement("label",{htmlFor:"topic",className:"block text-sm font-medium text-gray-700"}," ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{id:"topic",value:m,onChange:te=>i(te.target.value),required:!0,disabled:I,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md disabled:bg-gray-100"},n.createElement("option",{value:""},"--  --"),se.map((te,ve)=>n.createElement("option",{key:ve,value:te},te)),n.createElement("option",{value:"other"}," ()"))),m==="other"&&n.createElement("div",null,n.createElement("label",{htmlFor:"other-topic",className:"block text-sm font-medium text-gray-700"}," ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",id:"other-topic",value:fe,onChange:te=>Y(te.target.value),required:!0,disabled:I,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100",placeholder:"  SPSS"})),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},n.createElement("div",null,n.createElement("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700"}," ( ..)"," ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("div",{className:"relative mt-1"},n.createElement("input",{type:"date",id:"start-date",ref:ne,value:v,required:!0,min:F(),onClick:()=>ne.current?.showPicker?.(),onChange:de,disabled:I,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100"}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))))),n.createElement("div",null,n.createElement("label",{htmlFor:"start-time",className:"block text-sm font-medium text-gray-700"},"",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("div",{className:"relative mt-1"},n.createElement("input",{type:"time",id:"start-time",ref:ye,value:w,required:!0,onClick:()=>ye.current?.showPicker?.(),onChange:_e,min:v===F()?ie():void 0,onKeyDown:te=>te.preventDefault(),disabled:I,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100"}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}))))),n.createElement("div",null,n.createElement("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700"}," ( ..)",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("div",{className:"relative mt-1"},n.createElement("input",{type:"date",id:"end-date",ref:U,value:y,required:!0,min:v,onKeyDown:te=>te.preventDefault(),onClick:()=>U.current?.showPicker?.(),onChange:te=>h(te.target.value),disabled:I||!v,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100"}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))))),n.createElement("div",null,n.createElement("label",{htmlFor:"end-time",className:"block text-sm font-medium text-gray-700"}," ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("div",{className:"relative mt-1"},n.createElement("input",{type:"time",id:"end-time",ref:_,value:T,required:!0,min:v===y?w:void 0,onClick:()=>_.current?.showPicker?.(),onChange:Xe,disabled:I||!w,className:"block w-full px-3 py-2 pr-10 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100"}),n.createElement("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},n.createElement("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})))))),n.createElement("div",null,n.createElement("label",{htmlFor:"format",className:"block text-sm font-medium text-gray-700"}," ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{id:"format",value:D,onChange:te=>B(te.target.value),required:!0,disabled:I,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100"},n.createElement("option",{value:"ONLINE"},"ONLINE"),n.createElement("option",{value:"ONSITE"},"ONSITE"))),n.createElement("div",null,n.createElement("label",{htmlFor:"speaker",className:"block text-sm font-medium text-gray-700"}," ()"),n.createElement("input",{type:"text",id:"speaker",value:G,onChange:te=>z(te.target.value),disabled:I,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100"})),n.createElement("div",null,n.createElement("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700"},""),n.createElement("textarea",{id:"reason",rows:"4",value:f,onChange:te=>g(te.target.value),disabled:I,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100"})),n.createElement("div",{className:"pt-2 flex flex-col gap-2"},I?n.createElement("button",{type:"button",onClick:E,className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-gray-500 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},""):n.createElement(n.Fragment,null,M&&n.createElement("button",{type:"button",onClick:E,className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-gray-800 bg-gray-200 hover:bg-gray-300 focus:outline-none"},""),n.createElement("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"},M?"":""))))),n.createElement("div",{className:"w-full lg:w-1/2"},n.createElement("div",{className:"p-4 rounded-lg shadow-md bg-gray-50 mb-4"},n.createElement("h2",{className:"text-xl font-bold text-gray-800 text-center"},"")),ae?n.createElement("p",{className:"text-center"},"..."):q.length===0?n.createElement("div",{className:"text-center py-10 px-6 bg-white rounded-lg shadow-md"},n.createElement("h3",{className:"text-lg font-semibold text-gray-700"},""),n.createElement("p",{className:"text-gray-500 mt-2"},"")):n.createElement("div",{className:"space-y-4"},q.map(te=>n.createElement("div",{key:te.request_id,className:"p-4 rounded-lg shadow-md bg-white border border-gray-200"},n.createElement("div",{className:"flex justify-between items-start mb-2"},n.createElement("h3",{className:"text-lg font-semibold text-purple-700"},te.title),n.createElement(Vy,{status:te.status})),n.createElement("p",{className:"text-xs text-gray-500 mb-2"},""," ",new Date(te.updated_at).toLocaleString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})," ."),te.status==="rejected"&&te.admin_comment&&n.createElement("div",{className:"mt-2 p-3 bg-red-50 border border-red-100 rounded-md text-sm text-red-700"},n.createElement("span",{className:"font-bold"},":")," ",te.admin_comment),n.createElement("div",{className:"flex justify-end items-center gap-2 mt-3 pt-3 border-t border-gray-200"},n.createElement("button",{onClick:()=>j(te),className:"text-blue-500 hover:text-blue-700 p-1 rounded-full transition-colors",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))),te.status==="pending"&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>ce(te),className:"text-black hover:text-yellow-800 p-1 rounded-full transition-colors",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),n.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))),n.createElement("button",{onClick:()=>P(te.request_id),className:"text-red-500 hover:text-red-700 p-1 rounded-full transition-colors",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"}))))))))))))},ou=({isOpen:c,onClose:u,user:m})=>{const[i,f]=d.useState([]),[g,v]=d.useState(!1),{authFetch:b}=nt();return d.useEffect(()=>{c&&m&&(async()=>{v(!0);try{const h=await b(`https://library.ams.cmu.ac.th/amslibclass/api/classes/registered/closed?email=${encodeURIComponent(m.email)}`);if(!h.ok)throw new Error("Failed to fetch attended classes.");const S=(await h.json()).sort((T,A)=>new Date(A.start_date)-new Date(T.start_date)).slice(0,5);f(S)}catch(h){console.error("Error fetching attended classes:",h),f([])}finally{v(!1)}})()},[c,m,b]),!c||!m?null:n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col"},n.createElement("div",{className:"p-6 overflow-y-auto"},n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 lg:gap-x-10 gap-y-6 mb-6"},n.createElement("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-6"},n.createElement("img",{src:m.photo?`https://library.ams.cmu.ac.th/amslibclass/api/users/photo/${m.photo}`:Pi,alt:"Profile",className:"w-24 h-24 object-cover rounded-full border-4 border-gray-200 flex-shrink-0"}),n.createElement("div",{className:"text-center sm:text-left"},n.createElement("p",{className:"text-md font-bold text-blue-600"},m.name),n.createElement("p",{className:"text-md text-gray-600"},m.email),n.createElement("p",{className:"text-md text-gray-500 mt-1"},m.roles.join(", ")),n.createElement("span",{className:`px-2 mt-2 inline-flex text-xs leading-5 font-semibold rounded-full ${m.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`},m.is_active?"":""))),n.createElement("div",{className:"lg:pl-8"},n.createElement("dl",{className:"divide-y divide-gray-200"},n.createElement("div",{className:"py-1 sm:grid sm:grid-cols-3 sm:gap-4"},n.createElement("dt",{className:"text-sm font-medium text-gray-500"},""),n.createElement("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},m.phone||"-")),n.createElement("div",{className:"py-1 sm:grid sm:grid-cols-3 sm:gap-4"},n.createElement("dt",{className:"text-sm font-medium text-gray-500"},"PDPA"),n.createElement("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},m.pdpa===1?"":"")),n.createElement("div",{className:"py-1 sm:grid sm:grid-cols-3 sm:gap-4"},n.createElement("dt",{className:"text-sm font-medium text-gray-500"},""),n.createElement("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},m.created_at?new Date(m.created_at).toLocaleString("th-TH"):"-")),n.createElement("div",{className:"py-1 sm:grid sm:grid-cols-3 sm:gap-4"},n.createElement("dt",{className:"text-sm font-medium text-gray-500"},""),n.createElement("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},m.updated_at?new Date(m.updated_at).toLocaleString("th-TH"):"-"))))),n.createElement("div",{className:"mt-6 pt-6"},n.createElement("h3",{className:"text-xl font-semibold text-gray-800 mb-3"}," ( 5 )"),g?n.createElement("p",null,"..."):i.length>0?n.createElement("ul",{className:"space-y-3"},i.map(y=>n.createElement("li",{key:y.class_id,className:"bg-gray-50 p-3 rounded-md shadow-sm"},n.createElement("p",{className:"font-semibold"},n.createElement("span",{className:"text-red-500 font-bold"},y.class_id)," ",n.createElement("span",{className:"text-purple-800 pl-1"},y.title)),n.createElement("p",{className:"text-sm text-gray-500"},":"," ",new Date(y.start_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}))))):n.createElement("p",{className:"text-gray-500 italic"},""))),n.createElement("div",{className:"p-4 bg-gray-50 rounded-b-lg flex justify-end"},n.createElement("button",{onClick:u,className:"bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition-colors"},""))))},mu=({message:c="..."})=>n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-[100]"},n.createElement("div",{className:"flex flex-col items-center bg-white p-8 rounded-lg shadow-xl"},n.createElement("div",{className:"w-12 h-12 border-4 border-purple-600 border-t-transparent rounded-full animate-spin"}),n.createElement("p",{className:"mt-4 text-lg font-semibold text-gray-700"},c))),eu=({status:c})=>{let u,m;switch(c){case"pending":u="",m="bg-orange-400";break;case"approved":u="",m="bg-green-600";break;case"rejected":u="",m="bg-red-600";break;default:u=c,m="bg-gray-500"}return n.createElement("span",{className:`font-bold uppercase text-sm text-white px-3 py-1 rounded-full ${m}`},u)},Gy=({request:c,onClose:u})=>{if(!c)return null;const m=(i,f)=>n.createElement("div",{className:"py-2 sm:grid sm:grid-cols-3 sm:gap-4"},n.createElement("dt",{className:"text-sm font-medium text-gray-500"},i),n.createElement("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},f||"-"));return n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex justify-between items-start"},n.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center w-full"},"")),n.createElement("dl",{className:"divide-y divide-gray-200"},m("",c.title),m("",n.createElement("p",{className:"whitespace-pre-wrap"},c.reason)),m("",`${c.requested_by_name} (${c.requested_by_email})`),m("",new Date(c.created_at).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})),m("",c.start_date?`${new Date(c.start_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})} - ${new Date(c.end_date).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})}`:"-"),m("",c.start_time?`${c.start_time.substring(0,5)} - ${c.end_time.substring(0,5)} .`:"-"),m("",c.format),m("",c.speaker),n.createElement("div",{className:"py-3 sm:grid sm:grid-cols-3 sm:gap-4"},n.createElement("dt",{className:"text-sm font-medium text-gray-500"},""),n.createElement("dd",{className:"mt-1 sm:mt-0 sm:col-span-2"},n.createElement(eu,{status:c.status}))))),n.createElement("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},n.createElement("button",{type:"button",onClick:u,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},""))))},Qy=({isOpen:c,onClose:u,reason:m})=>c?n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full"},n.createElement("div",{className:"p-6"},n.createElement("h3",{className:"text-lg font-bold text-gray-800 mb-4 text-center"},""),n.createElement("p",{className:"text-gray-600 whitespace-pre-wrap bg-gray-50 p-3 rounded-md"},m)),n.createElement("div",{className:"bg-gray-100 px-4 py-3 sm:px-6 flex flex-row-reverse rounded-b-lg"},n.createElement("button",{type:"button",onClick:u,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-gray-600 text-base font-medium text-white hover:bg-gray-800 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm"},"")))):null,Xy=({isOpen:c,onClose:u,onSubmit:m,reason:i,setReason:f,isSubmitting:g})=>{if(!c)return null;const v=b=>{if(b.preventDefault(),!i.trim()){alert("");return}m()};return n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full"},n.createElement("form",{onSubmit:v},n.createElement("div",{className:"p-6"},n.createElement("h3",{className:"text-lg font-bold text-black text-center mb-4"},""),n.createElement("textarea",{rows:"4",value:i,onChange:b=>f(b.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"...",required:!0})),n.createElement("div",{className:"bg-gray-100 px-4 py-3 sm:px-6 flex flex-row-reverse rounded-b-lg"},n.createElement("button",{type:"submit",disabled:g,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none sm:ml-3 sm:w-auto sm:text-sm disabled:bg-red-300"},g?"...":""),n.createElement("button",{type:"button",onClick:u,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:w-auto sm:text-sm"},"")))))},Zy=()=>{const{user:c,activeRole:u,isSwitchingRole:m,authFetch:i}=nt(),f=_t(),[g,v]=d.useState([]),[b,y]=d.useState(!0),[h,w]=d.useState(null),[S,T]=d.useState(null),[A,D]=d.useState("pending"),[B,G]=d.useState(!1),[z,q]=d.useState(null),[k,ae]=d.useState(""),[ee,I]=d.useState(!1),[Q,M]=d.useState(null),[le,se]=d.useState(!1),[re,fe]=d.useState(!1),[Y,ne]=d.useState(null),[ye,U]=d.useState(!1);d.useEffect(()=>{c&&u&&u!==""&&!m&&(alert(""),f("/"))},[c,u,f,m]),d.useEffect(()=>{_()},[]);const _=async()=>{y(!0),w(null);try{const j=await i("https://library.ams.cmu.ac.th/amslibclass/api/admin/class-requests");if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const ce=await j.json();v(ce)}catch(j){console.error("Error fetching class requests:",j),w("")}finally{y(!1)}},F=async(j,ce)=>{if(ce==="reject"){q(j),ae(""),G(!0);return}if(!(ce==="approve"&&!window.confirm(` "${g.find(de=>de.request_id===j)?.title}" ?`))){fe(!0);try{const de=await i(`https://library.ams.cmu.ac.th/amslibclass/api/admin/class-requests/${j}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",admin_email:c.email})});if(!de.ok)throw new Error(`HTTP error! status: ${de.status}`);await _(),alert("")}catch(de){console.error(`Error ${ce}ing class request:`,de),w(`${ce==="approve"?"":""}`)}finally{fe(!1)}}},ie=async()=>{I(!0),fe(!0);try{const j=await i(`https://library.ams.cmu.ac.th/amslibclass/api/admin/class-requests/${z}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",reason:k,admin_email:c.email})});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);await _(),alert("")}catch(j){console.error("Error rejecting class request:",j),w("")}finally{I(!1),G(!1),ae(""),q(null)}fe(!1)},Z=j=>{T(j)},E=j=>{M(j),se(!0)},R=async j=>{if(j)try{y(!0);const ce=await i(`https://library.ams.cmu.ac.th/amslibclass/api/users/${j}`);if(!ce.ok)throw new Error("");const de=await ce.json();ne(de),U(!0)}catch{alert("")}finally{y(!1)}},P=d.useMemo(()=>A==="all"?g:g.filter(j=>j.status===A),[g,A]);return b?n.createElement("div",{className:"flex h-screen w-screen"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 flex items-center justify-center"},n.createElement("p",{className:"text-md text-black"},"..."))):h?n.createElement("div",{className:"flex h-screen w-screen"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 flex items-center justify-center text-red-500"},n.createElement("p",{className:"text-md text-black"},h))):n.createElement("div",{className:"flex h-screen w-screen flex-col lg:flex-row"},re&&n.createElement(mu,null),n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 overflow-y-auto"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-gray-800 text-center"},""),n.createElement("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md"},n.createElement(Xy,{isOpen:B,onClose:()=>G(!1),onSubmit:ie,reason:k,setReason:ae,isSubmitting:ee}),n.createElement(Qy,{isOpen:le,onClose:()=>se(!1),reason:Q}),Y&&n.createElement(ou,{isOpen:ye,onClose:()=>U(!1),user:Y}),n.createElement("div",{className:"border-b border-gray-200 mb-6"},n.createElement("nav",{className:"-mb-px flex flex-wrap space-x-8 gap-y-4","aria-label":"Tabs"},n.createElement("button",{onClick:()=>D("all"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none ${A==="all"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},""),n.createElement("button",{onClick:()=>D("pending"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none ${A==="pending"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},""),n.createElement("button",{onClick:()=>D("approved"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none ${A==="approved"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},""),n.createElement("button",{onClick:()=>D("rejected"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none ${A==="rejected"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},""))),P.length===0?n.createElement("div",{className:"text-center py-10"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),n.createElement("p",{className:"text-center text-md text-gray-500 mt-4"},"")):n.createElement("div",{className:"overflow-x-auto hidden lg:block"},n.createElement("table",{className:"min-w-full divide-y divide-gray-200"},n.createElement("thead",{className:"bg-gray-50"},n.createElement("tr",null,n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""))),n.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},P.map(j=>n.createElement("tr",{key:j.request_id},n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-md text-black "},n.createElement("span",{onClick:()=>Z(j),className:"cursor-pointer hover:underline text-purple-700 font-semibold"},j.title)),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-md text-black"},n.createElement("span",{onClick:()=>R(j.requested_by_id),className:"cursor-pointer hover:underline text-blue-600"},j.requested_by_name)),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-md text-black"},new Date(j.created_at).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"})),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-md text-black align-top"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(eu,{status:j.status}),j.status==="rejected"&&j.rejection_reason&&n.createElement("button",{onClick:ce=>{ce.stopPropagation(),E(j.rejection_reason)},className:"text-blue-500 hover:text-blue-700 p-1 rounded-full transition-colors",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))))),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-md font-medium"},j.status==="pending"&&n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("span",{onClick:()=>F(j.request_id,"approve"),className:"text-green-600 hover:text-green-800 cursor-pointer",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))),n.createElement("span",{onClick:()=>F(j.request_id,"reject"),className:"text-red-600 hover:text-red-800 cursor-pointer",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})))),j.status!=="pending"&&n.createElement("div",{className:"text-xs text-gray-500"},j.action_by_name?n.createElement("p",null,": ",n.createElement("span",{onClick:()=>R(j.action_by_id),className:"cursor-pointer hover:underline text-blue-600"},j.action_by_name)):n.createElement("p",null,": N/A")))))))),P.length>0&&n.createElement("div",{className:"block lg:hidden space-y-4"},P.map(j=>n.createElement("div",{key:j.request_id,className:"border border-gray-200 rounded-lg p-4 shadow"},n.createElement("div",{className:"flex justify-between items-start mb-2"},n.createElement("h3",{onClick:()=>Z(j),className:"font-semibold text-lg text-purple-800 break-words pr-2 cursor-pointer hover:underline"},j.title),n.createElement("div",{className:"flex flex-col items-end gap-1 flex-shrink-0"},n.createElement(eu,{status:j.status}),j.status==="rejected"&&j.rejection_reason&&n.createElement("button",{onClick:ce=>{ce.stopPropagation(),E(j.rejection_reason)},className:"text-blue-500 hover:text-blue-700 p-1 rounded-full transition-colors",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))))),n.createElement("div",{className:"text-sm text-gray-600 space-y-1"},n.createElement("p",null,n.createElement("strong",null,":")," ",j.requested_by_name),n.createElement("p",null,n.createElement("strong",null,":")," ",j.requested_by_email),n.createElement("p",null,n.createElement("strong",null,":")," ",new Date(j.created_at).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}))),j.status==="pending"&&n.createElement("div",{className:"flex items-center justify-end space-x-4 mt-4 pt-4 border-t"},n.createElement("button",{onClick:()=>F(j.request_id,"approve"),className:"flex items-center gap-1 bg-green-500 text-white font-semibold py-2 px-3 rounded-md hover:bg-green-600 transition-colors",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})),n.createElement("span",null,"")),n.createElement("button",{onClick:()=>F(j.request_id,"reject"),className:"flex items-center gap-1 bg-red-500 text-white font-semibold py-2 px-3 rounded-md hover:bg-red-600 transition-colors",title:""},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})),n.createElement("span",null,""))),j.status!=="pending"&&n.createElement("div",{className:"text-right mt-4 pt-4 border-t"},j.action_by_name?n.createElement("p",{className:"text-sm text-gray-500 italic"},": ",n.createElement("span",{onClick:()=>R(j.action_by_id),className:"cursor-pointer hover:underline text-blue-600 not-italic"},j.action_by_name)):n.createElement("p",{className:"text-sm text-gray-500 italic"},": N/A")))))),n.createElement(Gy,{request:S,onClose:()=>T(null)})))},$y=({isOpen:c,onClose:u,onSuccess:m})=>{const{authFetch:i}=nt(),[f,g]=d.useState(""),v={1:"     ",2:" ''  ",3:" "},[b,y]=d.useState([]),[h,w]=d.useState(null),[S,T]=d.useState(1),[A,D]=d.useState(!1),[B,G]=d.useState(!1),[z,q]=d.useState(!1),k=d.useCallback(async Q=>{if(!Q){G(!1),y([]);return}const M=Q.includes("@"),le=Q.includes(" ");if(!M&&!le){G(!1),y([]);return}D(!0);try{const se=await i(`https://library.ams.cmu.ac.th/amslibclass/api/users/search?q=${Q}`);if(G(!0),!se.ok)throw new Error("Search failed");const re=await se.json();y(re)}catch(se){console.error("Error searching users:",se)}finally{D(!1)}},[i]),ae=Q=>{w(Q),g(""),y([])},ee=async Q=>{if(Q.preventDefault(),!h){alert("");return}q(!0);try{const M=await i("https://library.ams.cmu.ac.th/amslibclass/api/users/admins/appoint",{method:"POST",body:{user_id:h.id,admin_level:S}});if(!M.ok){const le=await M.json();throw new Error(le.message||"Failed to appoint admin")}alert(""),m(),I()}catch(M){console.error("Error appointing admin:",M),alert(`: ${M.message}`)}finally{q(!1)}},I=()=>{g(""),y([]),w(null),T(1),u()};return c?n.createElement("div",{className:"fixed inset-0 bg-white/85 flex justify-center items-center z-50 p-4"},z&&n.createElement(mu,{message:"..."}),n.createElement("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg"},n.createElement("form",{onSubmit:ee},n.createElement("div",{className:"p-6"},n.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center"},""),n.createElement("div",{className:"space-y-4"},n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"}," (  )"),h?n.createElement("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-100 rounded-md"},n.createElement("span",null,h.name," (",h.email,")"),n.createElement("button",{type:"button",onClick:()=>w(null),className:"text-red-500 font-bold"},"X")):n.createElement("div",{className:"relative"},n.createElement("input",{type:"text",value:f,onChange:Q=>{g(Q.target.value),k(Q.target.value)},className:"w-full border px-4 py-2 rounded",placeholder:"..."}),B&&!A&&b.length===0&&n.createElement("div",{className:"absolute z-10 w-full bg-white border mt-1 rounded-md shadow-lg"},n.createElement("p",{className:"px-4 py-2 text-gray-500"},"")),b.length>0&&!A&&n.createElement("ul",{className:"absolute z-10 w-full bg-white border mt-1 rounded-md shadow-lg max-h-60 overflow-auto"},b.map(Q=>n.createElement("li",{key:Q.id,onClick:()=>!Q.is_admin&&ae(Q),className:`px-4 py-2 ${Q.is_admin?"bg-gray-200 text-gray-500 cursor-not-allowed":"hover:bg-gray-100 cursor-pointer"}`},Q.name," (",Q.email,")",Q.is_admin&&n.createElement("span",{className:"text-xs text-red-600 ml-2"},"()")))),A&&n.createElement("div",{className:"absolute z-10 w-full bg-white border mt-1 rounded-md shadow-lg"},n.createElement("p",{className:"px-4 py-2 text-gray-500"},"...")))),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("select",{value:S,onChange:Q=>T(parseInt(Q.target.value)),className:"w-full border px-4 py-2 rounded bg-white disabled:bg-gray-200 disabled:cursor-not-allowed",disabled:!h},n.createElement("option",{value:1},""),n.createElement("option",{value:2},""),n.createElement("option",{value:3},"")),h&&n.createElement("p",{className:"text-sm text-gray-600 mt-2 px-1"},v[S])))),n.createElement("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-4"},n.createElement("button",{type:"button",onClick:I,className:"px-6 py-2 rounded bg-gray-300 hover:bg-gray-400"},""),n.createElement("button",{type:"submit",disabled:!h||z,className:"px-6 py-2 rounded bg-purple-600 text-white hover:bg-purple-700 disabled:bg-gray-400"},""))))):null},vs={1:"",2:"",3:""},Ky=()=>{const{user:c,authFetch:u,logout:m}=nt();_t();const[i,f]=d.useState("permissions"),[g,v]=d.useState(!0),[b,y]=d.useState(!1),[h,w]=d.useState([]),[S,T]=d.useState(!1),[A,D]=d.useState([]),[B,G]=d.useState(""),[z,q]=d.useState({key:"name",direction:"ascending"}),[k,ae]=d.useState(null),[ee,I]=d.useState(!1),[Q,M]=d.useState(!1),le=d.useCallback(async()=>{v(!0);try{const Z=await u("https://library.ams.cmu.ac.th/amslibclass/api/users/admins");if(!Z.ok)throw new Error("Failed to fetch admins");const R=(await Z.json()).sort((P,j)=>P.user_id===c.id?-1:j.user_id===c.id?1:P.admin_level>j.admin_level?-1:P.admin_level<j.admin_level?1:P.name.localeCompare(j.name));w(R)}catch(Z){console.error("Error fetching admins:",Z),alert("")}finally{v(!1)}},[u,c]),se=d.useCallback(async Z=>{if(!Z){M(!1),D([]);return}const E=Z.includes("@"),R=Z.includes(" ");if(!E&&!R){M(!1),D([]);return}v(!0);try{const P=await u(`https://library.ams.cmu.ac.th/amslibclass/api/users?search=${Z.trim()}`);if(!P.ok)throw new Error("");const j=await P.json();D(j),M(!0)}catch(P){console.error("Error fetching all users:",P),alert("")}finally{v(!1)}},[u]);d.useEffect(()=>{i==="permissions"?le():(D([]),G(""),M(!1),v(!1))},[i,le]);const re=()=>{T(!1),le()},fe=async(Z,E)=>{if(window.confirm(` "${vs[E]}" ?`)){y(!0);try{const R=await u(`https://library.ams.cmu.ac.th/amslibclass/api/users/admins/${Z}/level`,{method:"PUT",body:{admin_level:E}});if(!R.ok){const P=await R.json();throw new Error(P.message||"Failed to update level")}alert(""),le()}catch(R){console.error("Error changing admin level:",R),alert(`: ${R.message}`)}finally{y(!1)}}},Y=async(Z,E)=>{if(window.confirm(` "${E}" ? `)){y(!0);try{const R=await u(`https://library.ams.cmu.ac.th/amslibclass/api/users/admins/${Z}`,{method:"DELETE"});if(!R.ok){const P=await R.json();throw new Error(P.message||"Failed to remove admin")}alert(""),le()}catch(R){console.error("Error removing admin:",R),alert(`: ${R.message}`)}finally{y(!1)}}},ne=async Z=>{if(Z){y(!0);try{const E=await u(`https://library.ams.cmu.ac.th/amslibclass/api/users/${Z}`);if(!E.ok)throw new Error("");const R=await E.json();ae(R),I(!0)}catch(E){alert(": "+E.message)}finally{y(!1)}}},ye=async Z=>{if(Z.id===c.id){alert("");return}const E=!Z.is_active,R=E?"":"";if(window.confirm(`${R} ${Z.name} ?`)){y(!0);try{if(!(await u(`https://library.ams.cmu.ac.th/amslibclass/api/users/${Z.id}/status`,{method:"PUT",body:{is_active:E}})).ok)throw new Error("Failed to update user status.");D(j=>j.map(ce=>ce.id===Z.id?{...ce,is_active:E}:ce)),alert("!")}catch{alert("")}finally{y(!1)}}},U=async Z=>{if(Z.id===c.id){alert("");return}if(window.confirm(` ${Z.name} ? `)){y(!0);try{if(!(await u(`https://library.ams.cmu.ac.th/amslibclass/api/users/${Z.id}`,{method:"DELETE"})).ok)throw new Error("Failed to delete user.");D(R=>R.filter(P=>P.id!==Z.id)),alert("")}catch{alert("")}finally{y(!1)}}},_=Z=>{ae(Z),I(!0)},F=d.useMemo(()=>{let Z=[...A];return z.key!==null&&Z.sort((E,R)=>{const P=E[z.key],j=R[z.key];return z.direction==="ascending"?String(P).localeCompare(String(j),"th"):String(j).localeCompare(String(P),"th")}),Z},[A,z]),ie=({columnKey:Z,title:E,className:R=""})=>{const j=z.key===Z?z.direction==="ascending"?"":"":"";return n.createElement("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:bg-gray-100 focus:outline-none ${R}`,onClick:()=>{let ce="ascending";z.key===Z&&z.direction==="ascending"&&(ce="descending"),q({key:Z,direction:ce})}},E," ",j)};return n.createElement("div",{className:"flex h-screen w-screen"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 pt-20 lg:pt-8 px-4 sm:px-6 lg:px-8 bg-gray-100 overflow-y-auto"},b&&n.createElement(mu,{message:"..."}),ee&&k&&n.createElement(ou,{isOpen:ee,onClose:()=>I(!1),user:k}),n.createElement("div",{className:"max-w-7xl mx-auto"},n.createElement("div",{className:"relative mb-6 md:mb-8"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 text-center py-2"},"")),n.createElement("div",{className:"border-b border-gray-200"},n.createElement("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs"},n.createElement("button",{onClick:()=>f("permissions"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none ${i==="permissions"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},""),n.createElement("button",{onClick:()=>f("users"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none ${i==="users"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},""))),n.createElement("div",{className:"mt-8"},g?n.createElement("p",{className:"text-center text-gray-500"},"..."):i==="permissions"?n.createElement("div",null,n.createElement("div",{className:"text-right mb-4"},n.createElement("button",{onClick:()=>T(!0),className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg shadow hover:bg-purple-700 transition-colors focus:outline-none"},"+ ")),n.createElement("div",{className:"bg-white shadow-md rounded-lg overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"min-w-full divide-y divide-gray-200"},n.createElement("thead",{className:"bg-gray-100"},n.createElement("tr",null,n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"-"),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},""))),n.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},h.map(Z=>n.createElement("tr",{key:Z.user_id},n.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},n.createElement("span",{onClick:()=>ne(Z.user_id),className:"cursor-pointer hover:underline text-blue-600 font-medium"},Z.name)),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},n.createElement("div",{className:"text-sm text-gray-500"},Z.email)),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-center"},n.createElement("select",{value:Z.admin_level,onChange:E=>fe(Z.user_id,parseInt(E.target.value)),disabled:Z.user_id===c.id,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm rounded-md disabled:bg-gray-200 disabled:cursor-not-allowed"},n.createElement("option",{value:"1"},vs[1]),n.createElement("option",{value:"2"},vs[2]),n.createElement("option",{value:"3"},vs[3]))),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium"},Z.user_id!==c.id?n.createElement("button",{onClick:()=>Y(Z.user_id,Z.name),className:"text-red-600 hover:text-red-900 focus:outline-none"},""):n.createElement("span",{className:"text-gray-400"},"-")))))))),h.length===0&&n.createElement("p",{className:"text-center text-gray-500 mt-8"},"")):n.createElement("div",null,n.createElement("div",{className:"mb-4"},n.createElement("input",{type:"text",placeholder:"  ",value:B,onChange:Z=>{G(Z.target.value),se(Z.target.value)},className:"w-full p-2 border border-gray-300 rounded-md"})),n.createElement("div",{className:"bg-white shadow-md rounded-lg overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"min-w-full divide-y divide-gray-200"},n.createElement("thead",{className:"bg-gray-100"},n.createElement("tr",null,n.createElement(ie,{columnKey:"name",title:"-",className:"text-left"}),n.createElement(ie,{columnKey:"email",title:"",className:"text-left"}),n.createElement(ie,{columnKey:"roles",title:"",className:"text-left"}),n.createElement("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},""))),n.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},F.map(Z=>n.createElement("tr",{key:Z.id},n.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},n.createElement("span",{onClick:()=>_(Z),className:"cursor-pointer hover:underline text-blue-600 font-medium"},Z.name)),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Z.email),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Z.roles.join(", ")),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-center"},n.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Z.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`},Z.is_active?"":"")),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium space-x-2"},Z.id!==c.id?n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>ye(Z),className:`px-3 py-1 text-xs font-semibold rounded-md transition-colors focus:outline-none ${Z.is_active?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-green-500 text-white hover:bg-green-600"}`},Z.is_active?"":""),n.createElement("button",{onClick:()=>U(Z),className:"px-3 py-1 text-xs font-semibold rounded-md transition-colors bg-red-600 text-white hover:bg-red-700 focus:outline-none"},"")):n.createElement("span",{className:"text-gray-400"},"-")))))))),!g&&Q&&F.length===0&&n.createElement("p",{className:"text-center text-gray-500 mt-8"},""),!g&&!Q&&n.createElement("p",{className:"text-center text-gray-500 mt-8"}," () ")))),n.createElement($y,{isOpen:S,onClose:()=>T(!1),onSuccess:re})))},Ji={LOGIN_SUCCESS:"",LOGOUT:"",CREATE_USER:"",UPDATE_PROFILE:"",UPDATE_PHOTO:"/",DELETE_PHOTO:"",UPDATE_ROLE:"",UPDATE_STATUS:"",DELETE_USER:"",SWITCH_ROLE:"",CREATE_CLASS:"",UPDATE_CLASS:"",DELETE_CLASS:"",PROMOTE_CLASS:"",UNPROMOTE_CLASS:"",CLOSE_CLASS:"",UPDATE_CLOSED_CLASS:"",VIEW_ACTIVITY_LOGS:"",REGISTER_CLASS:"",CANCEL_CLASS_REGISTRATION:"",SUBMIT_EVALUATION:"",SUBMIT_CLASS_REQUEST:"",UPDATE_CLASS_REQUEST:"",DELETE_CLASS_REQUEST:"",APPROVE_CLASS_REQUEST:"",REJECT_CLASS_REQUEST:""},Jy=()=>{const{user:c,activeRole:u,isSwitchingRole:m,authFetch:i}=nt(),f=_t(),[g,v]=d.useState([]),[b,y]=d.useState(!0),[h,w]=d.useState(1),[S,T]=d.useState(!0),[A,D]=d.useState(0),B=25,[G,z]=d.useState(""),[q,k]=d.useState(""),[ae,ee]=d.useState(null),[I,Q]=d.useState(!1);d.useEffect(()=>{c&&u&&u!==""&&!m&&(alert(""),f("/"))},[c,u,f,m]),d.useEffect(()=>{const Y=setTimeout(()=>{w(1),T(!0),M(1,G,q)},500);return()=>{clearTimeout(Y)}},[G,q]),d.useEffect(()=>{h>1&&M(h,G,q)},[h]);const M=d.useCallback(async(Y,ne,ye)=>{y(!0);try{Y===1&&i("https://library.ams.cmu.ac.th/amslibclass/api/log-activity",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:c.id,user_name:c.name,user_email:c.email,action_type:"VIEW_ACTIVITY_LOGS"})}).catch(ie=>console.error("Failed to log activity:",ie));const U=new URLSearchParams({page:Y,limit:B,search:ne,actionType:ye}).toString(),_=await i(`https://library.ams.cmu.ac.th/amslibclass/api/admin/activity-logs?${U}`);if(!_.ok)throw new Error("");const F=await _.json();D(F.total),v(Y===1?F.logs:ie=>[...ie,...F.logs]),(F.logs.length<B||Y*B>=F.total)&&T(!1)}catch(U){console.error("Error fetching activity logs:",U),alert(U.message)}finally{y(!1)}},[i,c]),le=()=>{!b&&S&&w(Y=>Y+1)},se=async Y=>{if(Y)try{y(!0);const ne=await i(`https://library.ams.cmu.ac.th/amslibclass/api/users/${Y}`);if(!ne.ok)throw new Error("");const ye=await ne.json();ee(ye),Q(!0)}catch(ne){alert(ne.message)}finally{y(!1)}},re=Y=>{const ne=Y.details&&typeof Y.details=="string"?JSON.parse(Y.details):Y.details||{};switch(Y.action_type){case"UPDATE_ROLE":return n.createElement(n.Fragment,null," ",ne.target_user||"N/A"," "," ",ne.new_roles?.join(", ")||"N/A");case"UPDATE_STATUS":return n.createElement(n.Fragment,null," ",ne.target_user||"N/A"," "," ",ne.new_status||"N/A");case"DELETE_USER":return n.createElement(n.Fragment,null," ",ne.deleted_user_details?.name||"N/A");case"SWITCH_ROLE":return n.createElement(n.Fragment,null," ",ne.from_role,"  ",ne.to_role);case"UPDATE_CLASS":return n.createElement(n.Fragment,null," ",ne.class_title||"N/A");case"DELETE_CLASS":return n.createElement(n.Fragment,null," ",ne.class_title||"N/A");case"PROMOTE_CLASS":return n.createElement(n.Fragment,null," ID: ",ne.class_id);case"UNPROMOTE_CLASS":return n.createElement(n.Fragment,null," ID: ",ne.class_id);case"CLOSE_CLASS":return n.createElement(n.Fragment,null," ID: ",ne.class_id);case"CREATE_CLASS":return n.createElement(n.Fragment,null,": ",ne.class_title||"N/A");case"REGISTER_CLASS":return n.createElement(n.Fragment,null,": ",ne.class_title||"N/A");case"CANCEL_CLASS_REGISTRATION":return n.createElement(n.Fragment,null,": ",ne.class_title||"N/A");case"SUBMIT_CLASS_REQUEST":return n.createElement(n.Fragment,null,": ",ne.request_title||"N/A");case"UPDATE_CLASS_REQUEST":return n.createElement(n.Fragment,null,": ",ne.request_title||"N/A");case"APPROVE_CLASS_REQUEST":return n.createElement(n.Fragment,null,": ",ne.request_title||"N/A");case"REJECT_CLASS_REQUEST":return n.createElement(n.Fragment,null,": ",ne.request_title||"N/A");default:return Ji[Y.action_type]||Y.action_type}},fe=async()=>{alert(" Export...");try{const Y=new URLSearchParams({search:G,actionType:q}).toString(),ne=await i(`https://library.ams.cmu.ac.th/amslibclass/api/admin/activity-logs/all?${Y}`);if(!ne.ok)throw new Error(" Export ");const ye=await ne.json();if(ye.length===0){alert(" Export");return}const U=["","","","","","IP Address"],_=ye.map(R=>[`"${new Date(R.timestamp).toLocaleString("th-TH")}"`,`"${R.user_name||""}"`,`"${R.user_email||""}"`,`"${Ji[R.action_type]||R.action_type}"`,`"${re(R).replace(/"/g,'""')}"`,`"${R.ip_address||""}"`]),F=[U.join(","),..._.map(R=>R.join(","))].join(`
`),ie=new Blob(["\uFEFF"+F],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a"),E=URL.createObjectURL(ie);Z.setAttribute("href",E),Z.setAttribute("download","activity_logs_export.csv"),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)}catch(Y){console.error("Error exporting CSV:",Y),alert(Y.message)}};return n.createElement("div",{className:"flex h-screen w-screen"},I&&ae&&n.createElement(ou,{isOpen:I,onClose:()=>Q(!1),user:ae}),n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 overflow-y-auto"},n.createElement("div",{className:"flex justify-center items-center gap-x-4 mb-6"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800"},""),n.createElement("button",{onClick:fe,className:"p-2 text-gray-600 rounded-3xl shadow-md hover:bg-gray-100 hover:text-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-all",title:" (CSV)"},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})))),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("input",{type:"text",placeholder:"",value:G,onChange:Y=>z(Y.target.value),className:"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),n.createElement("select",{value:q,onChange:Y=>k(Y.target.value),className:"p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},n.createElement("option",{value:""}," "),Object.entries(Ji).map(([Y,ne])=>n.createElement("option",{key:Y,value:Y},ne)))),n.createElement("div",{className:"text-sm text-gray-600 my-2"}," ",A," "),n.createElement("div",{className:"bg-white p-6 rounded-lg shadow-md"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"min-w-full divide-y divide-gray-200"},n.createElement("thead",{className:"bg-gray-50"},n.createElement("tr",null,n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"IP Address"))),n.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},g.map(Y=>n.createElement("tr",{key:Y.log_id},n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},new Date(Y.timestamp).toLocaleString("th-TH")),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium"},n.createElement("span",{onClick:()=>se(Y.user_id),className:"cursor-pointer hover:underline text-blue-600"},Y.user_name)),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},re(Y)),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Y.ip_address))))),b&&n.createElement("p",{className:"text-center py-4"},"..."),!b&&S&&n.createElement("div",{className:"text-center mt-4"},n.createElement("button",{onClick:le,className:"px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 transition-colors"},"")),!b&&!S&&g.length>0&&g.length>=A&&n.createElement("p",{className:"text-center text-gray-500 py-4"},"--  --"),!b&&g.length===0&&n.createElement("p",{className:"text-center text-gray-500 py-8"},"")))))},Fy=()=>{const{user:c,activeRole:u,isSwitchingRole:m,authFetch:i}=nt(),f=_t(),[g,v]=d.useState([]),[b,y]=d.useState(!0),[h,w]=d.useState(null),[S,T]=d.useState(""),[A,D]=d.useState(!1),[B,G]=d.useState(null),[z,q]=d.useState("");d.useEffect(()=>{c&&u&&u!==""&&!m&&(alert(""),f("/"))},[c,u,f,m]);const k=async()=>{y(!0),w(null);try{const M=await i("https://library.ams.cmu.ac.th/amslibclass/api/admin/topics");if(!M.ok)throw new Error(`HTTP error! status: ${M.status}`);const le=await M.json();v(le)}catch(M){console.error("Error fetching topics:",M),w("")}finally{y(!1)}};d.useEffect(()=>{c&&u===""&&k()},[c,u,i]);const ae=M=>{G(M.id),q(M.title)},ee=async M=>{if(!z.trim()){alert("");return}D(!0);try{const le=await i(`https://library.ams.cmu.ac.th/amslibclass/api/admin/topics/${M}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:z.trim()})});if(!le.ok){const se=await le.json();throw new Error(se.message||"Failed to update topic title.")}G(null),q(""),k(),alert("")}catch(le){console.error("Error saving topic title:",le),alert(`: ${le.message}`)}finally{D(!1)}},I=async(M,le)=>{if(window.confirm(`${le?"":""}?`))try{const se=await i(`https://library.ams.cmu.ac.th/amslibclass/api/admin/topics/${M}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!le})});if(!se.ok){const re=await se.json();throw new Error(re.message||"Failed to update topic status.")}k()}catch(se){console.error("Error toggling topic status:",se),alert(`: ${se.message}`)}},Q=async(M,le)=>{if(window.confirm(` "${le}" ? `)){D(!0);try{const se=await i(`https://library.ams.cmu.ac.th/amslibclass/api/admin/topics/${M}`,{method:"DELETE"});if(!se.ok){const re=await se.json();throw new Error(re.message||"Failed to delete topic.")}k(),alert("")}catch(se){console.error("Error deleting topic:",se),alert(`: ${se.message}`)}finally{D(!1)}}};return b?n.createElement("div",{className:"flex h-screen w-screen"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 flex items-center justify-center"},n.createElement("p",{className:"text-md text-black"},"..."))):h?n.createElement("div",{className:"flex h-screen w-screen"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 flex items-center justify-center text-red-500"},n.createElement("p",{className:"text-md text-black"},h))):n.createElement("div",{className:"flex h-screen w-screen flex-col lg:flex-row"},n.createElement(Nt,null),n.createElement("div",{className:"flex-1 p-8 bg-gray-100 overflow-y-auto"},n.createElement("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-center"},""),n.createElement("div",{className:"bg-white p-6 rounded-lg shadow-md"},g.length===0?n.createElement("p",{className:"text-gray-500 text-center py-4"},""):n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"min-w-full divide-y divide-gray-200"},n.createElement("thead",{className:"bg-gray-50"},n.createElement("tr",null,n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},""),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[150px]"},""),n.createElement("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"},""))),n.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},g.map(M=>n.createElement("tr",{key:M.id},n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},B===M.id?n.createElement(n.Fragment,null,n.createElement("input",{type:"text",value:z,onChange:le=>q(le.target.value),className:"p-1 border border-gray-300 rounded-md w-full",disabled:A})):M.title),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`},M.is_active?"":"")),n.createElement("td",{className:"px-6 py-4 text-sm font-medium flex justify-center items-center gap-2 flex-wrap"},B===M.id?n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>ee(M.id),className:"text-green-600 hover:text-green-800 disabled:text-gray-400",disabled:A},""),n.createElement("button",{onClick:()=>G(null),className:"text-gray-600 hover:text-gray-800",disabled:A},"")):n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>ae(M),className:"text-blue-600 hover:text-blue-800 p-1 rounded-full",title:"",disabled:A},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),n.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))),n.createElement("button",{onClick:()=>I(M.id,M.is_active),className:`p-1 rounded-full ${M.is_active?"text-red-600 hover:text-red-800":"text-green-600 hover:text-green-800"}`,title:M.is_active?"":"",disabled:A},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-5 w-5"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.636 5.636a9 9 0 1012.728 0M12 3v9"}))),n.createElement("button",{onClick:()=>Q(M.id,M.title),className:"text-red-600 hover:text-red-800 p-1 rounded-full",title:"",disabled:A},n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})))))))))))))},Wy=()=>{const[c]=Fh(),u=_t(),{login:m,setNewUserTempData:i}=nt();return d.useEffect(()=>{const f=c.get("token"),g=c.get("temp_token");f?(async y=>{try{const w=y.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),S=decodeURIComponent(atob(w).split("").map(B=>"%"+("00"+B.charCodeAt(0).toString(16)).slice(-2)).join("")),T=JSON.parse(S);let A=T.roles?.[0]||null;const D=Array.isArray(T.roles)&&T.roles.includes("");D&&(A=""),m(T,y,A),D?u("/index",{replace:!0}):u("/classes",{replace:!0})}catch(h){console.error("Permanent login callback failed:",h),u("/login",{replace:!0,state:{error:"Authentication failed."}})}})(f):g?(y=>{try{const h=JSON.parse(atob(y.split(".")[1]));i(h,y),u("/index",{replace:!0})}catch(h){console.error("Temporary login callback failed:",h),u("/login",{replace:!0,state:{error:"Invalid temporary token."}})}})(g):u("/login",{replace:!0,state:{error:"Invalid login attempt."}})},[c,u,m]),n.createElement("div",null,"...")},Iy=["","","/",""],Py=({isOpen:c,user:u,onSubmit:m,isSubmitting:i})=>{const[f,g]=d.useState({name:"",email:"",roles:[],phone:"",pdpa:!1}),[v,b]=d.useState({}),[y,h]=d.useState(!1);if(d.useEffect(()=>{u&&(g({name:u.name||"",email:u.email||"",roles:[],phone:u.phone||"",pdpa:!!u.pdpa}),h(!1))},[u]),!c)return null;const w=()=>{const D={};return y&&!f.name.trim()&&(D.name="-"),f.roles.length===0&&(D.roles=" 1 "),f.phone.trim()||(D.phone=""),/^\d{9,10}$/.test(f.phone)||(D.phone=" (9-10 )"),f.pdpa||(D.pdpa=" PDPA"),b(D),Object.keys(D).length===0},S=D=>{const{name:B,value:G,type:z,checked:q}=D.target;g(k=>({...k,[B]:z==="checkbox"?q:G}))},T=D=>{g(B=>({...B,roles:[D]}))},A=D=>{if(D.preventDefault(),w()){const B={...f,name:y?f.name:u.name,name_updated_by_user:y};m(B)}};return n.createElement("div",{className:"fixed inset-0 flex bg-white/85 justify-center items-center z-50 p-4 border"},n.createElement("div",{className:"bg-white rounded-lg border border-gray-100 shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto"},n.createElement("form",{onSubmit:A},n.createElement("div",{className:"p-6"},n.createElement("img",{src:uu,alt:"AMS Library Logo",className:"mx-auto mb-4",width:150}),n.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-2 text-center"},""),n.createElement("p",{className:"text-center text-gray-600 mb-6"},""),n.createElement("div",{className:"space-y-4"},n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},""),n.createElement("input",{name:"email",value:f.email,className:"w-full border px-4 py-2 rounded bg-gray-200",disabled:!0})),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},"-"),n.createElement("input",{value:u?.name||"",className:"w-full border px-4 py-2 rounded bg-gray-200 cursor-not-allowed",disabled:!0})),n.createElement("div",{className:"pl-1"},n.createElement("label",{className:"flex items-center space-x-2 text-sm text-gray-600 cursor-pointer"},n.createElement("input",{type:"checkbox",checked:y,onChange:D=>h(D.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500"}),n.createElement("span",null,""))),y&&n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"},"- ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{name:"name",value:f.name,onChange:S,className:"w-full border px-4 py-2 rounded",placeholder:"-"}),v.name&&n.createElement("p",{className:"text-red-500 text-sm mt-1"},v.name)),n.createElement("div",null,n.createElement("label",{className:"block font-medium"}," ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("div",{className:"grid grid-cols-2 mt-2"},Iy.map(D=>n.createElement("label",{key:D,className:"flex items-center space-x-2 p-2 rounded-md has-[:checked]:bg-purple-50 has-[:checked]:border-purple-400"},n.createElement("input",{type:"radio",name:"role",checked:f.roles.includes(D),onChange:()=>T(D),className:"h-4 w-4 text-purple-600 focus:ring-purple-500"}),n.createElement("span",null,D)))),v.roles&&n.createElement("p",{className:"text-red-500 text-sm mt-1"},v.roles)),n.createElement("div",null,n.createElement("label",{className:"block font-medium mb-1"}," ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{name:"phone",value:f.phone,onChange:S,className:"w-full border px-4 py-2 rounded",placeholder:" 9-10 "}),v.phone&&n.createElement("p",{className:"text-red-500 text-sm mt-1"},v.phone)),n.createElement("div",null,n.createElement("label",{className:"flex items-start space-x-3"},n.createElement("input",{type:"checkbox",name:"pdpa",checked:f.pdpa,onChange:S,className:"h-5 w-5 mt-1 text-purple-600 focus:ring-purple-500"}),n.createElement("span",{className:"text-gray-700"},"")),v.pdpa&&n.createElement("p",{className:"text-red-500 text-sm mt-1"},v.pdpa)))),n.createElement("div",{className:"bg-gray-50 px-6 py-4 flex justify-end"},n.createElement("button",{type:"submit",disabled:i,className:"mx-auto my-2 bg-purple-600 text-white font-bold py-2 px-6 rounded-lg shadow hover:bg-purple-700 transition-all disabled:bg-gray-400 disabled:cursor-wait"},i?"...":"")))))};function ev(){const{user:c,loading:u}=nt();return u?n.createElement("div",null,"Loading..."):c?n.createElement(Eh,null):n.createElement(Yd,{to:"/login",replace:!0})}function tv(){const{user:c,authFetch:u,login:m,newUserTempData:i,clearNewUserTempData:f}=nt(),g=_t(),[v,b]=d.useState(!1),[y,h]=d.useState(!1);d.useEffect(()=>{i||c&&!c.profile_completed?b(!0):b(!1)},[c,i]);const w=async S=>{h(!0);try{let T,A;if(i&&i.tempToken){if(T=await fetch("https://library.ams.cmu.ac.th/amslibclass/api/auth/complete-registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,temp_token:i.tempToken})}),!T.ok){const G=await T.json();throw new Error(G.message||"Failed to complete registration")}const{user:D,token:B}=await T.json();A=D,m(D,B),b(!1),f()}else if(c){const D={...S,original_name:c.name};if(T=await u("https://library.ams.cmu.ac.th/amslibclass/api/users/update-profile",{method:"PUT",body:D}),!T.ok){const z=await T.json();throw new Error(z.message||"Failed to update profile")}const{user:B,token:G}=await T.json();A=B,m(B,G),b(!1)}else throw new Error("No user session or temporary token found.");Array.isArray(A?.roles)&&A?.roles.includes("")?g("/index",{replace:!0}):g("/classes",{replace:!0})}catch(T){console.error("Profile update error:",T),alert(`: ${T.message}`)}finally{h(!1)}};return n.createElement(n.Fragment,null,n.createElement(Py,{isOpen:v,user:c||i,onSubmit:w,isSubmitting:y}),n.createElement(xh,null,n.createElement(ht,{path:"/login-callback",element:n.createElement(Wy,null)}),n.createElement(ht,{path:"/login",element:n.createElement(ny,null)}),n.createElement(ht,{element:n.createElement(ev,null)},n.createElement(ht,{path:"/index",element:n.createElement(fy,null)}),n.createElement(ht,{path:"/creations",element:n.createElement(dy,null)}),n.createElement(ht,{path:"/classes",element:n.createElement(gy,null)}),n.createElement(ht,{path:"/statistics",element:n.createElement(Hy,null)}),n.createElement(ht,{path:"/past-classes",element:n.createElement(qy,null)}),n.createElement(ht,{path:"/class-request",element:n.createElement(Yy,null)}),n.createElement(ht,{path:"/admin/class-requests",element:n.createElement(Zy,null)}),n.createElement(ht,{path:"/topic-management",element:n.createElement(Fy,null)}),n.createElement(ht,{path:"/user-management",element:n.createElement(Ky,null)}),n.createElement(ht,{path:"/activity-logs",element:n.createElement(Jy,null)}),n.createElement(ht,{path:"/",element:n.createElement(Yd,{to:"/index",replace:!0})}))))}function av(){return n.createElement(ay,null,n.createElement(Xh,{basename:"/amslibclass/".replace(/\/$/,"")||"/"},n.createElement(tv,null)))}Ag.createRoot(document.getElementById("root")).render(n.createElement(n.StrictMode,null,n.createElement(av,null)));
